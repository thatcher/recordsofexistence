if(!("console" in window)||!("firebug" in console)){(function(){window.console={log:function(){logFormatted(arguments,"")},debug:function(){logFormatted(arguments,"debug")},info:function(){logFormatted(arguments,"info")},warn:function(){logFormatted(arguments,"warning")},error:function(){logFormatted(arguments,"error")},assert:function(truth,message){if(!truth){var args=[];for(var i=1;i<arguments.length;++i){args.push(arguments[i])}logFormatted(args.length?args:["Assertion Failure"],"error");throw message?message:"Assertion Failure"}},dir:function(object){var html=[];var pairs=[];for(var name in object){try{pairs.push([name,object[name]])}catch(exc){}}pairs.sort(function(a,b){return a[0]<b[0]?-1:1});html.push("<table>");for(var i=0;i<pairs.length;++i){var name=pairs[i][0],value=pairs[i][1];html.push("<tr>",'<td class="propertyNameCell"><span class="propertyName">',escapeHTML(name),"</span></td>",'<td><span class="propertyValue">');appendObject(value,html);html.push("</span></td></tr>")}html.push("</table>");logRow(html,"dir")},dirxml:function(node){var html=[];appendNode(node,html);logRow(html,"dirxml")},group:function(){logRow(arguments,"group",pushGroup)},groupEnd:function(){logRow(arguments,"",popGroup)},time:function(name){timeMap[name]=(new Date()).getTime()},timeEnd:function(name){if(name in timeMap){var delta=(new Date()).getTime()-timeMap[name];logFormatted([name+":",delta+"ms"]);delete timeMap[name]}},count:function(){this.warn(["count() not supported."])},trace:function(){this.warn(["trace() not supported."])},profile:function(){this.warn(["profile() not supported."])},profileEnd:function(){},clear:function(){consoleBody.innerHTML=""},open:function(){toggleConsole(true)},close:function(){if(frameVisible){toggleConsole()}}};var consoleFrame=null;var consoleBody=null;var commandLine=null;var frameVisible=false;var messageQueue=[];var groupStack=[];var timeMap={};var clPrefix=">>> ";var isFirefox=navigator.userAgent.indexOf("Firefox")!=-1;var isIE=navigator.userAgent.indexOf("MSIE")!=-1;var isOpera=navigator.userAgent.indexOf("Opera")!=-1;var isSafari=navigator.userAgent.indexOf("AppleWebKit")!=-1;function toggleConsole(forceOpen){frameVisible=forceOpen||!frameVisible;if(consoleFrame){consoleFrame.style.visibility=frameVisible?"visible":"hidden"}else{waitForBody()}}function focusCommandLine(){toggleConsole(true);if(commandLine){commandLine.focus()}}function waitForBody(){if(document.body){createFrame()}else{setTimeout(waitForBody,200)}}function createFrame(){if(consoleFrame){return}window.onFirebugReady=function(doc){window.onFirebugReady=null;var toolbar=doc.getElementById("toolbar");toolbar.onmousedown=onSplitterMouseDown;commandLine=doc.getElementById("commandLine");addEvent(commandLine,"keydown",onCommandLineKeyDown);addEvent(doc,isIE||isSafari?"keydown":"keypress",onKeyDown);consoleBody=doc.getElementById("log");layout();flush()};var baseURL=getFirebugURL();consoleFrame=document.createElement("iframe");consoleFrame.setAttribute("src",baseURL+"/firebug.html");consoleFrame.setAttribute("frameBorder","0");consoleFrame.style.visibility=(frameVisible?"visible":"hidden");consoleFrame.style.zIndex="2147483647";consoleFrame.style.position="fixed";consoleFrame.style.width="100%";consoleFrame.style.left="0";consoleFrame.style.bottom="0";consoleFrame.style.height="200px";document.body.appendChild(consoleFrame)}function getFirebugURL(){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;++i){if(scripts[i].src.indexOf("firebug.js")!=-1){var lastSlash=scripts[i].src.lastIndexOf("/");return scripts[i].src.substr(0,lastSlash)}}}function evalCommandLine(){var text=commandLine.value;commandLine.value="";logRow([clPrefix,text],"command");var value;try{value=eval(text)}catch(exc){}console.log(value)}function layout(){var toolbar=consoleBody.ownerDocument.getElementById("toolbar");var height=consoleFrame.offsetHeight-(toolbar.offsetHeight+commandLine.offsetHeight);consoleBody.style.top=toolbar.offsetHeight+"px";consoleBody.style.height=height+"px";commandLine.style.top=(consoleFrame.offsetHeight-commandLine.offsetHeight)+"px"}function logRow(message,className,handler){if(consoleBody){writeMessage(message,className,handler)}else{messageQueue.push([message,className,handler]);waitForBody()}}function flush(){var queue=messageQueue;messageQueue=[];for(var i=0;i<queue.length;++i){writeMessage(queue[i][0],queue[i][1],queue[i][2])}}function writeMessage(message,className,handler){var isScrolledToBottom=consoleBody.scrollTop+consoleBody.offsetHeight>=consoleBody.scrollHeight;if(!handler){handler=writeRow}handler(message,className);if(isScrolledToBottom){consoleBody.scrollTop=consoleBody.scrollHeight-consoleBody.offsetHeight}}function appendRow(row){var container=groupStack.length?groupStack[groupStack.length-1]:consoleBody;container.appendChild(row)}function writeRow(message,className){var row=consoleBody.ownerDocument.createElement("div");row.className="logRow"+(className?" logRow-"+className:"");row.innerHTML=message.join("");appendRow(row)}function pushGroup(message,className){logFormatted(message,className);var groupRow=consoleBody.ownerDocument.createElement("div");groupRow.className="logGroup";var groupRowBox=consoleBody.ownerDocument.createElement("div");groupRowBox.className="logGroupBox";groupRow.appendChild(groupRowBox);appendRow(groupRowBox);groupStack.push(groupRowBox)}function popGroup(){groupStack.pop()}function logFormatted(objects,className){var html=[];var format=objects[0];var objIndex=0;if(typeof(format)!="string"){format="";objIndex=-1}var parts=parseFormat(format);for(var i=0;i<parts.length;++i){var part=parts[i];if(part&&typeof(part)=="object"){var object=objects[++objIndex];part.appender(object,html)}else{appendText(part,html)}}for(var i=objIndex+1;i<objects.length;++i){appendText(" ",html);var object=objects[i];if(typeof(object)=="string"){appendText(object,html)}else{appendObject(object,html)}}logRow(html,className)}function parseFormat(format){var parts=[];var reg=/((^%|[^\\]%)(\d+)?(\.)([a-zA-Z]))|((^%|[^\\]%)([a-zA-Z]))/;var appenderMap={s:appendText,d:appendInteger,i:appendInteger,f:appendFloat};for(var m=reg.exec(format);m;m=reg.exec(format)){var type=m[8]?m[8]:m[5];var appender=type in appenderMap?appenderMap[type]:appendObject;var precision=m[3]?parseInt(m[3]):(m[4]=="."?-1:0);parts.push(format.substr(0,m[0][0]=="%"?m.index:m.index+1));parts.push({appender:appender,precision:precision});format=format.substr(m.index+m[0].length)}parts.push(format);return parts}function escapeHTML(value){function replaceChars(ch){switch(ch){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&#39;";case'"':return"&quot;"}return"?"}return String(value).replace(/[<>&"']/g,replaceChars)}function objectToString(object){try{return object+""}catch(exc){return null}}function appendText(object,html){html.push(escapeHTML(objectToString(object)))}function appendNull(object,html){html.push('<span class="objectBox-null">',escapeHTML(objectToString(object)),"</span>")}function appendString(object,html){html.push('<span class="objectBox-string">&quot;',escapeHTML(objectToString(object)),"&quot;</span>")}function appendInteger(object,html){html.push('<span class="objectBox-number">',escapeHTML(objectToString(object)),"</span>")}function appendFloat(object,html){html.push('<span class="objectBox-number">',escapeHTML(objectToString(object)),"</span>")}function appendFunction(object,html){var reName=/function ?(.*?)\(/;var m=reName.exec(objectToString(object));var name=m?m[1]:"function";html.push('<span class="objectBox-function">',escapeHTML(name),"()</span>")}function appendObject(object,html){try{if(object==undefined){appendNull("undefined",html)}else{if(object==null){appendNull("null",html)}else{if(typeof object=="string"){appendString(object,html)}else{if(typeof object=="number"){appendInteger(object,html)}else{if(typeof object=="function"){appendFunction(object,html)}else{if(object.nodeType==1){appendSelector(object,html)
}else{if(typeof object=="object"){appendObjectFormatted(object,html)}else{appendText(object,html)}}}}}}}}catch(exc){}}function appendObjectFormatted(object,html){var text=objectToString(object);var reObject=/\[object (.*?)\]/;var m=reObject.exec(text);html.push('<span class="objectBox-object">',m?m[1]:text,"</span>")}function appendSelector(object,html){html.push('<span class="objectBox-selector">');html.push('<span class="selectorTag">',escapeHTML(object.nodeName.toLowerCase()),"</span>");if(object.id){html.push('<span class="selectorId">#',escapeHTML(object.id),"</span>")}if(object.className){html.push('<span class="selectorClass">.',escapeHTML(object.className),"</span>")}html.push("</span>")}function appendNode(node,html){if(node.nodeType==1){html.push('<div class="objectBox-element">','&lt;<span class="nodeTag">',node.nodeName.toLowerCase(),"</span>");for(var i=0;i<node.attributes.length;++i){var attr=node.attributes[i];if(!attr.specified){continue}html.push('&nbsp;<span class="nodeName">',attr.nodeName.toLowerCase(),'</span>=&quot;<span class="nodeValue">',escapeHTML(attr.nodeValue),"</span>&quot;")}if(node.firstChild){html.push('&gt;</div><div class="nodeChildren">');for(var child=node.firstChild;child;child=child.nextSibling){appendNode(child,html)}html.push('</div><div class="objectBox-element">&lt;/<span class="nodeTag">',node.nodeName.toLowerCase(),"&gt;</span></div>")}else{html.push("/&gt;</div>")}}else{if(node.nodeType==3){html.push('<div class="nodeText">',escapeHTML(node.nodeValue),"</div>")}}}function addEvent(object,name,handler){if(document.all){object.attachEvent("on"+name,handler)}else{object.addEventListener(name,handler,false)}}function removeEvent(object,name,handler){if(document.all){object.detachEvent("on"+name,handler)}else{object.removeEventListener(name,handler,false)}}function cancelEvent(event){if(document.all){event.cancelBubble=true}else{event.stopPropagation()}}function onError(msg,href,lineNo){var html=[];var lastSlash=href.lastIndexOf("/");var fileName=lastSlash==-1?href:href.substr(lastSlash+1);html.push('<span class="errorMessage">',msg,"</span>",'<div class="objectBox-sourceLink">',fileName," (line ",lineNo,")</div>");logRow(html,"error")}function onKeyDown(event){if(event.keyCode==123){toggleConsole()}else{if((event.keyCode==108||event.keyCode==76)&&event.shiftKey&&(event.metaKey||event.ctrlKey)){focusCommandLine()}else{return}}cancelEvent(event)}function onSplitterMouseDown(event){if(isSafari||isOpera){return}addEvent(document,"mousemove",onSplitterMouseMove);addEvent(document,"mouseup",onSplitterMouseUp);for(var i=0;i<frames.length;++i){addEvent(frames[i].document,"mousemove",onSplitterMouseMove);addEvent(frames[i].document,"mouseup",onSplitterMouseUp)}}function onSplitterMouseMove(event){var win=document.all?event.srcElement.ownerDocument.parentWindow:event.target.ownerDocument.defaultView;var clientY=event.clientY;if(win!=win.parent){clientY+=win.frameElement?win.frameElement.offsetTop:0}var height=consoleFrame.offsetTop+consoleFrame.clientHeight;var y=height-clientY;consoleFrame.style.height=y+"px";layout()}function onSplitterMouseUp(event){removeEvent(document,"mousemove",onSplitterMouseMove);removeEvent(document,"mouseup",onSplitterMouseUp);for(var i=0;i<frames.length;++i){removeEvent(frames[i].document,"mousemove",onSplitterMouseMove);removeEvent(frames[i].document,"mouseup",onSplitterMouseUp)}}function onCommandLineKeyDown(event){if(event.keyCode==13){evalCommandLine()}else{if(event.keyCode==27){commandLine.value=""}}}window.onerror=onError;addEvent(document,isIE||isSafari?"keydown":"keypress",onKeyDown);if(document.documentElement.getAttribute("debug")=="true"){toggleConsole(true)}})();
/*
 * jQuery JavaScript Library v1.4.2
 * http://jquery.com/
 *
 * Copyright 2010, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2010, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Sat Feb 13 22:33:48 2010 -0500
 */
}(function(window,undefined){var jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},_jQuery=window.jQuery,_$=window.$,document=window.document,rootjQuery,quickExpr=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,isSimple=/^.[^:#\[\.,]*$/,rnotwhite=/\S/,rtrim=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,userAgent=navigator.userAgent,browserMatch,readyBound=false,readyList=[],DOMContentLoaded,toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,indexOf=Array.prototype.indexOf;jQuery.fn=jQuery.prototype={init:function(selector,context){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(selector==="body"&&!context){this.context=document;this[0]=document.body;this.selector="body";this.length=1;return this}if(typeof selector==="string"){match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1]){doc=(context?context.ownerDocument||context:document);ret=rsingleTag.exec(selector);if(ret){if(jQuery.isPlainObject(context)){selector=[document.createElement(ret[1])];jQuery.fn.attr.call(selector,context,true)}else{selector=[doc.createElement(ret[1])]}}else{ret=buildFragment([match[1]],[doc]);selector=(ret.cacheable?ret.fragment.cloneNode(true):ret.fragment).childNodes}return jQuery.merge(this,selector)}else{elem=document.getElementById(match[2]);if(elem){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context&&/^\w+$/.test(selector)){this.selector=selector;this.context=document;selector=document.getElementsByTagName(selector);return jQuery.merge(this,selector)}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return jQuery(context).find(selector)}}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return num==null?this.toArray():(num<0?this.slice(num)[0]:this[num])},pushStack:function(elems,name,selector){var ret=jQuery();if(jQuery.isArray(elems)){push.apply(ret,elems)}else{jQuery.merge(ret,elems)}ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")"}}return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.bindReady();if(jQuery.isReady){fn.call(document,jQuery)}else{if(readyList){readyList.push(fn)}}return this},eq:function(i){return i===-1?this.slice(i):this.slice(i,+i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||jQuery(null)},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options,name,src,copy;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||jQuery.isArray(copy))){var clone=src&&(jQuery.isPlainObject(src)||jQuery.isArray(src))?src:jQuery.isArray(copy)?[]:{};
target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({noConflict:function(deep){window.$=_$;if(deep){window.jQuery=_jQuery}return jQuery},isReady:false,ready:function(){if(!jQuery.isReady){if(!document.body){return setTimeout(jQuery.ready,13)}jQuery.isReady=true;if(readyList){var fn,i=0;while((fn=readyList[i++])){fn.call(document,jQuery)}readyList=null}if(jQuery.fn.triggerHandler){jQuery(document).triggerHandler("ready")}}},bindReady:function(){if(readyBound){return}readyBound=true;if(document.readyState==="complete"){return jQuery.ready()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(document.documentElement.doScroll&&toplevel){doScrollCheck()}}}},isFunction:function(obj){return toString.call(obj)==="[object Function]"},isArray:function(obj){return toString.call(obj)==="[object Array]"},isPlainObject:function(obj){if(!obj||toString.call(obj)!=="[object Object]"||obj.nodeType||obj.setInterval){return false}if(obj.constructor&&!hasOwnProperty.call(obj,"constructor")&&!hasOwnProperty.call(obj.constructor.prototype,"isPrototypeOf")){return false}var key;for(key in obj){}return key===undefined||hasOwnProperty.call(obj,key)},isEmptyObject:function(obj){for(var name in obj){return false}return true},error:function(msg){throw msg},parseJSON:function(data){if(typeof data!=="string"||!data){return null}data=jQuery.trim(data);if(/^[\],:{}\s]*$/.test(data.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){return window.JSON&&window.JSON.parse?window.JSON.parse(data):(new Function("return "+data))()}else{jQuery.error("Invalid JSON: "+data)}},noop:function(){},globalEval:function(data){if(data&&rnotwhite.test(data)){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");script.type="text/javascript";if(jQuery.support.scriptEval){script.appendChild(document.createTextNode(data))}else{script.text=data}head.insertBefore(script,head.firstChild);head.removeChild(script)}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(var value=object[0];i<length&&callback.call(value,i,value)!==false;value=object[++i]){}}}return object},trim:function(text){return(text||"").replace(rtrim,"")},makeArray:function(array,results){var ret=results||[];if(array!=null){if(array.length==null||typeof array==="string"||jQuery.isFunction(array)||(typeof array!=="function"&&array.setInterval)){push.call(ret,array)}else{jQuery.merge(ret,array)}}return ret},inArray:function(elem,array){if(array.indexOf){return array.indexOf(elem)}for(var i=0,length=array.length;i<length;i++){if(array[i]===elem){return i}}return -1},merge:function(first,second){var i=first.length,j=0;if(typeof second.length==="number"){for(var l=second.length;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,inv){var ret=[];for(var i=0,length=elems.length;i<length;i++){if(!inv!==!callback(elems[i],i)){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var ret=[],value;for(var i=0,length=elems.length;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}return ret.concat.apply([],ret)},guid:1,proxy:function(fn,proxy,thisObject){if(arguments.length===2){if(typeof proxy==="string"){thisObject=fn;fn=thisObject[proxy];proxy=undefined}else{if(proxy&&!jQuery.isFunction(proxy)){thisObject=proxy;proxy=undefined}}}if(!proxy&&fn){proxy=function(){return fn.apply(thisObject||this,arguments)}}if(fn){proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++}return proxy},uaMatch:function(ua){ua=ua.toLowerCase();var match=/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||!/compatible/.test(ua)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},browser:{}});browserMatch=jQuery.uaMatch(userAgent);if(browserMatch.browser){jQuery.browser[browserMatch.browser]=true;jQuery.browser.version=browserMatch.version}if(jQuery.browser.webkit){jQuery.browser.safari=true}if(indexOf){jQuery.inArray=function(elem,array){return indexOf.call(array,elem)}}rootjQuery=jQuery(document);if(document.addEventListener){DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready()}}else{if(document.attachEvent){DOMContentLoaded=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}}}}function doScrollCheck(){if(jQuery.isReady){return}try{document.documentElement.doScroll("left")}catch(error){setTimeout(doScrollCheck,1);return}jQuery.ready()}function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"")}if(elem.parentNode){elem.parentNode.removeChild(elem)}}function access(elems,key,value,exec,fn,pass){var length=elems.length;if(typeof key==="object"){for(var k in key){access(elems,k,key[k],exec,fn,value)}return elems}if(value!==undefined){exec=!pass&&exec&&jQuery.isFunction(value);for(var i=0;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass)}return elems}return length?fn(elems[0],key):undefined}function now(){return(new Date).getTime()}(function(){jQuery.support={};var root=document.documentElement,script=document.createElement("script"),div=document.createElement("div"),id="script"+now();div.style.display="none";div.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var all=div.getElementsByTagName("*"),a=div.getElementsByTagName("a")[0];if(!all||!all.length||!a){return}jQuery.support={leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/red/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.55$/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:div.getElementsByTagName("input")[0].value==="on",optSelected:document.createElement("select").appendChild(document.createElement("option")).selected,parentNode:div.removeChild(div.appendChild(document.createElement("div"))).parentNode===null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};script.type="text/javascript";try{script.appendChild(document.createTextNode("window."+id+"=1;"))}catch(e){}root.insertBefore(script,root.firstChild);if(window[id]){jQuery.support.scriptEval=true;delete window[id]}try{delete script.test}catch(e){jQuery.support.deleteExpando=false}root.removeChild(script);if(div.attachEvent&&div.fireEvent){div.attachEvent("onclick",function click(){jQuery.support.noCloneEvent=false;div.detachEvent("onclick",click)});div.cloneNode(true).fireEvent("onclick")}div=document.createElement("div");div.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";var fragment=document.createDocumentFragment();fragment.appendChild(div.firstChild);jQuery.support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;
jQuery(function(){var div=document.createElement("div");div.style.width=div.style.paddingLeft="1px";document.body.appendChild(div);jQuery.boxModel=jQuery.support.boxModel=div.offsetWidth===2;document.body.removeChild(div).style.display="none";div=null});var eventSupported=function(eventName){var el=document.createElement("div");eventName="on"+eventName;var isSupported=(eventName in el);if(!isSupported){el.setAttribute(eventName,"return;");isSupported=typeof el[eventName]==="function"}el=null;return isSupported};jQuery.support.submitBubbles=eventSupported("submit");jQuery.support.changeBubbles=eventSupported("change");root=script=div=all=a=null})();jQuery.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var expando="jQuery"+now(),uuid=0,windowData={};jQuery.extend({cache:{},expando:expando,noData:{embed:true,object:true,applet:true},data:function(elem,name,data){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){return}elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache;if(!id&&typeof name==="string"&&data===undefined){return null}if(!id){id=++uuid}if(typeof name==="object"){elem[expando]=id;thisCache=cache[id]=jQuery.extend(true,{},name)}else{if(!cache[id]){elem[expando]=id;cache[id]={}}}thisCache=cache[id];if(data!==undefined){thisCache[name]=data}return typeof name==="string"?thisCache[name]:thisCache},removeData:function(elem,name){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){return}elem=elem==window?windowData:elem;var id=elem[expando],cache=jQuery.cache,thisCache=cache[id];if(name){if(thisCache){delete thisCache[name];if(jQuery.isEmptyObject(thisCache)){jQuery.removeData(elem)}}}else{if(jQuery.support.deleteExpando){delete elem[jQuery.expando]}else{if(elem.removeAttribute){elem.removeAttribute(jQuery.expando)}}delete cache[id]}}});jQuery.fn.extend({data:function(key,value){if(typeof key==="undefined"&&this.length){return jQuery.data(this[0])}else{if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}}var parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key)}return data===undefined&&parts[1]?this.data(parts[0]):data}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});jQuery.extend({queue:function(elem,type,data){if(!elem){return}type=(type||"fx")+"queue";var q=jQuery.data(elem,type);if(!data){return q||[]}if(!q||jQuery.isArray(data)){q=jQuery.data(elem,type,jQuery.makeArray(data))}else{q.push(data)}return q},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift();if(fn==="inprogress"){fn=queue.shift()}if(fn){if(type==="fx"){queue.unshift("inprogress")}fn.call(elem,function(){jQuery.dequeue(elem,type)})}}});jQuery.fn.extend({queue:function(type,data){if(typeof type!=="string"){data=type;type="fx"}if(data===undefined){return jQuery.queue(this[0],type)}return this.each(function(i,elem){var queue=jQuery.queue(this,type,data);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(){var elem=this;setTimeout(function(){jQuery.dequeue(elem,type)},time)})},clearQueue:function(type){return this.queue(type||"fx",[])}});var rclass=/[\n\t]/g,rspace=/\s+/,rreturn=/\r/g,rspecialurl=/href|src|style/,rtype=/(button|input)/i,rfocusable=/(button|input|object|select|textarea)/i,rclickable=/^(a|area)$/i,rradiocheck=/radio|checkbox/;jQuery.fn.extend({attr:function(name,value){return access(this,name,value,true,jQuery.attr)},removeAttr:function(name,fn){return this.each(function(){jQuery.attr(this,name,"");if(this.nodeType===1){this.removeAttribute(name)}})},addClass:function(value){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.addClass(value.call(this,i,self.attr("class")))})}if(value&&typeof value==="string"){var classNames=(value||"").split(rspace);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1){if(!elem.className){elem.className=value}else{var className=" "+elem.className+" ",setClass=elem.className;for(var c=0,cl=classNames.length;c<cl;c++){if(className.indexOf(" "+classNames[c]+" ")<0){setClass+=" "+classNames[c]}}elem.className=jQuery.trim(setClass)}}}}return this},removeClass:function(value){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.removeClass(value.call(this,i,self.attr("class")))})}if((value&&typeof value==="string")||value===undefined){var classNames=(value||"").split(rspace);for(var i=0,l=this.length;i<l;i++){var elem=this[i];if(elem.nodeType===1&&elem.className){if(value){var className=(" "+elem.className+" ").replace(rclass," ");for(var c=0,cl=classNames.length;c<cl;c++){className=className.replace(" "+classNames[c]+" "," ")}elem.className=jQuery.trim(className)}else{elem.className=""}}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);self.toggleClass(value.call(this,i,self.attr("class"),stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery.data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery.data(this,"__className__")||""}}})},hasClass:function(selector){var className=" "+selector+" ";for(var i=0,l=this.length;i<l;i++){if((" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1){return true}}return false},val:function(value){if(value===undefined){var elem=this[0];if(elem){if(jQuery.nodeName(elem,"option")){return(elem.attributes.value||{}).specified?elem.value:elem.text}if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";if(index<0){return null}for(var i=one?index:0,max=one?index+1:options.length;i<max;i++){var option=options[i];if(option.selected){value=jQuery(option).val();if(one){return value}values.push(value)}}return values}if(rradiocheck.test(elem.type)&&!jQuery.support.checkOn){return elem.getAttribute("value")===null?"on":elem.value}return(elem.value||"").replace(rreturn,"")}return undefined}var isFunction=jQuery.isFunction(value);return this.each(function(i){var self=jQuery(this),val=value;if(this.nodeType!==1){return}if(isFunction){val=value.call(this,i,self.val())}if(typeof val==="number"){val+=""}if(jQuery.isArray(val)&&rradiocheck.test(this.type)){this.checked=jQuery.inArray(self.val(),val)>=0}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(val);jQuery("option",this).each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length){this.selectedIndex=-1}}else{this.value=val}}})}});jQuery.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(elem,name,value,pass){if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}if(pass&&name in jQuery.attrFn){return jQuery(elem)[name](value)}var notxml=elem.nodeType!==1||!jQuery.isXMLDoc(elem),set=value!==undefined;name=notxml&&jQuery.props[name]||name;if(elem.nodeType===1){var special=rspecialurl.test(name);if(name==="selected"&&!jQuery.support.optSelected){var parent=elem.parentNode;
if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}}if(name in elem&&notxml&&!special){if(set){if(name==="type"&&rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed")}elem[name]=value}if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue}if(name==="tabIndex"){var attributeNode=elem.getAttributeNode("tabIndex");return attributeNode&&attributeNode.specified?attributeNode.value:rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}return elem[name]}if(!jQuery.support.style&&notxml&&name==="style"){if(set){elem.style.cssText=""+value}return elem.style.cssText}if(set){elem.setAttribute(name,""+value)}var attr=!jQuery.support.hrefNormalized&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);return attr===null?undefined:attr}return jQuery.style(elem,name,value)}});var rnamespaces=/\.(.*)$/,fcleanup=function(nm){return nm.replace(/[^\w\s\.\|`]/g,function(ch){return"\\"+ch})};jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType===3||elem.nodeType===8){return}if(elem.setInterval&&(elem!==window&&!elem.frameElement)){elem=window}var handleObjIn,handleObj;if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler}if(!handler.guid){handler.guid=jQuery.guid++}var elemData=jQuery.data(elem);if(!elemData){return}var events=elemData.events=elemData.events||{},eventHandle=elemData.handle,eventHandle;if(!eventHandle){elemData.handle=eventHandle=function(){return typeof jQuery!=="undefined"&&!jQuery.event.triggered?jQuery.event.handle.apply(eventHandle.elem,arguments):undefined}}eventHandle.elem=elem;types=types.split(" ");var type,i=0,namespaces;while((type=types[i++])){handleObj=handleObjIn?jQuery.extend({},handleObjIn):{handler:handler,data:data};if(type.indexOf(".")>-1){namespaces=type.split(".");type=namespaces.shift();handleObj.namespace=namespaces.slice(0).sort().join(".")}else{namespaces=[];handleObj.namespace=""}handleObj.type=type;handleObj.guid=handler.guid;var handlers=events[type],special=jQuery.event.special[type]||{};if(!handlers){handlers=events[type]=[];if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}handlers.push(handleObj);jQuery.event.global[type]=true}elem=null},global:{},remove:function(elem,types,handler,pos){if(elem.nodeType===3||elem.nodeType===8){return}var ret,type,fn,i=0,all,namespaces,namespace,special,eventType,handleObj,origType,elemData=jQuery.data(elem),events=elemData&&elemData.events;if(!elemData||!events){return}if(types&&types.type){handler=types.handler;types=types.type}if(!types||typeof types==="string"&&types.charAt(0)==="."){types=types||"";for(type in events){jQuery.event.remove(elem,type+types)}return}types=types.split(" ");while((type=types[i++])){origType=type;handleObj=null;all=type.indexOf(".")<0;namespaces=[];if(!all){namespaces=type.split(".");type=namespaces.shift();namespace=new RegExp("(^|\\.)"+jQuery.map(namespaces.slice(0).sort(),fcleanup).join("\\.(?:.*\\.)?")+"(\\.|$)")}eventType=events[type];if(!eventType){continue}if(!handler){for(var j=0;j<eventType.length;j++){handleObj=eventType[j];if(all||namespace.test(handleObj.namespace)){jQuery.event.remove(elem,origType,handleObj.handler,j);eventType.splice(j--,1)}}continue}special=jQuery.event.special[type]||{};for(var j=pos||0;j<eventType.length;j++){handleObj=eventType[j];if(handler.guid===handleObj.guid){if(all||namespace.test(handleObj.namespace)){if(pos==null){eventType.splice(j--,1)}if(special.remove){special.remove.call(elem,handleObj)}}if(pos!=null){break}}}if(eventType.length===0||pos!=null&&eventType.length===1){if(!special.teardown||special.teardown.call(elem,namespaces)===false){removeEvent(elem,type,elemData.handle)}ret=null;delete events[type]}}if(jQuery.isEmptyObject(events)){var handle=elemData.handle;if(handle){handle.elem=null}delete elemData.events;delete elemData.handle;if(jQuery.isEmptyObject(elemData)){jQuery.removeData(elem)}}},trigger:function(event,data,elem){var type=event.type||event,bubbling=arguments[3];if(!bubbling){event=typeof event==="object"?event[expando]?event:jQuery.extend(jQuery.Event(type),event):jQuery.Event(type);if(type.indexOf("!")>=0){event.type=type=type.slice(0,-1);event.exclusive=true}if(!elem){event.stopPropagation();if(jQuery.event.global[type]){jQuery.each(jQuery.cache,function(){if(this.events&&this.events[type]){jQuery.event.trigger(event,data,this.handle.elem)}})}}if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}event.result=undefined;event.target=elem;data=jQuery.makeArray(data);data.unshift(event)}event.currentTarget=elem;var handle=jQuery.data(elem,"handle");if(handle){handle.apply(elem,data)}var parent=elem.parentNode||elem.ownerDocument;try{if(!(elem&&elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()])){if(elem["on"+type]&&elem["on"+type].apply(elem,data)===false){event.result=false}}}catch(e){}if(!event.isPropagationStopped()&&parent){jQuery.event.trigger(event,data,parent,true)}else{if(!event.isDefaultPrevented()){var target=event.target,old,isClick=jQuery.nodeName(target,"a")&&type==="click",special=jQuery.event.special[type]||{};if((!special._default||special._default.call(elem,event)===false)&&!isClick&&!(target&&target.nodeName&&jQuery.noData[target.nodeName.toLowerCase()])){try{if(target[type]){old=target["on"+type];if(old){target["on"+type]=null}jQuery.event.triggered=true;target[type]()}}catch(e){}if(old){target["on"+type]=old}jQuery.event.triggered=false}}}},handle:function(event){var all,handlers,namespaces,namespace,events;event=arguments[0]=jQuery.event.fix(event||window.event);event.currentTarget=this;all=event.type.indexOf(".")<0&&!event.exclusive;if(!all){namespaces=event.type.split(".");event.type=namespaces.shift();namespace=new RegExp("(^|\\.)"+namespaces.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}var events=jQuery.data(this,"events"),handlers=events[event.type];if(events&&handlers){handlers=handlers.slice(0);for(var j=0,l=handlers.length;j<l;j++){var handleObj=handlers[j];if(all||namespace.test(handleObj.namespace)){event.handler=handleObj.handler;event.data=handleObj.data;event.handleObj=handleObj;var ret=handleObj.handler.apply(this,arguments);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}if(event.isImmediatePropagationStopped()){break}}}}return event.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(event){if(event[expando]){return event}var originalEvent=event;event=jQuery.Event(originalEvent);for(var i=this.props.length,prop;i;){prop=this.props[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=event.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey
}if(!event.which&&event.button!==undefined){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)))}return event},guid:100000000,proxy:jQuery.proxy,special:{ready:{setup:jQuery.bindReady,teardown:jQuery.noop},live:{add:function(handleObj){jQuery.event.add(this,handleObj.origType,jQuery.extend({},handleObj,{handler:liveHandler}))},remove:function(handleObj){var remove=true,type=handleObj.origType.replace(rnamespaces,"");jQuery.each(jQuery.data(this,"events").live||[],function(){if(type===this.origType.replace(rnamespaces,"")){remove=false;return false}});if(remove){jQuery.event.remove(this,handleObj.origType,liveHandler)}}},beforeunload:{setup:function(data,namespaces,eventHandle){if(this.setInterval){this.onbeforeunload=eventHandle}return false},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null}}}}};var removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener(type,handle,false)}:function(elem,type,handle){elem.detachEvent("on"+type,handle)};jQuery.Event=function(src){if(!this.preventDefault){return new jQuery.Event(src)}if(src&&src.type){this.originalEvent=src;this.type=src.type}else{this.type=src}this.timeStamp=now();this[expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}e.returnValue=false},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};var withinElement=function(event){var parent=event.relatedTarget;try{while(parent&&parent!==this){parent=parent.parentNode}if(parent!==this){event.type=event.data;jQuery.event.handle.apply(this,arguments)}}catch(e){}},delegate=function(event){event.type=event.data;jQuery.event.handle.apply(this,arguments)};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={setup:function(data){jQuery.event.add(this,fix,data&&data.selector?delegate:withinElement,orig)},teardown:function(data){jQuery.event.remove(this,fix,data&&data.selector?delegate:withinElement)}}});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(data,namespaces){if(this.nodeName.toLowerCase()!=="form"){jQuery.event.add(this,"click.specialSubmit",function(e){var elem=e.target,type=elem.type;if((type==="submit"||type==="image")&&jQuery(elem).closest("form").length){return trigger("submit",this,arguments)}});jQuery.event.add(this,"keypress.specialSubmit",function(e){var elem=e.target,type=elem.type;if((type==="text"||type==="password")&&jQuery(elem).closest("form").length&&e.keyCode===13){return trigger("submit",this,arguments)}})}else{return false}},teardown:function(namespaces){jQuery.event.remove(this,".specialSubmit")}}}if(!jQuery.support.changeBubbles){var formElems=/textarea|input|select/i,changeFilters,getVal=function(elem){var type=elem.type,val=elem.value;if(type==="radio"||type==="checkbox"){val=elem.checked}else{if(type==="select-multiple"){val=elem.selectedIndex>-1?jQuery.map(elem.options,function(elem){return elem.selected}).join("-"):""}else{if(elem.nodeName.toLowerCase()==="select"){val=elem.selectedIndex}}}return val},testChange=function testChange(e){var elem=e.target,data,val;if(!formElems.test(elem.nodeName)||elem.readOnly){return}data=jQuery.data(elem,"_change_data");val=getVal(elem);if(e.type!=="focusout"||elem.type!=="radio"){jQuery.data(elem,"_change_data",val)}if(data===undefined||val===data){return}if(data!=null||val){e.type="change";return jQuery.event.trigger(e,arguments[1],elem)}};jQuery.event.special.change={filters:{focusout:testChange,click:function(e){var elem=e.target,type=elem.type;if(type==="radio"||type==="checkbox"||elem.nodeName.toLowerCase()==="select"){return testChange.call(this,e)}},keydown:function(e){var elem=e.target,type=elem.type;if((e.keyCode===13&&elem.nodeName.toLowerCase()!=="textarea")||(e.keyCode===32&&(type==="checkbox"||type==="radio"))||type==="select-multiple"){return testChange.call(this,e)}},beforeactivate:function(e){var elem=e.target;jQuery.data(elem,"_change_data",getVal(elem))}},setup:function(data,namespaces){if(this.type==="file"){return false}for(var type in changeFilters){jQuery.event.add(this,type+".specialChange",changeFilters[type])}return formElems.test(this.nodeName)},teardown:function(namespaces){jQuery.event.remove(this,".specialChange");return formElems.test(this.nodeName)}};changeFilters=jQuery.event.special.change.filters}function trigger(type,elem,args){args[0].type=type;return jQuery.event.handle.apply(elem,args)}if(document.addEventListener){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){jQuery.event.special[fix]={setup:function(){this.addEventListener(orig,handler,true)},teardown:function(){this.removeEventListener(orig,handler,true)}};function handler(e){e=jQuery.event.fix(e);e.type=fix;return jQuery.event.handle.call(this,e)}})}jQuery.each(["bind","one"],function(i,name){jQuery.fn[name]=function(type,data,fn){if(typeof type==="object"){for(var key in type){this[name](key,data,type[key],fn)}return this}if(jQuery.isFunction(data)){fn=data;data=undefined}var handler=name==="one"?jQuery.proxy(fn,function(event){jQuery(this).unbind(event,handler);return fn.apply(this,arguments)}):fn;if(type==="unload"&&name!=="one"){this.one(type,data,fn)}else{for(var i=0,l=this.length;i<l;i++){jQuery.event.add(this[i],type,handler,data)}}return this}});jQuery.fn.extend({unbind:function(type,fn){if(typeof type==="object"&&!type.preventDefault){for(var key in type){this.unbind(key,type[key])}}else{for(var i=0,l=this.length;i<l;i++){jQuery.event.remove(this[i],type,fn)}}return this},delegate:function(selector,types,data,fn){return this.live(types,data,fn,selector)},undelegate:function(selector,types,fn){if(arguments.length===0){return this.unbind("live")}else{return this.die(types,null,fn,selector)}},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){var event=jQuery.Event(type);event.preventDefault();event.stopPropagation();jQuery.event.trigger(event,data,this[0]);return event.result}},toggle:function(fn){var args=arguments,i=1;while(i<args.length){jQuery.proxy(fn,args[i++])}return this.click(jQuery.proxy(fn,function(event){var lastToggle=(jQuery.data(this,"lastToggle"+fn.guid)||0)%i;jQuery.data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false}))},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});var liveMap={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};jQuery.each(["live","die"],function(i,name){jQuery.fn[name]=function(types,data,fn,origSelector){var type,i=0,match,namespaces,preType,selector=origSelector||this.selector,context=origSelector?this:jQuery(this.context);if(jQuery.isFunction(data)){fn=data;data=undefined}types=(types||"").split(" ");while((type=types[i++])!=null){match=rnamespaces.exec(type);namespaces="";if(match){namespaces=match[0];type=type.replace(rnamespaces,"")}if(type==="hover"){types.push("mouseenter"+namespaces,"mouseleave"+namespaces);continue}preType=type;if(type==="focus"||type==="blur"){types.push(liveMap[type]+namespaces);type=type+namespaces}else{type=(liveMap[type]||type)+namespaces}if(name==="live"){context.each(function(){jQuery.event.add(this,liveConvert(type,selector),{data:data,selector:selector,handler:fn,origType:type,origHandler:fn,preType:preType})})}else{context.unbind(liveConvert(type,selector),fn)}}return this}});
function liveHandler(event){var stop,elems=[],selectors=[],args=arguments,related,match,handleObj,elem,j,i,l,data,events=jQuery.data(this,"events");if(event.liveFired===this||!events||!events.live||event.button&&event.type==="click"){return}event.liveFired=this;var live=events.live.slice(0);for(j=0;j<live.length;j++){handleObj=live[j];if(handleObj.origType.replace(rnamespaces,"")===event.type){selectors.push(handleObj.selector)}else{live.splice(j--,1)}}match=jQuery(event.target).closest(selectors,event.currentTarget);for(i=0,l=match.length;i<l;i++){for(j=0;j<live.length;j++){handleObj=live[j];if(match[i].selector===handleObj.selector){elem=match[i].elem;related=null;if(handleObj.preType==="mouseenter"||handleObj.preType==="mouseleave"){related=jQuery(event.relatedTarget).closest(handleObj.selector)[0]}if(!related||related!==elem){elems.push({elem:elem,handleObj:handleObj})}}}}for(i=0,l=elems.length;i<l;i++){match=elems[i];event.currentTarget=match.elem;event.data=match.handleObj.data;event.handleObj=match.handleObj;if(match.handleObj.origHandler.apply(match.elem,args)===false){stop=false;break}}return stop}function liveConvert(type,selector){return"live."+(type&&type!=="*"?type+".":"")+selector.replace(/\./g,"`").replace(/ /g,"&")}jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error").split(" "),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name)};if(jQuery.attrFn){jQuery.attrFn[name]=true}});if(window.attachEvent&&!window.addEventListener){window.attachEvent("onunload",function(){for(var id in jQuery.cache){if(jQuery.cache[id].handle){try{jQuery.event.remove(jQuery.cache[id].handle.elem)}catch(e){}}}});
/*
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
}(function(){var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true;[0,0].sort(function(){baseHasDuplicate=false;return 0});var Sizzle=function(selector,context,results,seed){results=results||[];var origContext=context=context||document;if(context.nodeType!==1&&context.nodeType!==9){return[]}if(!selector||typeof selector!=="string"){return results}var parts=[],m,set,checkSet,extra,prune=true,contextXML=isXML(context),soFar=selector;while((chunker.exec(""),m=chunker.exec(soFar))!==null){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break}}if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context)}else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector]){selector+=parts.shift()}set=posProcess(selector,set)}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){var ret=Sizzle.find(parts.shift(),context,contextXML);context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]}if(context){var ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length===1&&(parts[0]==="~"||parts[0]==="+")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set)}else{prune=false}while(parts.length){var cur=parts.pop(),pop=cur;if(!Expr.relative[cur]){cur=""}else{pop=parts.pop()}if(pop==null){pop=context}Expr.relative[cur](checkSet,pop,contextXML)}}else{checkSet=parts=[]}}if(!checkSet){checkSet=set}if(!checkSet){Sizzle.error(cur||selector)}if(toString.call(checkSet)==="[object Array]"){if(!prune){results.push.apply(results,checkSet)}else{if(context&&context.nodeType===1){for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&contains(context,checkSet[i]))){results.push(set[i])}}}else{for(var i=0;checkSet[i]!=null;i++){if(checkSet[i]&&checkSet[i].nodeType===1){results.push(set[i])}}}}}else{makeArray(checkSet,results)}if(extra){Sizzle(extra,origContext,results,seed);Sizzle.uniqueSort(results)}return results};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(var i=1;i<results.length;i++){if(results[i]===results[i-1]){results.splice(i--,1)}}}}return results};Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)};Sizzle.find=function(expr,context,isXML){var set,match;if(!expr){return[]}for(var i=0,l=Expr.order.length;i<l;i++){var type=Expr.order[i],match;if((match=Expr.leftMatch[type].exec(expr))){var left=match[1];match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(/\\/g,"");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break}}}}if(!set){set=context.getElementsByTagName("*")}return{set:set,expr:expr}};Sizzle.filter=function(expr,set,inplace,not){var old=expr,result=[],curLoop=set,match,anyFound,isXMLFilter=set&&set[0]&&isXML(set[0]);while(expr&&set.length){for(var type in Expr.filter){if((match=Expr.leftMatch[type].exec(expr))!=null&&match[2]){var filter=Expr.filter[type],found,item,left=match[1];anyFound=false;match.splice(1,1);if(left.substr(left.length-1)==="\\"){continue}if(curLoop===result){result=[]}if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true}else{if(match===true){continue}}}if(match){for(var i=0;(item=curLoop[i])!=null;i++){if(item){found=filter(item,match,i,curLoop);var pass=not^!!found;if(inplace&&found!=null){if(pass){anyFound=true}else{curLoop[i]=false}}else{if(pass){result.push(item);anyFound=true}}}}}if(found!==undefined){if(!inplace){curLoop=result}expr=expr.replace(Expr.match[type],"");if(!anyFound){return[]}break}}}if(expr===old){if(anyFound==null){Sizzle.error(expr)}else{break}}old=expr}return curLoop};Sizzle.error=function(msg){throw"Syntax error, unrecognized expression: "+msg};var Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")}},relative:{"+":function(checkSet,part){var isPartStr=typeof part==="string",isTag=isPartStr&&!/\W/.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag){part=part.toLowerCase()}for(var i=0,l=checkSet.length,elem;i<l;i++){if((elem=checkSet[i])){while((elem=elem.previousSibling)&&elem.nodeType!==1){}checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||false:elem===part}}if(isPartStrNotTag){Sizzle.filter(part,checkSet,true)}},">":function(checkSet,part){var isPartStr=typeof part==="string";if(isPartStr&&!/\W/.test(part)){part=part.toLowerCase();for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:false}}}else{for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part}}if(isPartStr){Sizzle.filter(part,checkSet,true)}}},"":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!/\W/.test(part)){var nodeCheck=part=part.toLowerCase();checkFn=dirNodeCheck
}checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!/\W/.test(part)){var nodeCheck=part=part.toLowerCase();checkFn=dirNodeCheck}checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?[m]:[]}},NAME:function(match,context){if(typeof context.getElementsByName!=="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++){if(results[i].getAttribute("name")===match[1]){ret.push(results[i])}}return ret.length===0?null:ret}},TAG:function(match,context){return context.getElementsByTagName(match[1])}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(/\\/g,"")+" ";if(isXML){return match}for(var i=0,elem;(elem=curLoop[i])!=null;i++){if(elem){if(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n]/g," ").indexOf(match)>=0)){if(!inplace){result.push(elem)}}else{if(inplace){curLoop[i]=false}}}}return false},ID:function(match){return match[1].replace(/\\/g,"")},TAG:function(match,curLoop){return match[1].toLowerCase()},CHILD:function(match){if(match[1]==="nth"){var test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(match[2]==="even"&&"2n"||match[2]==="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=(test[1]+(test[2]||1))-0;match[3]=test[3]-0}match[0]=done++;return match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1].replace(/\\/g,"");if(!isXML&&Expr.attrMap[name]){match[1]=Expr.attrMap[name]}if(match[2]==="~="){match[4]=" "+match[4]+" "}return match},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3])){match[3]=Sizzle(match[3],null,null,curLoop)}else{var ret=Sizzle.filter(match[3],curLoop,inplace,true^not);if(!inplace){result.push.apply(result,ret)}return false}}else{if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0])){return true}}return match},POS:function(match){match.unshift(true);return match}},filters:{enabled:function(elem){return elem.disabled===false&&elem.type!=="hidden"},disabled:function(elem){return elem.disabled===true},checked:function(elem){return elem.checked===true},selected:function(elem){elem.parentNode.selectedIndex;return elem.selected===true},parent:function(elem){return !!elem.firstChild},empty:function(elem){return !elem.firstChild},has:function(elem,i,match){return !!Sizzle(match[3],elem).length},header:function(elem){return/h\d/i.test(elem.nodeName)},text:function(elem){return"text"===elem.type},radio:function(elem){return"radio"===elem.type},checkbox:function(elem){return"checkbox"===elem.type},file:function(elem){return"file"===elem.type},password:function(elem){return"password"===elem.type},submit:function(elem){return"submit"===elem.type},image:function(elem){return"image"===elem.type},reset:function(elem){return"reset"===elem.type},button:function(elem){return"button"===elem.type||elem.nodeName.toLowerCase()==="button"},input:function(elem){return/input|select|textarea|button/i.test(elem.nodeName)}},setFilters:{first:function(elem,i){return i===0},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0===i},eq:function(elem,i,match){return match[3]-0===i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array)}else{if(name==="contains"){return(elem.textContent||elem.innerText||getText([elem])||"").indexOf(match[3])>=0}else{if(name==="not"){var not=match[3];for(var i=0,l=not.length;i<l;i++){if(not[i]===elem){return false}}return true}else{Sizzle.error("Syntax error, unrecognized expression: "+name)}}}},CHILD:function(elem,match){var type=match[1],node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false}}if(type==="first"){return true}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false}}return true;case"nth":var first=match[2],last=match[3];if(first===1&&last===0){return true}var doneName=match[0],parent=elem.parentNode;if(parent&&(parent.sizcache!==doneName||!elem.nodeIndex)){var count=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.nodeIndex=++count}}parent.sizcache=doneName}var diff=elem.nodeIndex-last;if(first===0){return diff===0}else{return(diff%first===0&&diff/first>=0)}}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match},TAG:function(elem,match){return(match==="*"&&elem.nodeType===1)||elem.nodeName.toLowerCase()===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==false:type==="!="?value!==check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":false},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter){return filter(elem,i,match,array)}}}};var origPOS=Expr.match.POS;for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+/(?![^\[]*\])(?![^\(]*\))/.source);Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,function(all,num){return"\\"+(num-0+1)}))}var makeArray=function(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results}return array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){makeArray=function(array,results){var ret=results||[];if(toString.call(array)==="[object Array]"){Array.prototype.push.apply(ret,array)}else{if(typeof array.length==="number"){for(var i=0,l=array.length;i<l;i++){ret.push(array[i])}}else{for(var i=0;array[i];i++){ret.push(array[i])}}}return ret}}var sortOrder;if(document.documentElement.compareDocumentPosition){sortOrder=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){if(a==b){hasDuplicate=true}return a.compareDocumentPosition?-1:1}var ret=a.compareDocumentPosition(b)&4?-1:a===b?0:1;if(ret===0){hasDuplicate=true}return ret}}else{if("sourceIndex" in document.documentElement){sortOrder=function(a,b){if(!a.sourceIndex||!b.sourceIndex){if(a==b){hasDuplicate=true}return a.sourceIndex?-1:1}var ret=a.sourceIndex-b.sourceIndex;if(ret===0){hasDuplicate=true}return ret}}else{if(document.createRange){sortOrder=function(a,b){if(!a.ownerDocument||!b.ownerDocument){if(a==b){hasDuplicate=true}return a.ownerDocument?-1:1}var aRange=a.ownerDocument.createRange(),bRange=b.ownerDocument.createRange();aRange.setStart(a,0);aRange.setEnd(a,0);bRange.setStart(b,0);bRange.setEnd(b,0);var ret=aRange.compareBoundaryPoints(Range.START_TO_END,bRange);if(ret===0){hasDuplicate=true}return ret}}}}function getText(elems){var ret="",elem;for(var i=0;elems[i];i++){elem=elems[i];if(elem.nodeType===3||elem.nodeType===4){ret+=elem.nodeValue}else{if(elem.nodeType!==8){ret+=getText(elem.childNodes)}}}return ret}(function(){var form=document.createElement("div"),id="script"+(new Date).getTime();form.innerHTML="<a name='"+id+"'/>";var root=document.documentElement;root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);
return m?m.id===match[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match}}root.removeChild(form);root=form=null})();(function(){var div=document.createElement("div");div.appendChild(document.createComment(""));if(div.getElementsByTagName("*").length>0){Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++){if(results[i].nodeType===1){tmp.push(results[i])}}results=tmp}return results}}div.innerHTML="<a href='#'></a>";if(div.firstChild&&typeof div.firstChild.getAttribute!=="undefined"&&div.firstChild.getAttribute("href")!=="#"){Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)}}div=null})();if(document.querySelectorAll){(function(){var oldSizzle=Sizzle,div=document.createElement("div");div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0){return}Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&context.nodeType===9&&!isXML(context)){try{return makeArray(context.querySelectorAll(query),extra)}catch(e){}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle){Sizzle[prop]=oldSizzle[prop]}div=null})()}(function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(!div.getElementsByClassName||div.getElementsByClassName("e").length===0){return}div.lastChild.className="e";if(div.getElementsByClassName("e").length===1){return}Expr.order.splice(1,0,"CLASS");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!=="undefined"&&!isXML){return context.getElementsByClassName(match[1])}};div=null})();function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1&&!isXML){elem.sizcache=doneName;elem.sizset=i}if(elem.nodeName.toLowerCase()===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){elem=elem[dir];var match=false;while(elem){if(elem.sizcache===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1){if(!isXML){elem.sizcache=doneName;elem.sizset=i}if(typeof cur!=="string"){if(elem===cur){match=true;break}}else{if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}}}elem=elem[dir]}checkSet[i]=match}}}var contains=document.compareDocumentPosition?function(a,b){return !!(a.compareDocumentPosition(b)&16)}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)};var isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};var posProcess=function(selector,context){var tmpSet=[],later="",match,root=context.nodeType?[context]:context;while((match=Expr.match.PSEUDO.exec(selector))){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,"")}selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++){Sizzle(selector,root[i],tmpSet)}return Sizzle.filter(later,tmpSet)};jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.filters;jQuery.unique=Sizzle.uniqueSort;jQuery.text=getText;jQuery.isXMLDoc=isXML;jQuery.contains=contains;return;window.Sizzle=Sizzle})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,slice=Array.prototype.slice;var winnow=function(elements,qualifier,keep){if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){return !!qualifier.call(elem,i,elem)===keep})}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,filtered)}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})};jQuery.fn.extend({find:function(selector){var ret=this.pushStack("","find",selector),length=0;for(var i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(var n=length;n<ret.length;n++){for(var r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return !!selector&&jQuery.filter(selector,this).length>0},closest:function(selectors,context){if(jQuery.isArray(selectors)){var ret=[],cur=this[0],match,matches={},selector;if(cur&&selectors.length){for(var i=0,l=selectors.length;i<l;i++){selector=selectors[i];if(!matches[selector]){matches[selector]=jQuery.expr.match.POS.test(selector)?jQuery(selector,context||this.context):selector}}while(cur&&cur.ownerDocument&&cur!==context){for(selector in matches){match=matches[selector];if(match.jquery?match.index(cur)>-1:jQuery(cur).is(match)){ret.push({selector:selector,elem:cur});delete matches[selector]}}cur=cur.parentNode}}return ret}var pos=jQuery.expr.match.POS.test(selectors)?jQuery(selectors,context||this.context):null;return this.map(function(i,cur){while(cur&&cur.ownerDocument&&cur!==context){if(pos?pos.index(cur)>-1:jQuery(cur).is(selectors)){return cur}cur=cur.parentNode}return null})},index:function(elem){if(!elem||typeof elem==="string"){return jQuery.inArray(this[0],elem?jQuery(elem):this.parent().children())}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context||this.context):jQuery.makeArray(selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},andSelf:function(){return this.add(this.prevObject)}});function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"
}return jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType===1&&++num===result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});var rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/(<([\w:]+)[^>]*?)\/>/g,rselfClosing=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnocache=/<script|<object|<embed|<option|<style/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,fcloseTag=function(all,front,tag){return rselfClosing.test(tag)?all:front+"></"+tag+">"},wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"div<div>","</div>"]}jQuery.fn.extend({text:function(text){if(jQuery.isFunction(text)){return this.each(function(i){var self=jQuery(this);self.text(text.call(this,i,self.text()))})}if(typeof text!=="object"&&text!==undefined){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}return jQuery.text(this)},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.insertBefore(elem,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}else{if(arguments.length){var set=jQuery(arguments[0]);set.push.apply(set,this.toArray());return this.pushStack(set,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}else{if(arguments.length){var set=this.pushStack(this,"after",arguments);set.push.apply(set,jQuery(arguments[0]).toArray());return set}}},remove:function(selector,keepData){for(var i=0,elem;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem])}if(elem.parentNode){elem.parentNode.removeChild(elem)}}}return this},empty:function(){for(var i=0,elem;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"))}while(elem.firstChild){elem.removeChild(elem.firstChild)}}return this},clone:function(events){var ret=this.map(function(){if(!jQuery.support.noCloneEvent&&!jQuery.isXMLDoc(this)){var html=this.outerHTML,ownerDocument=this.ownerDocument;if(!html){var div=ownerDocument.createElement("div");div.appendChild(this.cloneNode(true));html=div.innerHTML}return jQuery.clean([html.replace(rinlinejQuery,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(rleadingWhitespace,"")],ownerDocument)[0]}else{return this.cloneNode(true)}});if(events===true){cloneCopyEvent(this,ret);cloneCopyEvent(this.find("*"),ret.find("*"))}return ret},html:function(value){if(value===undefined){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(rinlinejQuery,""):null}else{if(typeof value==="string"&&!rnocache.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,fcloseTag);try{for(var i=0,l=this.length;i<l;i++){if(this[i].nodeType===1){jQuery.cleanData(this[i].getElementsByTagName("*"));this[i].innerHTML=value}}}catch(e){this.empty().append(value)}}else{if(jQuery.isFunction(value)){this.each(function(i){var self=jQuery(this),old=self.html();self.empty().append(function(){return value.call(this,i,old)})})}else{this.empty().append(value)}}}return this},replaceWith:function(value){if(this[0]&&this[0].parentNode){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))})}if(typeof value!=="string"){value=jQuery(value).detach()}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value)}else{jQuery(parent).append(value)}})}else{return this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value)}},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){var results,first,value=args[0],scripts=[],fragment,parent;if(!jQuery.support.checkClone&&arguments.length===3&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback,true)})}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback)})}if(this[0]){parent=value&&value.parentNode;if(jQuery.support.parentNode&&parent&&parent.nodeType===11&&parent.childNodes.length===this.length){results={fragment:parent}}else{results=buildFragment(args,this,scripts)}fragment=results.fragment;if(fragment.childNodes.length===1){first=fragment=fragment.firstChild}else{first=fragment.firstChild}if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length;i<l;i++){callback.call(table?root(this[i],first):this[i],i>0||results.cacheable||this.length>1?fragment.cloneNode(true):fragment)}}if(scripts.length){jQuery.each(scripts,evalScript)}}return this;function root(elem,cur){return jQuery.nodeName(elem,"table")?(elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody"))):elem}}});function cloneCopyEvent(orig,ret){var i=0;ret.each(function(){if(this.nodeName!==(orig[i]&&orig[i].nodeName)){return}var oldData=jQuery.data(orig[i++]),curData=jQuery.data(this,oldData),events=oldData&&oldData.events;if(events){delete curData.handle;curData.events={};for(var type in events){for(var handler in events[type]){jQuery.event.add(this,type,events[type][handler],events[type][handler].data)}}}})}TIME_IN_BUILDFRAGMENT=0;function buildFragment(args,nodes,scripts){var START=new Date().getTime();var fragment,cacheable,cacheresults,doc=(nodes&&nodes[0]?nodes[0].ownerDocument||nodes[0]:document);if(args.length===1&&typeof args[0]==="string"&&args[0].length<512&&doc===document&&!rnocache.test(args[0])&&(jQuery.support.checkClone||!rchecked.test(args[0]))){cacheable=true;cacheresults=jQuery.fragments[args[0]];if(cacheresults){if(cacheresults!==1){fragment=cacheresults
}}}if(!fragment){fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts)}if(cacheable){jQuery.fragments[args[0]]=cacheresults?fragment:1}TIME_IN_BUILDFRAGMENT+=(new Date().getTime()-START);return{fragment:fragment,cacheable:cacheable}}jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=this.length===1&&this[0].parentNode;if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1){insert[original](this[0]);return this}else{for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery.fn[original].apply(jQuery(insert[i]),elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}});jQuery.extend({clean:function(elems,context,fragment,scripts){context=context||document;if(typeof context.createElement==="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}var ret=[];for(var i=0,elem;(elem=elems[i])!=null;i++){if(typeof elem==="number"){elem+=""}if(!elem){continue}if(typeof elem==="string"&&!rhtml.test(elem)){elem=context.createTextNode(elem)}else{if(typeof elem==="string"){elem=elem.replace(rxhtmlTag,fcloseTag);var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div");div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(var j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=div.childNodes}}if(elem.nodeType){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}}if(fragment){for(var i=0;ret[i];i++){if(scripts&&jQuery.nodeName(ret[i],"script")&&(!ret[i].type||ret[i].type.toLowerCase()==="text/javascript")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i])}else{if(ret[i].nodeType===1){ret.splice.apply(ret,[i+1,0].concat(jQuery.makeArray(ret[i].getElementsByTagName("script"))))}fragment.appendChild(ret[i])}}}return ret},cleanData:function(elems){var data,id,cache=jQuery.cache,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando;for(var i=0,elem;(elem=elems[i])!=null;i++){id=elem[jQuery.expando];if(id){data=cache[id];if(data.events){for(var type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{removeEvent(elem,type,data.handle)}}}if(deleteExpando){delete elem[jQuery.expando]}else{if(elem.removeAttribute){elem.removeAttribute(jQuery.expando)}}delete cache[id]}}}});var rexclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,ralpha=/alpha\([^)]*\)/,ropacity=/opacity=([^)]*)/,rfloat=/float/i,rdashAlpha=/-([a-z])/ig,rupper=/([A-Z])/g,rnumpx=/^-?\d+(?:px)?$/i,rnum=/^-?\d/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssWidth=["Left","Right"],cssHeight=["Top","Bottom"],getComputedStyle=document.defaultView&&document.defaultView.getComputedStyle,styleFloat=jQuery.support.cssFloat?"cssFloat":"styleFloat",fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn.css=function(name,value){return access(this,name,value,true,function(elem,name,value){if(value===undefined){return jQuery.curCSS(elem,name)}if(typeof value==="number"&&!rexclude.test(name)){value+="px"}jQuery.style(elem,name,value)})};jQuery.extend({style:function(elem,name,value){if(!elem||elem.nodeType===3||elem.nodeType===8){return undefined}if((name==="width"||name==="height")&&parseFloat(value)<0){value=undefined}var style=elem.style||elem,set=value!==undefined;if(!jQuery.support.opacity&&name==="opacity"){if(set){style.zoom=1;var opacity=parseInt(value,10)+""==="NaN"?"":"alpha(opacity="+value*100+")";var filter=style.filter||jQuery.curCSS(elem,"filter")||"";style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):opacity}return style.filter&&style.filter.indexOf("opacity=")>=0?(parseFloat(ropacity.exec(style.filter)[1])/100)+"":""}if(rfloat.test(name)){name=styleFloat}name=name.replace(rdashAlpha,fcamelCase);if(set){style[name]=value}return style[name]},css:function(elem,name,force,extra){if(name==="width"||name==="height"){var val,props=cssShow,which=name==="width"?cssWidth:cssHeight;function getWH(){val=name==="width"?elem.offsetWidth:elem.offsetHeight;if(extra==="border"){return}jQuery.each(which,function(){if(!extra){val-=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0}if(extra==="margin"){val+=parseFloat(jQuery.curCSS(elem,"margin"+this,true))||0}else{val-=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0}})}if(elem.offsetWidth!==0){getWH()}else{jQuery.swap(elem,props,getWH)}return Math.max(0,Math.round(val))}return jQuery.curCSS(elem,name,force)},curCSS:function(elem,name,force){var ret,style=elem.style,filter;if(!jQuery.support.opacity&&name==="opacity"&&elem.currentStyle){ret=ropacity.test(elem.currentStyle.filter||"")?(parseFloat(RegExp.$1)/100)+"":"";return ret===""?"1":ret}if(rfloat.test(name)){name=styleFloat}if(!force&&style&&style[name]){ret=style[name]}else{if(getComputedStyle){if(rfloat.test(name)){name="float"}name=name.replace(rupper,"-$1").toLowerCase();var defaultView=elem.ownerDocument.defaultView;if(!defaultView){return null}var computedStyle=defaultView.getComputedStyle(elem,null);if(computedStyle){ret=computedStyle.getPropertyValue(name)}if(name==="opacity"&&ret===""){ret="1"}}else{if(elem.currentStyle){var camelCase=name.replace(rdashAlpha,fcamelCase);ret=elem.currentStyle[name]||elem.currentStyle[camelCase];if(!rnumpx.test(ret)&&rnum.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;elem.runtimeStyle.left=elem.currentStyle.left;style.left=camelCase==="fontSize"?"1em":(ret||0);ret=style.pixelLeft+"px";style.left=left;elem.runtimeStyle.left=rsLeft}}}}return ret},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(var name in options){elem.style[name]=old[name]}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight,skip=elem.nodeName.toLowerCase()==="tr";return width===0&&height===0&&!skip?true:width>0&&height>0&&!skip?false:jQuery.curCSS(elem,"display")==="none"};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}}var jsc=now(),rscript=/<script(.|\s)*?\/script>/gi,rselectTextarea=/select|textarea/i,rinput=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,jsre=/=\?(&|$)/,rquery=/\?/,rts=/(\?|&)_=.*?(&|$)/,rurl=/^(\w+:)?\/\/([^\/?#]+)/,r20=/%20/g,_load=jQuery.fn.load;jQuery.fn.extend({load:function(url,params,callback){if(typeof url!=="string"){return _load.call(this,url)}else{if(!this.length){return this}}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=null}else{if(typeof params==="object"){params=jQuery.param(params,jQuery.ajaxSettings.traditional);type="POST"}}}var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(res,status){if(status==="success"||status==="notmodified"){self.html(selector?jQuery("<div />").append(res.responseText.replace(rscript,"")).find(selector):res.responseText)}if(callback){self.each(callback,[res.responseText,status,res])}}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this
}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val}}):{name:elem.name,value:val}}).get()}});jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f)}});jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=null}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type})},getScript:function(url,callback){return jQuery.get(url,null,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},post:function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data={}}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type})},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:window.XMLHttpRequest&&(window.location.protocol!=="file:"||!window.ActiveXObject)?function(){return new window.XMLHttpRequest()}:function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(origSettings){var s=jQuery.extend(true,{},jQuery.ajaxSettings,origSettings);var jsonp,status,data,callbackContext=origSettings&&origSettings.context||s,type=s.type.toUpperCase();if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}if(s.dataType==="jsonp"){if(type==="GET"){if(!jsre.test(s.url)){s.url+=(rquery.test(s.url)?"&":"?")+(s.jsonp||"callback")+"=?"}}else{if(!s.data||!jsre.test(s.data)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?"}}s.dataType="json"}if(s.dataType==="json"&&(s.data&&jsre.test(s.data)||jsre.test(s.url))){jsonp=s.jsonpCallback||("jsonp"+jsc++);if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1")}s.url=s.url.replace(jsre,"="+jsonp+"$1");s.dataType="script";window[jsonp]=window[jsonp]||function(tmp){data=tmp;success();complete();window[jsonp]=undefined;try{delete window[jsonp]}catch(e){}if(head){head.removeChild(script)}}}if(s.dataType==="script"&&s.cache===null){s.cache=false}if(s.cache===false&&type==="GET"){var ts=now();var ret=s.url.replace(rts,"$1_="+ts+"$2");s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}if(s.data&&type==="GET"){s.url+=(rquery.test(s.url)?"&":"?")+s.data}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart")}var parts=rurl.exec(s.url),remote=parts&&(parts[1]&&parts[1]!==location.protocol||parts[2]!==location.host);if(s.dataType==="script"&&type==="GET"&&remote){var head=document.getElementsByTagName("head")[0]||document.documentElement;var script=document.createElement("script");script.src=s.url;if(s.scriptCharset){script.charset=s.scriptCharset}if(!jsonp){var done=false;script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){done=true;success();complete();script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}}}}head.insertBefore(script,head.firstChild);return undefined}var requestDone=false;var xhr=s.xhr();if(!xhr){return}if(s.username){xhr.open(type,s.url,s.async,s.username,s.password)}else{xhr.open(type,s.url,s.async)}try{if(s.data||origSettings&&origSettings.contentType){xhr.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){if(jQuery.lastModified[s.url]){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url])}if(jQuery.etag[s.url]){xhr.setRequestHeader("If-None-Match",jQuery.etag[s.url])}}if(!remote){xhr.setRequestHeader("X-Requested-With","XMLHttpRequest")}xhr.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default)}catch(e){}if(s.beforeSend&&s.beforeSend.call(callbackContext,xhr,s)===false){if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}xhr.abort();return false}if(s.global){trigger("ajaxSend",[xhr,s])}var onreadystatechange=xhr.onreadystatechange=function(isTimeout){if(!xhr||xhr.readyState===0||isTimeout==="abort"){if(!requestDone){complete()}requestDone=true;if(xhr){xhr.onreadystatechange=jQuery.noop}}else{if(!requestDone&&xhr&&(xhr.readyState===4||isTimeout==="timeout")){requestDone=true;xhr.onreadystatechange=jQuery.noop;status=isTimeout==="timeout"?"timeout":!jQuery.httpSuccess(xhr)?"error":s.ifModified&&jQuery.httpNotModified(xhr,s.url)?"notmodified":"success";var errMsg;if(status==="success"){try{data=jQuery.httpData(xhr,s.dataType,s)}catch(err){status="parsererror";errMsg=err}}if(status==="success"||status==="notmodified"){if(!jsonp){success()}}else{jQuery.handleError(s,xhr,status,errMsg)}complete();if(isTimeout==="timeout"){xhr.abort()}if(s.async){xhr=null}}}};try{var oldAbort=xhr.abort;xhr.abort=function(){if(xhr){oldAbort.call(xhr)}onreadystatechange("abort")}}catch(e){}if(s.async&&s.timeout>0){setTimeout(function(){if(xhr&&!requestDone){onreadystatechange("timeout")}},s.timeout)}try{xhr.send(type==="POST"||type==="PUT"||type==="DELETE"?s.data:null)}catch(e){jQuery.handleError(s,xhr,null,e);complete()}if(!s.async){onreadystatechange()}function success(){if(s.success){s.success.call(callbackContext,data,status,xhr)}if(s.global){trigger("ajaxSuccess",[xhr,s])}}function complete(){if(s.complete){s.complete.call(callbackContext,xhr,status)}if(s.global){trigger("ajaxComplete",[xhr,s])}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop")}}function trigger(type,args){(s.context?jQuery(s.context):jQuery.event).trigger(type,args)}return xhr},handleError:function(s,xhr,status,e){if(s.error){s.error.call(s.context||s,xhr,status,e)}if(s.global){(s.context?jQuery(s.context):jQuery.event).trigger("ajaxError",[xhr,s,e])}},active:0,httpSuccess:function(xhr){try{return !xhr.status&&location.protocol==="file:"||(xhr.status>=200&&xhr.status<300)||xhr.status===304||xhr.status===1223||xhr.status===0}catch(e){}return false},httpNotModified:function(xhr,url){var lastModified=xhr.getResponseHeader("Last-Modified"),etag=xhr.getResponseHeader("Etag");if(lastModified){jQuery.lastModified[url]=lastModified}if(etag){jQuery.etag[url]=etag}return xhr.status===304||xhr.status===0},httpData:function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml=type==="xml"||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==="parsererror"){jQuery.error("parsererror")}if(s&&s.dataFilter){data=s.dataFilter(data,type)}if(typeof data==="string"){if(type==="json"||!type&&ct.indexOf("json")>=0){data=jQuery.parseJSON(data)}else{if(type==="script"||!type&&ct.indexOf("javascript")>=0){jQuery.globalEval(data)}}}return data},param:function(a,traditional){var s=[];if(traditional===undefined){traditional=jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||a.jquery){jQuery.each(a,function(){add(this.name,this.value)})}else{for(var prefix in a){buildParams(prefix,a[prefix])}}return s.join("&").replace(r20,"+");function buildParams(prefix,obj){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||/\[\]$/.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"||jQuery.isArray(v)?i:"")+"]",v)}})}else{if(!traditional&&obj!=null&&typeof obj==="object"){jQuery.each(obj,function(k,v){buildParams(prefix+"["+k+"]",v)})}else{add(prefix,obj)}}}function add(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)}}});var elemdisplay={},rfxtypes=/toggle|show|hide/,rfxnum=/^([+-]=)?([\d+-.]+)(.*)$/,timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];
jQuery.fn.extend({show:function(speed,callback){if(speed||speed===0){return this.animate(genFx("show",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");this[i].style.display=old||"";if(jQuery.css(this[i],"display")==="none"){var nodeName=this[i].nodeName,display;if(elemdisplay[nodeName]){display=elemdisplay[nodeName]}else{var elem=jQuery("<"+nodeName+" />").appendTo("body");display=elem.css("display");if(display==="none"){display="block"}elem.remove();elemdisplay[nodeName]=display}jQuery.data(this[i],"olddisplay",display)}}for(var j=0,k=this.length;j<k;j++){this[j].style.display=jQuery.data(this[j],"olddisplay")||""}return this}},hide:function(speed,callback){if(speed||speed===0){return this.animate(genFx("hide",3),speed,callback)}else{for(var i=0,l=this.length;i<l;i++){var old=jQuery.data(this[i],"olddisplay");if(!old&&old!=="none"){jQuery.data(this[i],"olddisplay",jQuery.css(this[i],"display"))}}for(var j=0,k=this.length;j<k;j++){this[j].style.display="none"}return this}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){var bool=typeof fn==="boolean";if(jQuery.isFunction(fn)&&jQuery.isFunction(fn2)){this._toggle.apply(this,arguments)}else{if(fn==null||bool){this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()})}else{this.animate(genFx("toggle",3),fn,fn2)}}return this},fadeTo:function(speed,to,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);if(jQuery.isEmptyObject(prop)){return this.each(optall.complete)}return this[optall.queue===false?"each":"queue"](function(){var opt=jQuery.extend({},optall),p,hidden=this.nodeType===1&&jQuery(this).is(":hidden"),self=this;for(p in prop){var name=p.replace(rdashAlpha,fcamelCase);if(p!==name){prop[name]=prop[p];delete prop[p];p=name}if(prop[p]==="hide"&&hidden||prop[p]==="show"&&!hidden){return opt.complete.call(this)}if((p==="height"||p==="width")&&this.style){opt.display=jQuery.css(this,"display");opt.overflow=this.style.overflow}if(jQuery.isArray(prop[p])){(opt.specialEasing=opt.specialEasing||{})[p]=prop[p][1];prop[p]=prop[p][0]}}if(opt.overflow!=null){this.style.overflow="hidden"}opt.curAnim=jQuery.extend({},prop);jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);if(rfxtypes.test(val)){e[val==="toggle"?hidden?"show":"hide":val](prop)}else{var parts=rfxnum.exec(val),start=e.cur(true)||0;if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";if(unit!=="px"){self.style[name]=(end||1)+unit;start=((end||1)/e.cur(true))*start;self.style[name]=start+unit}if(parts[1]){end=((parts[1]==="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}});return true})},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;if(clearQueue){this.queue([])}this.each(function(){for(var i=timers.length-1;i>=0;i--){if(timers[i].elem===this){if(gotoEnd){timers[i](true)}timers.splice(i,1)}}});if(!gotoEnd){this.dequeue()}return this}});jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(name,props){jQuery.fn[name]=function(speed,callback){return this.animate(props,speed,callback)}});jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&typeof speed==="object"?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:jQuery.fx.speeds[opt.duration]||jQuery.fx.speeds._default;opt.old=opt.complete;opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue()}if(jQuery.isFunction(opt.old)){opt.old.call(this)}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;if(!options.orig){options.orig={}}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style){this.elem.style.display="block"}},cur:function(force){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var r=parseFloat(jQuery.css(this.elem,this.prop,force));return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0},custom:function(from,to,unit){this.startTime=now();this.start=from;this.end=to;this.unit=unit||this.unit||"px";this.now=this.start;this.pos=this.state=0;var self=this;function t(gotoEnd){return self.step(gotoEnd)}t.elem=this.elem;if(t()&&jQuery.timers.push(t)&&!timerId){timerId=setInterval(jQuery.fx.tick,13)}},show:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var t=now(),done=true;if(gotoEnd||t>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;var old=jQuery.data(this.elem,"olddisplay");this.elem.style.display=old?old:this.options.display;if(jQuery.css(this.elem,"display")==="none"){this.elem.style.display="block"}}if(this.options.hide){jQuery(this.elem).hide()}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.style(this.elem,p,this.options.orig[p])}}this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;var specialEasing=this.options.specialEasing&&this.options.specialEasing[this.prop];var defaultEasing=this.options.easing||(jQuery.easing.swing?"swing":"linear");this.pos=jQuery.easing[specialEasing||defaultEasing](this.state,n,0,1,this.options.duration);this.now=this.start+((this.end-this.start)*this.pos);this.update()}return true}};jQuery.extend(jQuery.fx,{tick:function(){var timers=jQuery.timers;for(var i=0;i<timers.length;i++){if(!timers[i]()){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}},stop:function(){clearInterval(timerId);timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=(fx.prop==="width"||fx.prop==="height"?Math.max(0,fx.now):fx.now)+fx.unit}else{fx.elem[fx.prop]=fx.now}}}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type});return obj}if("getBoundingClientRect" in document.documentElement){jQuery.fn.offset=function(options){var elem=this[0];if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+(self.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop)-clientTop,left=box.left+(self.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft)-clientLeft;
return{top:top,left:left}}}else{jQuery.fn.offset=function(options){var elem=this[0];if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}jQuery.offset.initialize();var offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,computedStyle,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){break}computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.offset.doesNotAddBorder&&!(jQuery.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevOffsetParent=offsetParent,offsetParent=elem.offsetParent}if(jQuery.offset.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevComputedStyle=computedStyle}if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop;left+=body.offsetLeft}if(jQuery.offset.supportsFixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft)}return{top:top,left:left}}}jQuery.offset={initialize:function(){var body=document.body,container=document.createElement("div"),innerDiv,checkDiv,table,td,bodyMarginTop=parseFloat(jQuery.curCSS(body,"marginTop",true))||0,html="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";jQuery.extend(container.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});container.innerHTML=html;body.insertBefore(container,body.firstChild);innerDiv=container.firstChild;checkDiv=innerDiv.firstChild;td=innerDiv.nextSibling.firstChild.firstChild;this.doesNotAddBorder=(checkDiv.offsetTop!==5);this.doesAddBorderForTableAndCells=(td.offsetTop===5);checkDiv.style.position="fixed",checkDiv.style.top="20px";this.supportsFixedPosition=(checkDiv.offsetTop===20||checkDiv.offsetTop===15);checkDiv.style.position=checkDiv.style.top="";innerDiv.style.overflow="hidden",innerDiv.style.position="relative";this.subtractsBorderForOverflowNotVisible=(checkDiv.offsetTop===-5);this.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==bodyMarginTop);body.removeChild(container);body=container=innerDiv=checkDiv=table=td=null;jQuery.offset.initialize=jQuery.noop},bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;jQuery.offset.initialize();if(jQuery.offset.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.curCSS(body,"marginTop",true))||0;left+=parseFloat(jQuery.curCSS(body,"marginLeft",true))||0}return{top:top,left:left}},setOffset:function(elem,options,i){if(/static/.test(jQuery.curCSS(elem,"position"))){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curTop=parseInt(jQuery.curCSS(elem,"top",true),10)||0,curLeft=parseInt(jQuery.curCSS(elem,"left",true),10)||0;if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}var props={top:(options.top-curOffset.top)+curTop,left:(options.left-curOffset.left)+curLeft};if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return null}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.curCSS(elem,"marginTop",true))||0;offset.left-=parseFloat(jQuery.curCSS(elem,"marginLeft",true))||0;parentOffset.top+=parseFloat(jQuery.curCSS(offsetParent[0],"borderTopWidth",true))||0;parentOffset.left+=parseFloat(jQuery.curCSS(offsetParent[0],"borderLeftWidth",true))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!/^body|html$/i.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent})}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem=this[0],win;if(!elem){return null}if(val!==undefined){return this.each(function(){win=getWindow(this);if(win){win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop())}else{this[method]=val}})}else{win=getWindow(elem);return win?("pageXOffset" in win)?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method]}}});function getWindow(elem){return("scrollTo" in elem&&elem.document)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){return this[0]?jQuery.css(this[0],type,false,"padding"):null};jQuery.fn["outer"+name]=function(margin){return this[0]?jQuery.css(this[0],type,false,margin?"margin":"border"):null};jQuery.fn[type]=function(size){var elem=this[0];if(!elem){return size==null?null:this}if(jQuery.isFunction(size)){return this.each(function(i){var self=jQuery(this);self[type](size.call(this,i,self[type]()))})}return("scrollTo" in elem&&elem.document)?elem.document.compatMode==="CSS1Compat"&&elem.document.documentElement["client"+name]||elem.document.body["client"+name]:(elem.nodeType===9)?Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name]):size===undefined?jQuery.css(elem,type):this.css(type,typeof size==="string"?size:size+"px")}});window.jQuery=window.$=jQuery})(window);var Claypool={Logging:{},extend:function(d,b,a){b.apply(d,a||[])}};(function(b,a){a.Logging.NullLogger=function(){var d=function(){return this};b.extend(this,{debug:d,info:d,warn:d,error:d,exception:d});return this};b.extend(a.Logging.NullLogger.prototype,{getLogger:function(){return new a.Logging.NullLogger()}})})(jQuery,Claypool);(function(b,a){a.Configuration={ioc:[],aop:[],logging:[],mvc:{"hijax:a":[],"hijax:form":[],"hijax:button":[],"hijax:event":[]},env:{dev:{},prod:{},test:{}}}})(jQuery,Claypool);(function(b,a){a.CachingStrategy$Interface={cache:null,size:null,clear:function(){throw new a.MethodNotImplementedError()},add:function(e,d){throw new a.MethodNotImplementedError()},remove:function(d){throw new a.MethodNotImplementedError()},find:function(d){throw new a.MethodNotImplementedError()}}})(jQuery,Claypool);(function(b,a){a.SimpleCachingStrategy=function(d){b.extend(true,this,d);this.logger=new a.Logging.NullLogger();this.clear();return this};b.extend(a.SimpleCachingStrategy.prototype,a.CachingStrategy$Interface,{clear:function(){this.logger.debug("Clearing Cache.");this.cache=null;this.cache={};this.size=0},add:function(e,d){this.logger.debug("Adding To Cache: %s",e);if(!this.cache[e]){this.cache[e]=d;this.size++;return e}return null},remove:function(d){this.logger.debug("Removing From Cache id: %s",d);if(this.find(d)){return(delete this.cache[d])?--this.size:-1}return null},find:function(d){this.logger.debug("Searching Cache for id: %s",d);return this.cache[d]||null
}})})(jQuery,Claypool);(function(b,a){a.Context=function(d){a.extend(this,a.SimpleCachingStrategy);b.extend(true,this,d);this.logger=new a.Logging.NullLogger()};b.extend(a.Context.prototype,a.SimpleCachingStrategy.prototype,{get:function(d){throw new a.MethodNotImplementedError()},put:function(e,d){throw new a.MethodNotImplementedError()}})})(jQuery,Claypool);(function(b,a){a.ContextContributor=function(d){a.extend(this,a.Context);b.extend(true,this,d);this.logger=b.logger("Claypool.ContextContributor")};b.extend(a.ContextContributor.prototype,a.Context.prototype,{registerContext:function(d){throw new a.MethodNotImplementedError()}})})(jQuery,Claypool);(function(b,a){a.Router=function(d){a.extend(this,a.SimpleCachingStrategy);b.extend(true,this,d);this.logger=a.Logging.getLogger("Claypool.Router")};b.extend(a.Router.prototype,a.SimpleCachingStrategy.prototype,{compile:function(h,e){this.logger.debug("compiling patterns for match strategies");var g,l,k;var f,d;e=e.split("|");for(f=0;f<h.length;f++){for(d=0;d<e.length;d++){g=h[f][e[d]];k=[];if(g){this.logger.debug("Compiling \n\tpattern: %s for \n\ttarget.",g);g=g.replace(/\<\:(.+?)\:\>/g,function(){var j,n=arguments[0].indexOf("(");j=arguments[0].substring(2,n);k.push(j);return arguments[0].substring(n,arguments[0].length-2)});g=g.replace(/\|\:\w+\|/g,function(){var j;j=arguments[0].substring(2,arguments[0].length-1);k.push(j);return"([\\w\\-\\.]+)"});this.add(String(b.uuid()),{pattern:new RegExp(g),payload:h[f],params:k})}}}return this},first:function(e){this.logger.debug("Using strategy 'first'");var d,g,f={};for(g in this.cache){d=this.find(g);this.logger.debug("checking pattern %s for string %s",d.pattern,e);if(d&&d.pattern&&d.pattern.test&&d.pattern.test(e)){this.logger.debug("found match for \n\tpattern: %s \n\ttarget : %s ",d.pattern,d.payload.controller||d.payload.rewrite);if(d.params&&d.params.length>0){e.replace(d.pattern,function(){var h;for(h=1;h<arguments.length-2;h++){f[d.params[h-1]]=arguments[h]}})}return[b.extend({map:f},d)]}}this.logger.debug("found no match for \n\tpattern: %s",e);return[]},all:function(e){this.logger.debug("Using strategy 'all'");var f=[];var d,h,g={};for(h in this.cache){d=this.find(h);this.logger.debug("checking pattern: %s for string %s",d.pattern,e);if(d&&d.pattern&&d.pattern.test&&d.pattern.test(e)){this.logger.debug("found match for \n\tpattern: %s \n\ttarget : %s ",d.pattern,d.payload.controller);if(d.params&&d.params.length>0){e.replace(d.pattern,function(){var j;for(j=1;j<arguments.length-2;j++){g[d.params[j-1]]=arguments[j]}})}f.push(b.extend({map:g},d))}}if(f.length===0){this.logger.debug("found no match for \n\tpattern: %s",e)}return f}})})(jQuery,Claypool);(function(b,a){a.Factory$Interface={create:function(){throw new a.MethodNotImplementedError()}}})(jQuery,Claypool);(function(b,a){a.Configurable$Interface={configurationId:null,configuration:null,configurationUrl:null,configurationType:null,getConfig:function(){throw new a.MethodNotImplementedError()},loadConfig:function(){throw new a.MethodNotImplementedError()},setConfig:function(){throw new a.MethodNotImplementedError()},updateConfig:function(){throw new a.MethodNotImplementedError()}}})(jQuery,Claypool);(function(b,a){a.Scanner$Interface={scan:function(){throw new a.MethodNotImplementedError()}}})(jQuery,Claypool);(function(b,a){a.BaseFactory=function(d){a.extend(this,a.SimpleCachingStrategy);b.extend(true,this,{configurationUrl:"./app/configs/config.js",configurationType:"json"},d);this.logger=new a.Logging.NullLogger();return this};b.extend(a.BaseFactory.prototype,a.SimpleCachingStrategy.prototype,a.Factory$Interface,a.Configurable$Interface,a.Scanner$Interface,{getConfig:function(){if(!this.configuration){this.logger.debug("Configuration for <%s> has not been set explicitly or has been updated implicitly.",this.configurationId);try{this.logger.debug("$$.Configuration: \n %o",a.Configuration);if(a.Configuration[this.configurationId]){this.logger.debug("Found Claypool.Configuration");this.configuration=a.Configuration[this.configurationId]}else{if(!a.Configuration){this.loadConfig()}}}catch(d){this.logger.exception(d);throw new a.ConfigurationError(d)}}return this.configuration},loadConfig:function(d){d=d||{};this.configurationUrl=d.url||this.configurationUrl;this.logger.debug("Attempting to load configuration from: %s",this.configurationUrl);var g=this;try{jQuery.ajax({type:"Get",url:this.configurationUrl,async:false,data:{},dataType:"json",success:function(e){if(g.configurationUrl=="./app/configs/config.js"){a.Configuration=a.Configuration||{};b.extend(true,a.Configuration,e)}else{g.setConfig(g.configurationId,e?e:null)}if(d.callback){d.callback(a.Configuration)}}})}catch(f){this.logger.exception(f);throw new a.ConfigurationError(f)}},setConfig:function(e,d){this.logger.debug("Setting configuration");this.configuration=d;a.Configuration[e]=d},updateConfig:function(d){throw new a.MethodNotImplementedError()}})})(jQuery,Claypool);(function(b,a){a.Error=function(f,d){b.extend(true,this,f||new Error());this.name=(d&&d.name?d.name:"Claypool.UnknownError")+" > Claypool.Error"+(this.name?(" > "+this.name):"");this.message=(d&&d.name?d.name:"No Message Provided \n Nested exception is:\n\t")+(this.message||"UnknownError")}})(jQuery,Claypool);(function(b,a){a.ConfigurationError=function(g,d){var f={name:"Claypool.ConfigurationError",message:"An error occured trying to locate or load the system configuration."};b.extend(this,new a.Error(g,d?{name:(d.name?(d.name+" > "):"")+f.name,message:(d.message?(d.message+" \n "):"")+f.message}:f))}})(jQuery,Claypool);(function(b,a){a.MethodNotImplementedError=function(g,d){var f={name:"Claypool.MethodNotImplementedError",message:"Method not implemented."};b.extend(this,new a.Error(g,d?{name:(d.name?(d.name+" > "):"")+f.name,message:(d.message?(d.message+" \n "):"")+f.message}:f))}})(jQuery,Claypool);(function(b,a){a.NameResolutionError=function(g,d){var f={name:"Claypool.NameResolutionError",message:"Unexpected error resolving name."};b.extend(this,new a.Error(g,d?{name:(d.name?(d.name+" > "):"")+f.name,message:(d.message?(d.message+" \n "):"")+f.message}:f))}})(jQuery,Claypool);(function(g,b){var f=[],d=0,a={},e;g.extend(a,{$:function(l,k){var h,j;if(k===undefined){h=null;for(j=0;j<f.length;j++){h=f[j]().get(l);if(h){return h}}return null}else{f[0]().put(l,k)}},register:function(j,h){if(Math.abs(h)>(f.length-1)/2){if(h===0&&g.isFunction(j.getContext)){f[0]=j.getContext}else{if(h!==0){if(g.isFunction(j.getContext)){f.push(j.getContext)}if(g.isFunction(j.getCachedContext)){f.unshift(j.getCachedContext)}}}}},uuid:function(){return new Date().getTime()+"_"+(++d)+"_"+Math.round(Math.random()*100000000)},resolve:function(h){var o;var k;var n;var j;try{o=function(p){return this[p]};k=h.split(".");n=null;for(j=0;j<k.length;j++){n=o.call(n,k[j]);if(n===undefined){return n}}return n}catch(l){throw new b.NameResolutionError(l)}},config:function(){var h,j;if(arguments.length===0){return b.Configuration}else{if(arguments.length===1&&typeof(arguments[0])=="string"){return g.resolve("Claypool.Configuration."+arguments[0])}else{h=g.resolve("Claypool.Configuration."+arguments[0]);if(h){j=arguments[1];if(j instanceof Array){h=g.merge(h,j)}else{if(j instanceof Object){h=g.extend(true,h,j)}}}}}return this},env:function(){var j,h;if(arguments.length==2){e=g.extend(true,e||{},g.config("env."+arguments[0]),g.config("env."+arguments[1]));return e}else{if(arguments.length===0){h=g.config("env.automap");for(j in h){if(new RegExp(j).exec(window.location)){return g.env("defaults",h[j])}}}else{if(arguments.length===1&&!(typeof(arguments[0])=="string")){return g.config("env",arguments[0])}return e[arguments[0]]||null}}return null}});g.extend(b,a);g.extend(g,a)})(jQuery,Claypool);Claypool.Logging={NullLogger:null,getLogger:null};(function(b,a,d){b.extend(d,{loggerFactory:null,getLogger:function(e){if(!d.loggerFactory){d.loggerFactory=new d.Factory()}if(d.updated){d.loggerFactory.updateConfig();
d.updated=false}return d.loggerFactory.create(e)}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.Level={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4}})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.Logger$Interface={debug:function(){throw new a.MethodNotImplementedError()},info:function(){throw new a.MethodNotImplementedError()},warn:function(){throw new a.MethodNotImplementedError()},error:function(){throw new a.MethodNotImplementedError()},exception:function(){throw new a.MethodNotImplementedError()}}})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.NullLogger=function(){var e=function(){return this};b.extend(this,{debug:e,info:e,warn:e,error:e,exception:e})}})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.Logger=function(f){this.category="root";this.level=null;try{b.extend(true,this,f);this.level=d.Level[this.level?this.level:"NONE"];try{this.appender=new (b.resolve(this.appender||"Claypool.Logging.ConsoleAppender"))(f)}catch(g){try{this.appender=new d.ConsoleAppender(f)}catch(g){this.appender=new d.SysOutAppender(f)}}return this}catch(g){return new d.NullLogger()}};b.extend(d.Logger.prototype,d.Logger$Interface,{debug:function(){if(this.level<=d.Level.DEBUG){this.appender.append("DEBUG",this.category,arguments);return this}else{this.debug=function(){return this}}return this},info:function(){if(this.level<=d.Level.INFO){this.appender.append("INFO",this.category,arguments);return this}else{this.debug=function(){return this}}return this},warn:function(){if(this.level<=d.Level.WARN){this.appender.append("WARN",this.category,arguments);return this}else{this.debug=function(){return this}}return this},error:function(){if(this.level<=d.Level.ERROR){this.appender.append("ERROR",this.category,arguments);return this}else{this.debug=function(){return this}}return this},exception:function(f){if(this.level<d.Level.NONE){if(f){this.appender.append("EXCEPTION",this.category,f);return this}}else{this.debug=function(){return this}}return this}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.Appender$Interface={formatter:null,append:function(g,f,e){throw new a.MethodNotImplementedError()}}})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.SysOutAppender=function(f){var g=function(){var h=null;h.toString()};if(b.isFunction(print)&&(window.load!==undefined)&&b.isFunction(window.load)){try{g()}catch(e){if(e.rhinoException){b.extend(true,this,f);this.formatter=new d.DefaultFormatter(f);return this}}}throw new d.NoAppendersAvailableError()};b.extend(d.SysOutAppender.prototype,d.Appender$Interface,{append:function(h,f,e){switch(h){case"DEBUG":print(this.formatter.format(h,f,e));break;case"INFO":print(this.formatter.format(h,f,e));break;case"WARN":print(this.formatter.format(h,f,e));break;case"ERROR":print(this.formatter.format(h,f,e));break;case ("EXCEPTION"):var g=e&&e.rhinoException?"\n\t"+e.rhinoException.message+"\tcolumn: "+e.rhinoException.columnNumber()+"\tline: "+e.rhinoException.lineNumber():"UNKNOWN RUNTIME ERROR";print(this.formatter.format(h,f,g));break}}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.ConsoleAppender=function(f){var h;try{if(window&&window.console&&window.console.log){try{if("Envjs" in window){return new d.SysOutAppender(f)}}catch(g){}b.extend(true,this,f);this.formatter=new d.FireBugFormatter(f);return this}else{return new d.SysOutAppender(f)}}catch(g){throw g}return this};b.extend(d.ConsoleAppender.prototype,d.Appender$Interface,{append:function(g,f,e){switch(g){case ("DEBUG"):console.log.apply(console,this.formatter.format(g,f,e));break;case ("INFO"):console.info.apply(console,this.formatter.format(g,f,e));break;case ("WARN"):console.warn.apply(console,this.formatter.format(g,f,e));break;case ("ERROR"):console.error.apply(console,this.formatter.format(g,f,e));break;case ("EXCEPTION"):console.error.apply(console,this.formatter.format(g,f,e.message?[e.message]:[]));console.trace();break}}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.Formatter$Interface={format:function(g,e,f){throw new b.MethodNotImplementedError()}}})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.FireBugFormatter=function(e){b.extend(true,this,e)};b.extend(d.FireBugFormatter.prototype,d.Formatter$Interface,{getDateString:function(){return" ["+new Date().toUTCString()+"] "},format:function(j,g,h){var e=g+" "+j+": "+this.getDateString();h=(h&&h.length&&(h.length>0))?h:[];var f=(h.length>0)?h[0]:null;if(typeof(f)!="string"){h.unshift(e)}else{h[0]=e+f}return h}})})(jQuery,Claypool,Claypool.Logging);(function(e,b,g){var f=/((^%|[^\\]%)(\d+)?(\.)([a-zA-Z]))|((^%|[^\\]%)([a-zA-Z]))/,a=/function ?(.*?)\(/,d=/\[object (.*?)\]/;g.DefaultFormatter=function(h){e.extend(true,this,h)};e.extend(g.DefaultFormatter.prototype,g.Formatter$Interface,{getDateString:function(){return" ["+new Date().toUTCString()+"] "},format:function(h,j,r){var k=" "+h+":  "+this.getDateString()+"{"+j+"} ";var l=[k?k:""];var q=r[0];var n=0;if(typeof(q)!="string"){q="";n=-1}var o=this.parseFormat(q);var p;for(p=0;p<o.length;++p){if(o[p]&&typeof(o[p])=="object"){o[p].appender.call(this,r[++n],l)}else{this.appendText(o[p],l)}}for(p=n+1;p<r.length;++p){this.appendText(" ",l);if(typeof(r[p])=="string"){this.appendText(r[p],l)}else{this.appendObject(r[p],l)}}return l.join("")},parseFormat:function(p){var o=[];var j={s:this.appendText,d:this.appendInteger,i:this.appendInteger,f:this.appendFloat};var n;var l;var k;var h;for(h=f.exec(p);h;h=f.exec(p)){n=h[8]?h[8]:h[5];l=n in j?j[n]:this.appendObject;k=h[3]?parseInt(h[3],10):(h[4]=="."?-1:0);o.push(p.substr(0,h[0][0]=="%"?h.index:h.index+1));o.push({appender:l,precision:k});p=p.substr(h.index+h[0].length)}o.push(p);return o},objectToString:function(h){try{return h+""}catch(j){return null}},appendText:function(h,j){j.push(this.objectToString(h))},appendNull:function(h,j){j.push(this.objectToString(h))},appendString:function(h,j){j.push(this.objectToString(h))},appendInteger:function(h,j){j.push(this.objectToString(h))},appendFloat:function(h,j){j.push(this.objectToString(h))},appendFunction:function(k,l){var h=a.exec(this.objectToString(k));var j=h?h[1]:"function";l.push(this.objectToString(j))},appendObject:function(h,k){try{if(h===undefined){this.appendNull("undefined",k)}else{if(h===null){this.appendNull("null",k)}else{if(typeof h=="string"){this.appendString(h,k)}else{if(typeof h=="number"){this.appendInteger(h,k)}else{if(typeof h=="function"){this.appendFunction(h,k)}else{if(h.nodeType==1){this.appendSelector(h,k)}else{if(typeof h=="object"){this.appendObjectFormatted(h,k)}else{this.appendText(h,k)}}}}}}}}catch(j){}},appendObjectFormatted:function(j,l){var k=this.objectToString(j);var h=d.exec(k);l.push(h?h[1]:k)},appendSelector:function(h,j){j.push(h.nodeName.toLowerCase());if(h.id){j.push(h.id)}if(h.className){j.push(h.className)}j.push("</span>")},appendNode:function(k,l){var h;var j;var n;if(k.nodeType==1){l.push("<",k.nodeName.toLowerCase(),">");for(j=0;j<k.attributes.length;++j){h=k.attributes[j];if(!h.specified){continue}l.push(h.nodeName.toLowerCase(),'="',h.nodeValue,'"')}if(k.firstChild){for(n=k.firstChild;n;n=n.nextSibling){this.appendNode(n,html)}l.push("</",k.nodeName.toLowerCase(),">")}else{l.push("/>")}}else{if(k.nodeType==3){l.push(k.nodeValue)}}}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.Factory=function(e){a.extend(this,a.BaseFactory);this.configurationId="logging";b.extend(true,this,e);this.logger=new d.Logger({category:"Claypool.Logging.Factory",level:"INFO",appender:"Claypool.Logging.ConsoleAppender"});this.attemptedConfigure=false};b.extend(d.Factory.prototype,a.BaseFactory.prototype,{create:function(h){var e,j,f,g;if(!this.configuration){if(!this.attemptedConfigure){this.logger.warn("Claypool Logging was not initalized correctly. Logging will not occur unless initialized.")}this.attemptedConfigure=true;return new d.NullLogger()}else{e=h.split(".");for(i=0;i<e.length;i++){j=e.slice(0,e.length-i).join(".");f=this.find(j);if(f!==null){f.category=h;return new d.Logger(f)
}}g=this.find("root");this.logger.debug("root logging category is set to %s",g);if(g!==null){g.category=h;return new d.Logger(g)}}this.logger.warn("No Matching category: %s Please configure a root logger.",h);return new d.NullLogger()},updateConfig:function(){var k;var h;var g;try{this.logger.debug("Configuring Claypool Logging");this.clear();k=this.getConfig()||[];for(g=0;g<k.length;g++){try{h=k[g];this.add(h.category,h)}catch(f){this.logger.exception(f);return false}}}catch(j){this.logger.exception(j);throw new d.ConfigurationError(j)}return true}})})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.ConfigurationError=function(g,f){b.extend(this,new a.ConfigurationError(g,f||{name:"Claypool.Logging.ConfigurationError",message:"An error occured trying to configure the logging system."}))}})(jQuery,Claypool,Claypool.Logging);(function(b,a,d){d.NoAppendersAvailableError=function(g,f){b.extend(this,new a.Error(g,f||{name:"Claypool.Logging.NoAppendersAvailableError",message:"An error occured trying to configure the logging system."}))}})(jQuery,Claypool,Claypool.Logging);(function(d,a,e){d.extend(d,{logger:function(f){return e.getLogger(f)},logging:function(){if(arguments.length===0){return d.config("logging")}else{e.updated=true;return d.config("logging",arguments[0])}}});var b;d.extend(d,{debug:function(){b=b||d.logger("jQuery");b.debug.apply(b,arguments);return this},info:function(){b=b||d.logger("jQuery");b.info.apply(b,arguments);return this},warn:function(){b=b||d.logger("jQuery");b.warn.apply(b,arguments);return this},error:function(){b=b||d.logger("jQuery");b.error.apply(b,arguments);return this},exception:function(){b=b||d.logger("jQuery");b.exception.apply(b,arguments);return this}})})(jQuery,Claypool,Claypool.Logging);Claypool.Application={};(function(e,b,d){var a=0;d.context=null;e.extend(d,{getContext:function(){if(!d.context){d.context=new d.Context()}return d.context},Initialize:function(f){e(document).trigger("claypool:initialize",[d]);if(f){f()}e(document).trigger("ApplicationLoaded");return d.getContext()},Reinitialize:function(f){e(document).trigger("claypool:reinitialize",[d]);if(f){f()}e(document).trigger("ApplicationReloaded");return d.getContext()}});e.register(d,a);b.Commands={}})(jQuery,Claypool,Claypool.Application);(function(d,a,b){b.Context=function(e){a.extend(this,a.Context);this.contextContributors={};d.extend(true,this,e);this.logger=d.logger("Claypool.Application.Context")};d.extend(b.Context.prototype,a.Context.prototype,{get:function(k){var h,g,f;try{f=typeof(k)=="string"&&k.indexOf("#")>-1?[k.split("#")[0],"#"+k.split("#")[1]]:["",k];if(!this.find(f[0])){this.add(f[0],new a.SimpleCachingStrategy())}this.logger.debug("Searching application context for object: %s",k);h=null;h=this.find(f[0]).find(f[1]);if(h!==null){this.logger.debug("Found object in global application context. Object id: %s",k);return h}else{this.logger.debug("Searching for object in contributed application context. Object id: %s",k);for(g in this.contextContributors){this.logger.debug("Checking Application Context Contributor %s.",g);h=this.contextContributors[g].get(k);if(h!==null){this.logger.debug("Found object in contributed application context. Object id: %s",k);return h}}}this.logger.debug("Cannot find object in any application context. Object id: %s",k);return null}catch(j){throw new b.ContextError(j)}},put:function(h,f){var g,e;g=typeof(h)=="string"&&h.indexOf("#")>-1?[h.split("#")[0],"#"+h.split("#")[1]]:["",h];e=this.find(g[0]);if(!e){e=new a.SimpleCachingStrategy();this.add(g[0],e)}if(e.find(g[0])){e.remove(g[1])}this.logger.debug("Adding object to global application context %s",h);e.add(g[1],f)}})})(jQuery,Claypool,Claypool.Application);(function(d,a,b){b.ContextContributor=function(e){a.extend(this,a.ContextContributor);d.extend(true,this,e);this.logger=d.logger("Claypool.Application.ContextContributor");return this};d.extend(b.ContextContributor.prototype,a.ContextContributor.prototype,{registerContext:function(e){this.logger.info("Registering Context id: %s",e);b.getContext().contextContributors[e]=this}})})(jQuery,Claypool,Claypool.Application);(function(d,a,b){b.Aware=function(e){d.extend(this,e);this.logger=d.logger("Claypool.Application.Aware")};d.extend(b.Aware.prototype,{$:function(){return b.getContext()}})})(jQuery,Claypool,Claypool.Application);(function(d,a,b){b.ContextError=function(h,f){var g={name:"Claypool.Application.ContextError",message:"An unexpected error occured while searching the application context."};d.extend(this,new a.Error(h,f?{name:(f.name?(f.name+" > "):"")+g.name,message:(f.message?(f.message+" \n "):"")+g.message}:g))}})(jQuery,Claypool,Claypool.Application);(function(d,a,b){d.extend(d,{app:function(){return b.getContext()},boot:function(e){b.Initialize(e);return this},reboot:function(e){b.Reinitialize(e);return this},manage:function(e,f,g){d(document).bind("claypool:initialize",function(j,h){if(!h[f]){h[f]=new (d.resolve(e))();if(h.ContextContributor&&d.isFunction(h.ContextContributor)){h[f].registerContext(e)}}else{h[f].factory.updateConfig()}if(g&&d.isFunction(g)){g(h[f])}}).bind("claypool:reinitialize",function(j,h){h[f]=new (d.resolve(e))();if(h.ContextContributor&&d.isFunction(h.ContextContributor)){h[f].registerContext(e)}if(g&&d.isFunction(g)){g(h[f])}});return this}})})(jQuery,Claypool,Claypool.Application);Claypool.AOP={};(function(d,b,a){d.manage("Claypool.AOP.Container","claypool:AOP")})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.Aspect=function(e){this.id=null;this.type=null;b.extend(this,b.SimpleCachingStrategy);d.extend(true,this,e);this.logger=d.logger("Claypool.AOP.Aspect");this.strategy=this.strategy||"all"};d.extend(a.Aspect.prototype,b.SimpleCachingStrategy.prototype,{weave:function(){var k=this;var h;var e;if(!this.target){k.logger.warn("No pointcut was specified.  Cant weave aspect.");return}var j=function(f){var o,n,l;try{k.logger.debug("Weaving Advice %s for Aspect %s",f,k.id);k.hasPrototype=typeof(k.target.prototype)!="undefined";n=k.hasPrototype?k.target.prototype[f]:k.target[f];o=k.advise(n,k._target,f);if(!k.hasPrototype){k.target[f]=o}else{k.target.prototype[f]=o}l={pointcut:o,cutline:n,method:f,target:k._target};return l}catch(p){throw new a.WeaveError(p,"Weave")}};if(this.size===0){h=new RegExp(this[this.type?this.type:"method"]);e=this.target.prototype?this.target.prototype:this.target;for(var g in e){if(d.isFunction(e[g])&&h.test(g)){this.logger.debug("Adding aspect to method %s",g);this.add(d.uuid(),j(g));if(this.strategy==="first"){break}}}}return this},unweave:function(){var f;try{for(var h in this.cache){f=this.find(h);if(!this.hasPrototype){this.target[this.method]=f.cutline}else{this.target.prototype[this.method]=f.cutline}this.hasPrototype=null}this.clear()}catch(g){throw new a.WeaveError(g,"Unweave")}return true},advise:function(e){throw new b.MethodNotImplementedError()}})})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.After=function(e){b.extend(this,a.Aspect);d.extend(true,this,e);this.logger=d.logger("Claypool.AOP.After");this.type="after"};d.extend(a.After.prototype,a.Aspect.prototype,{advise:function(f,h,k){var j=this;try{return function(){var e=f.apply(this,arguments);return j.advice.apply(j,[e,h,k])}}catch(g){throw new a.AspectError(g,"After")}}})})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.Before=function(e){b.extend(this,a.Aspect);d.extend(true,this,e);this.logger=d.logger("Claypool.AOP.Before");this.type="before"};d.extend(a.Before.prototype,a.Aspect.prototype,{advise:function(f,h,k){var j=this;try{return function(){var e=[];j.logger.debug("cutline arguments length %s",arguments.length);for(var l=0;l<arguments.length;l++){e.push(arguments[l])}e.push({target:h,method:k});j.logger.debug("applying advice to %s.%s",h,k);j.advice.apply(j,e);return f.apply(this,arguments)}}catch(g){throw new a.AspectError(g,"Before")}}})})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.Around=function(e){b.extend(this,a.Aspect);d.extend(true,this,e);this.logger=d.logger("Claypool.AOP.Around");
this.type="around"};d.extend(a.Around.prototype,a.Aspect.prototype,{advise:function(f,h,k){var j=this;try{return function(){var e={object:this,args:arguments};return j.advice.apply(j,[{object:e.object,arguments:e.args,target:h,method:k,proceed:function(){var l=f.apply(e.object,e.args);return l}}])}}catch(g){throw new a.AspectError(g,"Around")}}})})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.Factory=function(e){b.extend(this,b.BaseFactory);d.extend(true,this,e);this.configurationId="aop";this.aspectCache=null;this.logger=d.logger("Claypool.AOP.Factory");this.aspectCache=new b.SimpleCachingStrategy()};d.extend(a.Factory.prototype,b.BaseFactory.prototype,{updateConfig:function(){var n=this;var g;var l;var k;var j,h,f,p;try{this.logger.debug("Configuring Claypool AOP AspectFactory");g=this.getConfig()||[];this.logger.debug("AOP Configurations: %d",g.length);for(k=0;k<g.length;k++){try{l=g[k];if(!d.isFunction(l.advice)){l.advice=d.resolve(l.advice)}if(l.target.match("^ref://")){j=l.target.substr(6,l.target.length);d(document).bind("claypool:ioc:"+j,function(s,t,r){n.logger.debug("Creating aspect id %s for instance %s",l.id);var e=r.find(t);l.literal={scope:"global",object:"#"+j};l.target=e._this;n.add(l.id,l);var q=n.create(l.id);e._this=q.target;r.remove(t);r.add(t,e);n.logger.debug("Created aspect \n%s, \n%s")}).bind("claypool:predestroy:"+j,function(r,e){n.logger.debug("Destroying aspect id %s for instance %s",l.id);var q=n.aspectCache.find(l.id);if(q&&q.unweave){q.unweave()}})}else{if(l.target.match(/\.\*$/)){this.logger.debug("Broad aspect target %s",l.target);h=d.resolve(l.target.substring(0,l.target.length-2));for(f in h){if(d.isFunction(h[f])){p=d.extend({},l,{id:l.id+d.uuid(),target:h[f],_target:l.target.substring(0,l.target.length-1)+f});this.logger.debug("Creating aspect id %s [%s] (%s)",l.target,f,p.id);this.add(p.id,p);this.create(p.id)}}}else{this.logger.debug("Creating aspect id %s",l.id);l._target=l.target;l.target=d.resolve(l.target);this.add(l.id,l);this.create(l.id)}}}catch(o){this.logger.exception(o)}}}catch(o){this.logger.exception(o);throw new a.ConfigurationError(o)}return true},create:function(o,j){var n;var f;var g=this.aspectCache.find(o);var l=this;var h=function(p){var e=null;if(p.after){e=new a.After(p)}else{if(p.before){e=new a.Before(p)}else{if(p.around){e=new a.Around(p)}}}return e.weave()};if(g){return g}else{try{this.logger.debug("Looking for configuration for aspect %s",o);n=this.find(o);if(n===undefined||n===null){this.logger.debug("%s is not an Aspect.",o);return null}else{this.logger.debug("Found configuration for instance %s",o);if(n.selector){this.logger.debug("Attaching contructor to an active selector");l=this;f=function(){g=h(n);l.aspectCache.add(n.id+"#"+this.toString(),g);return g};if(n.active){d(n.selector).livequery(f)}else{d(n.selector).each(f)}}else{g=h(n);this.aspectCache.add(o,g)}return g}}catch(k){this.logger.exception(k);throw new a.FactoryError(k)}}}})})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.Container=function(e){b.extend(this,b.Application.ContextContributor);d.extend(true,this,e);this.factory=null;this.logger=d.logger("Claypool.AOP.Container");this.logger.debug("Configuring Claypool AOP Container");this.factory=new a.Factory(e);this.factory.updateConfig()};d.extend(a.Container.prototype,b.Application.ContextContributor.prototype,{get:function(j){var f,g;try{g=typeof(j)=="string"&&j.indexOf("#")>-1?[j.split("#")[0],"#"+j.split("#")[1]]:["",j];if(!this.find(g[0])){this.add(g[0],new b.SimpleCachingStrategy())}this.logger.debug("Search for a container managed aspect :%s",j);f=this.find(g[0]).find(g[1]);if(f===undefined||f===null){this.logger.debug("Can't find a container managed aspect :%s",j);f=this.factory.create(g[1],g[0]);if(f!==null){this.find(g[0]).add(g[1],f);return f}}else{this.logger.debug("Found container managed instance :%s",j);return f}}catch(h){this.logger.exception(h);throw new a.ContainerError(h)}return null}})})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.ContainerError=function(h,f){var g={name:"Claypool.AOP.ContainerError",message:"An error occured inside the aop container."};d.extend(this,new b.Error(h,f?{name:(f.name?(f.name+" > "):"")+g.name,message:(f.message?(f.message+" \n "):"")+g.message}:g))}})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.ConfigurationError=function(h,f){var g={name:"Claypool.AOP.ConfigurationError",message:"An error occured updating the aop container configuration."};d.extend(this,new b.ConfigurationError(h,f?{name:(f.name?(f.name+" > "):"")+g.name,message:(f.message?(f.message+" \n "):"")+g.message}:g))}})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.FactoryError=function(h,f){var g={name:"Claypool.AOP.FactoryError",message:"An error occured creating the aspect from the configuration."};d.extend(this,new b.Error(h,f?{name:(f.name?(f.name+" > "):"")+g.name,message:(f.message?(f.message+" \n "):"")+g.message}:g))}})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.WeaveError=function(h,f){var g={name:"Claypool.AOP.WeaveError",message:"An error occured weaving or unweaving the aspect."};d.extend(this,new b.Error(h,f?{name:(f.name?(f.name+" > "):"")+g.name,message:(f.message?(f.message+" \n "):"")+g.message}:g))}})(jQuery,Claypool,Claypool.AOP);(function(d,b,a){a.AspectError=function(h,f){var g={name:"Claypool.AOP.AspectError",message:"An error occured while applying an aspect."};d.extend(this,new b.Error(h,f?{name:(f.name?(f.name+" > "):"")+g.name,message:(f.message?(f.message+" \n "):"")+g.message}:g))}})(jQuery,Claypool,Claypool.AOP);(function(d,a,b){d.extend(d,{filters:function(){if(arguments.length===0){return d.config("aop")}else{return d.config("aop",arguments[0])}}})})(jQuery,Claypool,Claypool.AOP);Claypool.IoC={};(function(d,a,b){d.manage("Claypool.IoC.Container","claypool:IoC")})(jQuery,Claypool,Claypool.IoC);(function(d,a,b){b.Instance=function(f,e){d.extend(this,{_this:null,id:null,configuration:null,guid:d.uuid(),type:null,id:f,configuration:e||{},logger:d.logger("Claypool.IoC.Instance")});this.logger.category=this.logger.category+"."+this.id};d.extend(b.Instance.prototype,{precreate:function(){try{this._this={claypoolId:this.id};this.logger.debug("Precreating Instance");d(document).trigger("claypool:precreate",[this._this,this.id]);d(document).trigger("claypool:precreate:"+this.id,[this._this]);return this}catch(f){this.logger.error("An Error occured in the Pre-Create LifeCycle Phase");this.logger.exception(f);throw new b.LifeCycleError(f)}},create:function(){var k,s,g,h;var o,r,n,q;var f,l;try{this.logger.debug("Applying Selector to Instance");if(this.configuration.selector){this._this=d(this.configuration.selector);this.logger.debug("Result for selector : ",this._this)}else{this.logger.debug("Using default empty object");this._this={}}if(this.configuration.factory){k={};if(this.configuration.factory.substring(6,0)=="ref://"){this.logger.debug("Retreiving Factory from Application Context");k=d.$(this.configuration.factory)}else{this.logger.info("Creating Instance from Factory");s=this.resolveConstructor(this.configuration.factory);retval=s.apply(k,this.configuration.options);k=retval||k}this.logger.debug("Applying factory creation method");g=this.configuration.factoryMethod||"create";o=k[g].apply(k,this.configuration.options);this._this=d.extend(true,o,this._this)}else{this.logger.info("Creating Instance simulating constructor: %s",this.configuration.clazz);n=this.resolveConstructor(this.configuration.clazz);q=this.configuration.options||[];o={};switch(q.length){case 0:o=new n();break;case 1:o=new n(q[0]);break;case 2:o=new n(q[0],q[1]);break;case 3:o=new n(q[0],q[1],q[2]);break;case 4:o=new n(q[0],q[1],q[2],q[3]);break;case 5:o=new n(q[0],q[1],q[2],q[3],q[4]);break;case 6:o=new n(q[0],q[1],q[2],q[3],q[4],q[5]);break;case 7:o=new n(q[0],q[1],q[2],q[3],q[4],q[5],q[6]);break;case 8:o=new n(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7]);break;case 9:o=new n(q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8]);break;default:r=n.apply(o,q);
o=r||o}o.$ns=this.configuration.clazz;o.$log=d.logger(o.$ns);o.$log.debug("Created new instance of %s",o.$ns);this._this=d.extend(true,o,this._this)}f=this.configuration.inject||{};for(var j in f){l=f[j];if(d.isFunction(l.substring)&&(l.substring(0,6)=="ref://")){f[j]=d.$(l.substring(6,l.length))}}d.extend(this._this,f);d(document).trigger("claypool:create",[this._this,this.id]);d(document).trigger("claypool:create:"+this.id,[this._this]);return this._this}catch(p){this.logger.error("An Error occured in the Create LifeCycle Phase");this.logger.exception(p);throw new b.LifeCycleError(p)}},postcreate:function(){try{this.logger.debug("PostCreate invoked");d(document).trigger("claypool:postcreate",[this._this,this.id]);d(document).trigger("claypool:postcreate:"+this.id,[this._this]);return this._this}catch(f){this.logger.error("An Error occured in the Post-Create LifeCycle Phase");this.logger.exception(f);throw new b.LifeCycleError(f)}},predestroy:function(){try{this.logger.debug("Predestory invoked");d(document).trigger("claypool:predestroy",[this._this,this.id]);d(document).trigger("claypool:predestroy:"+this.id,[this._this]);return this._this}catch(f){this.logger.exception(f);throw new b.LifeCycleError(f)}},destroy:function(){try{this.logger.info("Destroy invoked");d(document).trigger("claypool:destroy",[this._this,this.id]);d(document).trigger("claypool:destroy:"+this.id,[this._this]);return delete this._this}catch(f){this.logger.exception(f);throw new b.LifeCycleError(f)}},postdestroy:function(){try{this.logger.debug("Postdestory invoked");d(document).trigger("claypool:postdestroy",[this.id]);d(document).trigger("claypool:postdestroy:"+this.id);return this}catch(f){this.logger.exception(f);throw new b.LifeCycleError(f)}},resolveConstructor:function(f){var g;try{g=d.resolve(f);if(d.isFunction(g)){this.logger.debug(" Resolved "+f+" to a function");return g}else{throw new Error("Constructor is not a function: "+f)}}catch(h){this.logger.exception(h);throw new b.ConstructorResolutionError(h)}}})})(jQuery,Claypool,Claypool.IoC);(function($,$$,$$IoC){$$IoC.Factory=function(options){$$.extend(this,$$.BaseFactory);$.extend(true,this,options);this.configurationId="ioc";this.lazyLoadAttempts={};this.logger=$.logger("Claypool.IoC.Factory")};$.extend($$IoC.Factory.prototype,$$.BaseFactory.prototype,{createLifeCycle:function(instance){try{instance.precreate();instance.create();instance.postcreate()}catch(e){this.logger.error("An Error occured in the Creation Lifecycle.");this.logger.exception(e);throw new $$IoC.LifeCycleError(e)}},destroyLifeCycle:function(instance){try{instance.predestroy();instance.destroy();instance.postdestroy()}catch(e){this.logger.error("An Error occured in the Destory Lifecycle.");this.logger.exception(e);throw new $$IoC.LifeCycleError(e)}},create:function(id,namespace){var configuration,instance,_this=this,remote,folder,file,literal;try{namespace=namespace||"";if(!this.find(namespace)){this.logger.debug("Adding cache for namespace %s",namespace);this.add(namespace,new $$.SimpleCachingStrategy())}this.logger.debug("Looking for configuration for instance %s%s",namespace,id);configuration=this.find(namespace).find(id);if(configuration===null){this.logger.warn("No known configuration for instance %s%s",namespace,id);remote=id.match(/#([a-z]+([A-Z]?[a-z]+)+)([A-Z][a-z]+)+/);if(remote){_this.logger.debug("resolving lazyload %s",id);literal=[$$.Namespaces[namespace]];folder=namespace||"";literal[1]=remote.pop();literal[1]=literal[1]+"s";folder=($.env("appbase")||"/")+folder+literal[1].toLowerCase()+"/";literal[2]=remote[1].substring(0,1).toUpperCase()+remote[1].substring(1);file=remote[1].toLowerCase()+".js";_this.logger.debug("attempting to lazyload %s from %s%s",id,folder,file);if(_this.lazyLoadAttempts[folder+file]){_this.logger.debug("already attempted to load %s%s",folder,file);return null}else{_this.lazyLoadAttempts[folder+file]=1;$.ajax({async:false,url:folder+file,dataType:"text",timeout:3000,success:function(text){_this.logger.info("lazyloaded %s ",literal.join("."));if(!$.env("debug")){jQuery.globalEval(text)}else{eval(text)}var config={id:id,namespace:namespace,clazz:literal.join(".")};if(literal[1]=="Views"){config.selector="#"+literal[2].substring(0,1).toLowerCase()+literal[2].substring(1)}_this.find(namespace).add(id,config)},error:function(xhr,status,e){_this.logger.error("failed (%s) to load %s%s",xhr.status,folder,file).exception(e)}});_this.logger.info("completed lazyloaded for %s%s ",id,namespace);return _this.create(id,namespace)}}else{logger.warn("id requested did not match those applicable for late loading %s",id)}return null}else{this.logger.debug("Found configuration for instance %s%s",namespace,id);instance=new $$IoC.Instance(configuration.id,configuration);if(configuration.active&&configuration.selector){this.logger.debug("Attaching contructor to an active selector");instance.precreate();instance._this["@claypool:activeobject"]=configuration.selector;instance._this["@claypool:id"]=instance.id;jQuery(configuration.selector).livequery(function(){_this.logger.debug("Processing Creation Lifecycle.");_this.createLifeCycle(instance)},function(){_this.logger.debug("Processing Destruction Lifecycle.");_this.destroyLifeCycle(instance)})}else{this.logger.debug("Processing Creation Lifecycle.");this.createLifeCycle(instance)}return instance}}catch(e){this.logger.exception(e);throw new $$IoC.FactoryError(e)}},updateConfig:function(){var iocConfiguration;var iocconf;var i;try{this.logger.debug("Configuring Claypool IoC Factory");iocConfiguration=this.getConfig()||[];this.logger.debug("IoC Configurations: %d",iocConfiguration.length);for(i=0;i<iocConfiguration.length;i++){try{iocconf=iocConfiguration[i];if(iocconf.scan&&iocconf.factory){this.logger.debug("Scanning %s with %s",iocconf.scan,iocconf.factory);iocConfiguration=iocConfiguration.concat(iocconf.factory.scan(iocconf.scan,iocconf.namespace))}else{this.logger.debug("IoC Configuration for Id: %s%s",iocconf.namespace||"",iocconf.id);if(iocconf.namespace){if(!this.find(iocconf.namespace)){this.add(iocconf.namespace,new $$.SimpleCachingStrategy())}this.find(iocconf.namespace).add(iocconf.id,iocconf)}else{if(!this.find("")){this.add("",new $$.SimpleCachingStrategy())}this.find("").add(iocconf.id,iocconf)}}}catch(e){this.logger.exception(e);return false}}}catch(e){this.logger.exception(e);throw new $$IoC.ConfigurationError(e)}return true}})})(jQuery,Claypool,Claypool.IoC);(function(d,a,b){b.Container=function(e){a.extend(this,a.Application.ContextContributor);d.extend(true,this,e);this.factory=null;this.logger=d.logger("Claypool.IoC.Container");this.logger.debug("Configuring Claypool IoC Container");this.factory=new b.Factory();this.factory.updateConfig()};d.extend(b.Container.prototype,a.Application.ContextContributor.prototype,{get:function(k){var f,g,j=this;try{g=typeof(k)=="string"&&k.indexOf("#")>-1?[k.split("#")[0],"#"+k.split("#")[1]]:["",k];if(!this.find(g[0])){this.add(g[0],new a.SimpleCachingStrategy())}this.logger.debug("Searching for a container managed instance :%s",k);f=this.find(g[0]).find(g[1]);if(!f){this.logger.debug("Can't find a container managed instance :%s",k);f=this.factory.create(g[1],g[0]);if(f){this.logger.debug("Storing managed instance %s in container",k);this.find(g[0]).add(g[1],f);if(f._this["@claypool:activeobject"]){d(document).bind("claypool:postcreate:"+f.id,function(l,e,n){j.logger.info("Reattached Active Object Inside IoC Container");f._this=e});d(document).bind("claypool:postdestroy:"+f.id,function(){j.logger.info("Removed Active Object Inside IoC Container");j.find(g[0]).remove(g[1])})}else{d(document).trigger("claypool:ioc",[k,this]);d(document).trigger("claypool:ioc:"+k,[k,this])}return this.find(g[0]).find(g[1])._this}}else{this.logger.debug("Found container managed instance :%s",k);return f._this}}catch(h){this.logger.exception(h);throw new b.ContainerError(h)}return null}})})(jQuery,Claypool,Claypool.IoC);(function(d,a,b){b.ContainerError=function(f){d.extend(this,new a.Error(f,{name:"Claypool.IoC.ContainerError",message:"An error occured in the ioc instance factory."}))
}})(jQuery,Claypool,Claypool.IoC);(function(d,a,b){b.FactoryError=function(f){d.extend(this,new a.Error(f,{name:"Claypool.IoC.FactoryError",message:"An error occured in the ioc factory."}))}})(jQuery,Claypool,Claypool.IoC);(function(d,a,b){b.ConfigurationError=function(f){d.extend(this,new a.ConfigurationError(f,{name:"Claypool.IoC.ConfigurationError",message:"An error occured updating the ioc container configuration."}))}})(jQuery,Claypool,Claypool.IoC);(function(d,a,b){b.LifeCycleError=function(f){d.extend(this,new a.Error(f,{name:"Claypool.IoC.LifeCycleError",message:"An error occured during the lifecycle process."}))}})(jQuery,Claypool,Claypool.IoC);(function(d,a,b){b.ConstructorResolutionError=function(f){d.extend(this,new a.NameResolutionError(f,{name:"Claypool.IoC.ConstructorResolutionError",message:"An error occured trying to resolve the constructor."}))}})(jQuery,Claypool,Claypool.IoC);(function(d,a,b){a.Namespaces={};d.extend(d,{scan:function(){var f,g;if(arguments.length===0){return d.config("ioc")}else{f=[];if(d.isPlainObject(arguments[0])){for(g in arguments[0]){e(arguments[0][g],g)}}else{if(d.isArray(arguments[0])){e(arguments[0])}else{if(typeof arguments[0]=="string"){e(arguments[0])}}}return d.config("ioc",f)}function e(k,j){var h;j=j||"";if(d.isArray(k)){if(!(j in a.Namespaces)){a.Namespaces[j]=k[0].split(".")[0]}for(h=0;h<k.length;h++){f.push({scan:k[h],factory:a.MVC.Factory.prototype,namespace:j?j:null})}}else{if(!(j in a.Namespaces)){a.Namespaces[j]=k}f.push({scan:k,factory:a.MVC.Factory.prototype,namespace:j?j:null})}}},invert:function(){if(arguments.length===0){return d.config("ioc")}else{return d.config("ioc",arguments[0])}}})})(jQuery,Claypool,Claypool.IoC);Claypool.MVC={};(function(a){a.manage("Claypool.MVC.Container","claypool:MVC",function(b){var f,h,d,e=b.factory.getConfig(),g;for(g in e){b.logger.debug("eagerly loading mvc routers: %s",g);for(f=0;f<e[g].length;f++){h=e[g][f].id;controller=b.get(h);b.logger.debug("attaching mvc core controller: %s",h);if(controller&&!controller.attached){controller.attach();controller.attached=true}}}})})(jQuery);(function(d,a,b){b.View$Interface={update:function(e){throw new a.MethodNotImplementedError()},think:function(){throw new a.MethodNotImplementedError()}}})(jQuery,Claypool,Claypool.MVC);(function(d,a,b){b.Controller=function(e){a.extend(this,a.SimpleCachingStrategy);d.extend(true,this,e);this.logger=d.logger("Claypool.MVC.Controller")};d.extend(b.Controller.prototype,a.SimpleCachingStrategy.prototype,{handle:function(e){throw new a.MethodNotImplementedError()}})})(jQuery,Claypool,Claypool.MVC);(function(d,a,b){b.HijaxController=function(e){a.extend(this,b.Controller);d.extend(true,this,{forwardingList:[],selector:"",filter:"",active:true,preventDefault:true,stopPropagation:true,hijaxMap:[],resolveQueue:[],strategy:null},e);this.router=new a.Router();this.bindCache=new a.SimpleCachingStrategy();this.logger=d.logger("Claypool.MVC.HijaxController")};d.extend(b.HijaxController.prototype,b.Controller.prototype,{handle:function(f){this.logger.debug("Handling pattern: %s",f.pattern);this.forwardingList=this.router[this.strategy||"all"](f.pattern);this.logger.debug("Resolving matched paterns");var g=this,e={};if(this.forwardingList.length>0){this.logger.debug("normalizing event state params");if(d.isFunction(this.normalize)){e=this.normalize(f.args[0])}}return jQuery(this.forwardingList).each(function(){var n,k,j,h;try{g.logger.info("Forwaring to registered controller %s",this.payload.controller);n=d.$(this.payload.controller);h=this.payload.controller;j=this.payload.controller.match("Controller")?this.payload.controller.replace("Controller","View"):null;j=this.payload.controller.match("Service")?this.payload.controller.replace("Service","View"):j;this.map=d.extend(e,this.map);(function(s){var p=f.args[0],o=[];for(var r=1;r<f.args.length;r++){o[r-1]=f.args[r]}var q=d.extend({},p,{m:function(){if(arguments.length===0){return m}else{if(arguments.length===1){if(typeof(arguments[0])=="string"){return m[arguments[0]]}else{if(arguments[0] instanceof Array){m.length+=arguments[0].length;Array.prototype.push.apply(m,arguments[0])}else{if(arguments[0] instanceof Object){d.extend(true,m,arguments[0])}}}}else{if(arguments.length===2){if(arguments[1] instanceof Array){if(typeof(arguments[0])=="string"&&!(arguments[0] in m)){m[arguments[0]]=[]}d.merge(m[arguments[0]],arguments[1])}else{if(arguments[1] instanceof XML||arguments[1] instanceof XMLList){m[arguments[0]]=arguments[1]}else{if(arguments[1] instanceof Object){if(typeof(arguments[0])=="string"&&!(arguments[0] in m)){m[arguments[0]]={}}d.extend(true,m[arguments[0]],arguments[1])}}}}}}return this},v:function(t){if(!t){return v}if(t&&typeof(t)=="string"){t=t.split(".");if(t.length===1){v=t}else{if(t.length===2){if(t[0]!==""){v=t.join(".")}else{v=v.split(".")[0]+"."+t[1]}}}}return this},c:function(){var w,u,t;if(arguments.length===0){return c}else{if(arguments.length>0&&typeof(arguments[0])=="string"){if(arguments.length>1&&d.isPlainObject(arguments[1])){s.map=d.extend(true,s.map||{},arguments[1])}w=arguments[0].split(".");v=w[0].match("Controller")?w[0].replace("Controller","View"):null;v=w[0].match("Service")?w[0].replace("Service","View"):v;u=(w.length>1&&w[1].length>0)?w[1]:"handle";t=g.find(w[0]);if(t===null){t=d.$(w[0]);g.add(w[0],t)}t[u||"handle"].apply(t,[this].concat(o))}}return this},render:g.renderer(),reset:function(){m={flash:[],length:0};v=j;c=h;m.reset=function w(){m={flash:[],length:0};m.reset=w;return q};v.reset=function t(){v=j;v.reset=t;return q};c.reset=function u(){c=h;c.reset=u;return q};return this},params:function(t){if(arguments.length===0){return s.map?s.map:{}}else{return(s.map&&(t in s.map))?s.map[t]:null}}});q.reset();n[s.payload.action||"handle"].apply(n,[q].concat(o))})(this)}catch(l){l=l?l:new Error();if(l.name&&l.name.indexOf("Claypool.Application.ContextError")>-1){g.logger.warn("No controller with id: %s",this.payload.controller)}else{g.logger.exception(l);throw l}}})},attach:function(){this.router.compile(this.hijaxMap,this.routerKeys);var e=this;if(this.active&&(this.selector!==""||this.filter!=="")){this.logger.debug("Actively Hijaxing %s's %s%s",this.hijaxKey,this.selector,this.filter);d(this.selector+this.filter).livequery(function(){e.hijax(this)})}else{if(this.selector!==""||this.filter!==""){this.logger.debug("Hijaxing Current %s's.",this.hijaxKey);d(this.selector+this.filter).each(function(){e.hijax(this)})}else{if(document!==undefined){this.logger.debug("Hijaxing Document For %s's.",this.hijaxKey);e.hijax(document)}else{this.logger.warn("Unable to attach controller: %s",options.id)}}}},hijax:function(f){this.logger.debug("Hijaxing %s: %s",this.hijaxKey,f);var g=this;var e=function(h){var j=true;g.logger.info("Hijaxing %s: ",g.hijaxKey);if(g.stopPropagation){g.logger.debug("Stopping propogation of event");h.stopPropagation()}if(g.preventDefault){g.logger.debug("Preventing default event behaviour");h.preventDefault();j=false}g.handle({pattern:g.target.apply(g,arguments),args:arguments,normalize:g.normalize?g.normalize:function(){return{}}});return j};if(this.event){d(this.event.split("|")).each(function(){d(f).bind(this+"."+g.eventNamespace,e);g.logger.debug("Binding event %s to hijax controller on target",this,f)})}else{d(this.hijaxMap).each(function(){if(this.event&&!g.bindCache.find(this.event)){g.bindCache.add(this.event,g);g.logger.debug("Binding event %s to controller %s on target %s",this.event,this.controller,f);d(f).bind(this.event+"."+g.eventNamespace,e)}})}return true},renderer:function(){var f=this;var e=[];return function(p){var o,h,l,g,j,k;if(p&&d.isFunction(p)){e.push(p)}f.logger.debug(" - Resolving Control - %s)",this.c());try{g=this.v();j=d.isFunction(this.write)?(d.isFunction(d.render)?"write":"render"):"update";if(g.indexOf(".")>-1){j=g.split(".");g=j[0];j=j[j.length-1]}f.logger.debug("Calling View %s.%s",g,j);g=d.$(g);if(g){if(d.isFunction(g[j])){switch(j){case"write":case"writeln":this[j](g[j](this.m(),this));
break;case"render":g.write=this.write;g.writeln=this.writeln;g[j](this.m(),this);break;default:g[j](this.m(),this)}f.logger.debug("Cascading callbacks");while(e.length>0){(e.pop())()}}else{if(g["@claypool:activeobject"]){k="claypool:postcreate:"+g["@claypool:id"]+"."+d.uuid();d(document).bind(k,function(q,r){f.logger.warn("The view is reattached to the dom.");d(document).unbind(k);r.update(this.m());f.logger.debug("Cascading callbacks");while(e.length>0){(e.pop())()}})}else{f.logger.debug("View method cannot be resolve",j)}}}else{f.logger.warn("Cant resolve view %s. ",this.v())}}catch(n){f.logger.error("Error resolving flow %s => %s",this.c(),this.v()).exception(n);throw n}return this}},target:function(e){throw new a.MethodNotImplementedError()}})})(jQuery,Claypool,Claypool.MVC);(function(d,a,b){b.Factory=function(e){a.extend(this,a.IoC.Factory);d.extend(true,this,e);this.configurationId="mvc";this.logger=d.logger("Claypool.MVC.Factory");this.add("",new a.SimpleCachingStrategy())};d.extend(b.Factory.prototype,a.IoC.Factory.prototype,{updateConfig:function(){var j,f,h,l,g;try{this.logger.debug("Configuring Claypool MVC Controller Factory");j=this.getConfig()||{};d(document).trigger("claypool:hijax",[this,this.initializeHijaxController,j])}catch(k){this.logger.exception(k);throw new b.ConfigurationError(k)}},scan:function(h,k){var l=this.logger||d.logger("Claypool.MVC.Factory");var g,q,f=[],o,p=function(e,r){return("#"+e.substring(0,1).toLowerCase()+e.substring(1)+r.substring(0,r.length-1))},j=function(e){return("#"+e.substring(0,1).toLowerCase()+e.substring(1))};k=k||"";l.debug("Scanning %s%s",k,h);try{if(h.split(".").length==1){q=d.resolve(h);for(g in q){l.debug("Scan Checking %s.%s",h,g);if(d.isPlainObject(q[g])){l.debug("Scan Following %s.%s",h,g);f.push(this.scan(h+"."+g,k))}}}else{if(h.split(".").length==2){q=d.resolve(h);for(g in q){l.debug("Scan Checking %s.%s",h,g);if(d.isFunction(q[g])){l.debug("Configuring by Convention %s.%s",h,g);config={id:p(g,h.split(".")[1]),clazz:h+"."+g,namespace:k};if(h.match(".Views")){config.selector=j(g)}f.push(config)}}}else{if(h.split(".").length==3){q=d.resolve(h);if(d.isFunction(q)){l.debug("Appending to Configuration by Convention %s",h);config={id:p(g,h.split(".")[2]),clazz:h,namespace:k};if(h.match(".Views")){config.selector=j(g)}f.push(config)}}}}}catch(n){l.error("Error Scanning %s!!",h).exception(n)}return f},initializeHijaxController:function(j,h,f,e){var k,g;if(j[h]){for(g=0;g<j[h].length;g++){k={};k.id=j[h][g].id;k.clazz=f;k.options=[d.extend(true,{},e,j[h][g])];this.logger.debug("Adding MVC Configuration for Controller Id: %s",k.id);this.find("").add(k.id,k)}}}})})(jQuery,Claypool,Claypool.MVC);(function(d,a,b){b.Container=function(e){a.extend(this,a.Application.ContextContributor);d.extend(true,this,e);this.factory=null;this.logger=d.logger("Claypool.MVC.Container").debug("Configuring Claypool MVC Container");this.factory=new b.Factory();this.factory.updateConfig()};d.extend(b.Container.prototype,a.Application.ContextContributor.prototype,{get:function(j){var f,g;try{this.logger.debug("Search for a container managed controller : %s",j);g=typeof(j)=="string"&&j.indexOf("#")>-1?[j.split("#")[0],"#"+j.split("#")[1]]:["",j];if(!this.find(g[0])){this.add(g[0],new a.SimpleCachingStrategy())}f=this.find(g[0]).find(g[1]);if(f===undefined||f===null){this.logger.debug("Can't find a container managed controller : %s",j);f=this.factory.create(g[1],g[0]);if(f!==null){this.find(g[0]).add(g[1],f);return f._this}else{return null}}else{this.logger.debug("Found container managed controller : %s",j);return f._this}}catch(h){this.logger.exception(h);throw new b.ContainerError()}throw new b.FactoryError(j)}})})(jQuery,Claypool,Claypool.MVC);(function(d,a,b){b.ContainerError=function(f){d.extend(this,new a.Error(f,{name:"Claypool.MVC.ContainerError",message:"An error occurred trying to retreive a container managed object."}))}})(jQuery,Claypool,Claypool.MVC);(function(d,a,b){b.FactoryError=function(f){d.extend(this,new a.Error(f,{name:"Claypool.MVC.FactoryError",message:"An error occured trying to create the factory object."}))}})(jQuery,Claypool,Claypool.MVC);(function(d,a,b){b.ConfigurationError=function(f){d.extend(this,new a.ConfigurationError(f,{name:"Claypool.MVC.ConfigurationError",message:"An error occured during the configuration."}))}})(jQuery,Claypool,Claypool.MVC);(function(e,a,b){var d;e.extend(e,{router:function(g,f){e(document).bind("claypool:hijax",function(h,l,j,k){d=d||e.logger("Claypool.MVC.Plugins");d.debug("registering router plugin: %s",g);j.apply(l,[k,g,"Claypool.MVC.HijaxController",f])});return this},mvc:function(){var g,f;if(arguments.length===0){return e.config("mvc")}else{f=e.config("mvc");for(g in arguments[0]){if(g in f){e.merge(f[g],arguments[0][g])}else{f[g]=arguments[0][g]}}return this}}});e.routes=e.mvc;e.router("hijax:a",{selector:"a",event:"click",strategy:"first",routerKeys:"urls",hijaxKey:"link",eventNamespace:"Claypool:MVC:HijaxLinkController",target:function(g){var f=g.target||g.currentTarget;while(f.tagName.toUpperCase()!="A"){f=e(f).parent()[0]}return e(f).attr("href")},normalize:function(h){var g=h.target||h.currentTarget,j={};while(g.tagName.toUpperCase()!="A"){g=e(g).parent()[0]}var f=e(g).attr("href");var k=f.split("?");k=k&&k.length>1?k[1]:"";e(k.split("&")).each(function(o,r){var p=r.split("="),l=p[0],q=p[1],n;if(l in j){if(!e.isArray(j[l])){n=j[l];j[l]=[n]}j[l].push(q)}else{j[l]=q}});return j}}).router("hijax:button",{selector:":button",event:"click",strategy:"all",routerKeys:"ids",hijaxKey:"button",eventNamespace:"Claypool:MVC:HijaxButtonController",target:function(f){return f.target.id},normalize:function(f){return{}}}).router("hijax:input",{selector:"input",event:"blur|focus",strategy:"all",routerKeys:"ids",hijaxKey:"input",eventNamespace:"Claypool:MVC:HijaxInputController",target:function(f){return f.target.id},normalize:function(f){var g={};g[f.target.name]=f.target.value;return g}}).router("hijax:form",{selector:"form",event:"submit",strategy:"first",routerKeys:"urls",hijaxKey:"form",eventNamespace:"Claypool:MVC:HijaxFormController",target:function(f){return f.target.action},normalize:function(f){var h={},g=e(f.target).serializeArray();e(g).each(function(l,j){var k;if(j.name in h){if(!e.isArray(h[j.name])){k=h[j.name];h[j.name]=[]}h[j.name].push(j.value)}else{h[j.name]=j.value}});return h}}).router("hijax:event",{strategy:"all",routerKeys:"event",hijaxKey:"event",eventNamespace:"Claypool:MVC:HijaxEventController",target:function(f){return f.type},normalize:function(f){return{}}});e.mvc_scanner=b.Factory.prototype})(jQuery,Claypool,Claypool.MVC);Claypool.Models={};Claypool.Configuration.index=[];(function(d,a,b){b.Model=function(g,e,f){d.extend(true,this,b.Factory(f));d.extend(this,{name:g,fields:e})};d.extend(b.Model.prototype,{validate:function(k){var h=[],g=k.data,l,f,e,o;if(k.batch){e=[];for(l=0;l<g.length;l++){o=g[l].$id;this.validate(d.extend({},k,{data:g[l],batch:false,success:function(j){j.$id=o;e.push(j)},error:function(j,p){h.push(p)}}))}if(h.length===0){g=e}}else{for(var n in this.fields){if(g[n]===undefined&&this.fields[n].generate){g[n]=this.fields[n].generate()}if(this.fields[n].not){for(l=0;l<this.fields[n].not.length;l++){if(g[n] instanceof Array){for(f=0;f<g[n].length;f++){if(g[n][f]===this.fields[n].not[l]){h[h.length]={index:f,field:n,value:g[n][f],msg:this.fields[n].msg}}}}else{if(g[n]===this.fields[n].not[l]){h[h.length]={value:g[n],field:n,msg:this.fields[n].msg}}}}}if(this.fields[n].pattern&&(g[n]!==undefined)){if(g[n] instanceof Array){for(f=0;f<g[n].length;f++){if(!this.fields[n].pattern.test(g[n][f])){h[h.length]={index:f,field:n,value:g[n][f],msg:this.fields[n].msg}}}}else{if(!this.fields[n].pattern.test(g[n])){h[h.length]={value:g[n],field:n,msg:this.fields[n].msg}}}}}}if(h.length>0&&k.error&&d.isFunction(k.error)){k.error(g,h)}else{if(k.success&&d.isFunction(k.success)){if(k.serialize){g=this.serialize(g)}k.success(g)}}return this},serialize:function(e){var j={},h,f;
for(var g in e){if((this.fields[g]!==undefined||"__anything__" in this.fields||g=="$id")&&!d.isFunction(e[g])){if(this.fields[g]&&this.fields[g].type){if(this.fields[g].type=="json"){j[g]=jsPath.js2json(e[g])}else{if(this.fields[g].type=="html"){j[g]=d("<div/>").append(d(e[g]).clone()).html()}else{if(this.fields[g].type=="xmllist"){j[g]=e[g].toString()}}}}else{j[g]=e[g]}}}return j},deserialize:function(e){var g={};for(var f in this.fields){if((e[f]!==undefined||"__anything__" in this.fields)&&!d.isFunction(e[f])){if(this.fields[f].type){if(this.fields[f].type=="json"){g[f]=d.json2js(e[f])}else{if(this.fields[f].type=="html"){g[f]=d(e[f])}else{if(this.fields[f].type=="xmllist"){g[f]=new XMLList(e[f])}}}}else{serialized[f]=e[f]}}}return g}});d.each(["create","destroy","metadata","save","add","remove","get","find","js2query","next","previous"],function(e,f){b.Model.prototype[f]=function(g){throw new a.MethodNotImplementedError()}})})(jQuery,Claypool,Claypool.Models);(function(h,l,d){var f;d.Query=function(p){if(typeof(p)=="string"){p={context:p}}h.extend(true,this,{context:"",selectors:[],expressions:[],orderby:{direction:"forward"},limit:0,startPage:0,resultsPerPage:20},p);f=h.logger("Claypool.Models.Query")};var n=d.Query;h.extend(n.prototype,{items:function(p){if(p&&(typeof p=="string")){this.selectors.push(p)}else{if(p&&p.length&&(p instanceof Array)){h.merge(this.selectors,p)}else{this.selectors.push("*")}}return this},names:function(){return this.items("itemName()")},count:function(){return this.items("count()")},is:function(p){a(this,"=");o(this,p);return this},isnot:function(p){a(this,"!=");o(this,p);return this},islike:function(p){a(this,"~");o(this,p);return this},isnotlike:function(p){a(this,"!~");o(this,p);return this},isgt:function(p){a(this,">");o(this,p);return this},isgte:function(p){a(this,">=");o(this,p);return this},isbetween:function(p){a(this,"><");o(this,p);return this},islte:function(p){a(this,"<=");o(this,p);return this},islt:function(p){a(this,"<");o(this,p);return this},isin:function(p){a(this,"@");o(this,p);return this},isnotin:function(p){a(this,"!@");o(this,p);return this},orderby:function(p){g(this,p);return this},reverseorderby:function(p){g(this,p,"reverse");return this},limit:function(p){this.limit=p},page:function(q,p){if(p){this.count=p}this.startPage=q;return this},next:function(p){this.startPage++;return this},previous:function(p){this.startPage--;return this}});var e=["","like","gt","gte","between","lte","lt"];for(var j=0;j<e.length;j++){n.prototype["where"+e[j]]=function(p){b(this,p,"where","");return this};n.prototype["wherenot"+e[j]]=function(p){b(this,p,"where","not");return this};n.prototype["whereeither"+e[j]]=function(p){b(this,p,"either","");return this};n.prototype["whereneither"+e[j]]=function(p){b(this,p,"either","not");return this};n.prototype["and"+e[j]]=function(p){b(this,p,"and","");return this};n.prototype["andnot"+e[j]]=function(p){b(this,p,"and","not");return this};n.prototype["or"+e[j]]=function(p){b(this,p,"or","");return this};n.prototype["ornot"+e[j]]=function(p){b(this,p,"or","not");return this}}var b=function(r,u,q,p,s){var t=null;p=p?p:"is";if(r&&u&&q&&h.isFunction(r[q])){if(q=="where"){r.expressions=[];q="and"}else{if(q=="whereeither"||q=="whereneither"){r.expressions=[];q="or"}}if(typeof u=="string"){r.expressions.push({name:u,type:q})}else{if(u&&typeof(u)=="object"&&!(u instanceof Array)){for(t in u){if(typeof(u[t])=="string"){if(s){r[q](t)["isnot"+p](u[t])}else{r[q](t)["isnot"+p](u[t])}}else{if(p===""&&u[t]&&u[t].length&&u[t] instanceof Array){if(s){r[q](t).isnotin(u[t])}else{r[q](t).isin(u[t])}}}}}}}};var a=function(q,p){q.expressions[q.expressions.length-1].operator=p};var o=function(q,p){q.expressions[q.expressions.length-1].value=p};var k=function(q,p){q.expressions[q.expressions.length-1].name=p};var g=function(q,p,r){q.orderby={name:p,direction:(r||"forward")}}})(jQuery,Claypool,Claypool.Models);(function(d,a,b){b.Client=function(e){d.extend(true,this,e)};d.each(["create","destroy","metadata","save","update","remove","get","find","js2query","next","previous"],function(e,f){b.Client.prototype[f]=function(g){this.db[f](d.extend(g,{domain:this.name}));return this}})})(jQuery,Claypool,Claypool.Models);(function(f,a,d){var b;d.RestClient=function(h){this.js2json=f&&f.js2json&&f.isFunction(f.js2json)?f.js2json:h.js2json;this.json2js=f&&f.json2js&&f.isFunction(f.json2js)?f.json2js:h.json2js;f.extend(true,this,h);this.resturl=f.env("resturl")?f.env("resturl"):"/rest/";b=f.logger("Claypool.Models.RestClient")};f.extend(d.RestClient.prototype,{create:function(h){f.ajax(f.extend({},h,{type:"PUT",url:this.resturl+this.name+"/",dataType:"json",success:function(j){e("created data domain (%s)",h.success,j)},error:function(l,j,k){g("failed to create data domain",h.error,l,j,k)}}));return this},destroy:function(h){f.ajax(f.extend({},h,{type:"DELETE",url:this.resturl+this.name+"/",dataType:"json",success:function(j){e("destroyed data domain",h.success,j)},error:function(l,j,k){g("failed to destroy data domain",h.error,l,j,k)}}));return this},save:function(h){var k,j;if(!h.batch&&h.id){if(h.serialize){h.data=this.serialize(h.data)}f.ajax(f.extend({},h,{type:h.update?"POST":"PUT",url:(this.resturl+this.name+"/"+h.id),data:this.js2json(h.data),contentType:"application/json",dataType:"json",processData:false,success:function(l){e("saved data to domain",h.success,l)},error:function(o,l,n){g("failed to save data to domain",h.error,o,l,n)}}))}else{if(h.batch){if(h.serialize){for(j=0;j<h.data.length;j++){h.data[j]=this.serialize(h.data[j])}}f.ajax(f.extend({},h,{type:h.update?"POST":"PUT",url:(this.resturl+this.name+"/"),data:this.js2json(h.data),contentType:"application/json",processData:false,dataType:"json",success:function(l){e("saved batch data to domain",h.success,l)},error:function(o,l,n){g("failed to save batch data to domain",h.error,o,l,n)}}))}}return this},update:function(h){this.save(f.extend({},h,{update:true}));return this},remove:function(h){if(h.id){f.ajax(f.extend({},h,{type:"DELETE",url:this.resturl+this.name+"/"+h.id,data:(h.data instanceof Array)?{data:h.data.join(",")}:(h.data instanceof Object)?h.data:null,dataType:"json",success:function(j){e("removed item or item data from domain",h.success,j)},error:function(l,j,k){g("failed to delete item or item data from domain",h.error,l,j,k)}}))}return this},get:function(h){var j,k={limit:h.limit?Number(h.limit):1000,start:h.start?Number(h.start):1,offset:h.offset?Number(h.offset):0,from:h.from?h.from:""};if(h.id&&typeof h.id=="string"){f.ajax(f.extend({},h,{type:"GET",url:this.resturl+this.name+"/"+h.id,dataType:"json",data:k,success:function(l){e("retrieved data by id from domain",h.success,l)},error:function(o,l,n){g("failed to retrieved data by id from domain",h.error,o,l,n)}}))}else{if(h.id&&h.id.length){j=h.id.join(",");f.ajax(f.extend({},h,{type:j.length>1024?"POST":"GET",url:this.resturl+this.name+"/",data:f.extend(k,{id:j}),dataType:"json",success:function(l){e("successfully for data by ids from domain",h.success,l)},error:function(o,l,n){g("failed to get data by ids from domain",h.error,o,l,n)}}))}else{f.ajax(f.extend({},h,{type:"GET",url:this.resturl+this.name+"/",dataType:"json",data:k,success:function(l){e("loaded list of ids from domain",h.success,l)},error:function(o,l,n){g("failed to list ids from domain ",h.error,o,l,n)}}))}}return this},find:function(h){if(h.select){if(typeof h.select=="object"){if(!(h.select instanceof d.Query)){h.select=new d.Query(h.select)}h.select.context=this.name}f.ajax(f.extend({},h,{type:"POST",url:this.resturl,data:(typeof h.select=="string")?h.select:this.js2json(f.extend(h.data||{},h.select)),contentType:(typeof h.select=="string")?"text/plain":"application/json",processData:false,dataType:"json",success:function(j){e("saved item to domain",h.success,j)},error:function(l,j,k){g("failed to save item to domain",h.error,l,j,k)}}))}else{b.debug("performing simple parameter search");f.ajax(f.extend({},h,{type:"GET",url:this.resturl,dataType:"json",success:function(j){e("performed search",h.success,j)
},error:function(l,j,k){g("error performing search",h.error,l,j,k)}}))}return this},next:function(h){this.find(query.next(),callback);return this},previous:function(h){this.find(query.previous(),callback);return this}});var e=function(k,l,h,j){b.debug("loaded list of items from domain: %s",h);if(l&&f.isFunction(l)){l(h,j)}};var g=function(l,n,k,h,j){b.error(l+" %s-%s",k.status,h).exception(j);if(n&&f.isFunction(n)){n([{msg:l}],true)}}})(jQuery,Claypool,Claypool.Models);(function(e,a,d){var b;d.Factory=function(h){h=h||{};b=b||e.logger("Claypool.Models.Factory");var g,f;var k=h&&h.dbclient?h.dbclient:e.env("dbclient");if(!k){k="rest"}b.debug("loading database client connection %s",k);if(k=="rest"){k=new d.RestClient(h)}else{try{g=h&&h.db?h.db:e.env("db");f=h&&h.dbconnection?h.dbconnection:e.env("dbconnection");b.debug("loading database implementation %s",g);if(typeof(g)=="string"){b.debug("resolving database implementation %s",g);g=e.resolve(g)}k=new d.Client(e.extend({db:new g(f)},h))}catch(j){b.error("direct connection not available",j).exception(j);k=new d.RestClient(h)}}return k}})(jQuery,Claypool,Claypool.Models);(function(d,a,b){d.extend(d,{db:function(e){return new b.Factory(e)},model:function(g,e,f){return new b.Model(g,e,f)},query:function(e){return new b.Query(e)},index:function(){if(arguments.length===0){return d.config("index")}else{return d.config("index",arguments[0])}}})})(jQuery,Claypool,Claypool.Models);Claypool.Server={};(function(e,a,d){var b;e.router("hijax:server",{event:"claypool:serve",strategy:"first",routerKeys:"urls",hijaxKey:"request",eventNamespace:"Claypool:Server:HijaxServerController",target:function(h,g,f){b=b||e.logger("Claypool.Server");b.debug("targeting request event");h.request=g;h.response=f;h.write=function(j){b.debug("writing response.body : %s",j);f.body=j+"";return this};h.writeln=function(j){b.debug("writing line to response.body : %s",j);f.body+=j+"";return this};return g.requestURL+""},normalize:function(f){return e.extend({},f.request.parameters,{parameters:f.request.parameters,method:f.request.method,body:f.request.body,headers:e.extend(f.response.headers,f.request.headers)})}});a.Services={}})(jQuery,Claypool,Claypool.Server);(function(d,a,b){b.Servlet=function(e){a.extend(this,a.MVC.Controller);d.extend(true,this,e);this.logger=d.logger("Claypool.Server.Servlet")};d.extend(b.Servlet.prototype,a.MVC.Controller.prototype,{handle:function(e){var f=e.params("method").toUpperCase();e.params("headers").status=200;this.logger.debug("Handling %s request",f);switch(f){case"GET":this.handleGet(e,e.response);break;case"POST":this.handlePost(e,e.response);break;case"PUT":this.handlePut(e,e.response);break;case"DELETE":this.handleDelete(e,e.response);break;case"HEAD":this.handleHead(e,e.response);break;case"OPTIONS":this.handleOptions(e,e.response);break;default:this.logger.debug("Unknown Method: %s, rendering error response.",f);this.handleError(e,"Unknown Method: "+f,new Error())}},handleGet:function(e){throw new a.MethodNotImplementedError()},handlePost:function(e){throw new a.MethodNotImplementedError()},handlePut:function(e){throw new a.MethodNotImplementedError()},handleDelete:function(e){throw new a.MethodNotImplementedError()},handleHead:function(e){throw new a.MethodNotImplementedError()},handleOptions:function(e){throw new a.MethodNotImplementedError()},handleError:function(f,h,g){this.logger.warn("The default error response should be overriden");f.headers.status=300;f.response.body=h?h:"Unknown internal error\n";f.response.body+=g&&g.msg?g.msg+"":(g?g+"":"\nUnpsecified Error.")}})})(jQuery,Claypool,Claypool.Server);(function(f,b,e,h){var d;h.RestServlet=function(j){b.extend(this,h.Servlet);f.extend(true,this,e.Factory(j));d=f.logger("Claypool.Server.RestServlet");this.js2json=f.js2json&&f.isFunction(f.js2json)?f.js2json:j.js2json;this.json2js=f.json2js&&f.isFunction(f.json2js)?f.json2js:j.json2js};f.extend(h.RestServlet.prototype,h.Servlet.prototype,{handleGet:function(l){var q=this,o=l.params("domain"),p=l.params("id"),n=l.params("q"),k=p?p.split(","):[],j;d.debug("Handling GET for %s %s",o,p);if(n){d.debug("finding results with url constructed query %o",l.params());this.db.find(f.extend({data:l.params("values"),async:false,success:function(r){a(l,r,q)},error:function(t,r,s){g(l,result,q)}},l.params()))}else{if(!o&&!p){this.db.get(f.extend({async:false,success:function(r){a(l,r,q)},error:function(r){g(l,r,q)}},l.params()))}else{if(o&&(k.length>1||!p)){d.debug("Handling GET for %s %s",o,k);if(k.length>1){this.db.get(f.extend(l.params(),{id:k,domain:o,async:false,success:function(r){a(l,r,q)},error:function(r){g(l,r,q)}}))}else{d.debug("getting list of item ids for domain %s",o,p);this.db.get(f.extend({domain:o,async:false,success:function(r){a(l,r,q)},error:function(r){g(l,r,q)}},l.params()))}}else{if(o&&p&&p!="metadata"){this.db.get({domain:o,id:p,async:false,dataType:"text",success:function(r){a(l,r,q)},error:function(r){g(l,r,q)}})}else{if(o&&p&&p=="metadata"){this.db.metadata({domain:o,id:p,async:false,dataType:"text",success:function(r){a(l,r,q)},error:function(r){g(l,r,q)}})}}}}}},handlePost:function(n){var r=this,p=n.params("domain"),q=n.params("id"),k,l,j,o;d.debug("Handling POST for %s %s",p,q).debug("Reading POST body %s",n.body);if(p&&q){if(!n.params("body")){k=q.split(",");this.db.get(f.extend(n.params(),{id:k,domain:p,async:false,success:function(s){a(n,s,r)},error:function(s){g(n,s,r)}}))}else{d.debug("updating single object",n.request.body);l=this.json2js(n.request.body);this.db.update({domain:p,id:q,data:l,async:false,success:function(s){a(n,s,r)},error:function(s){g(n,s,r)}})}}else{if(p&&!q){d.debug("updating array of objects (bulk save)");j=this.json2js(n.request.body);this.db.update({domain:p,data:j,async:false,batch:true,success:function(s){a(n,s,r)},error:function(s){g(n,s,r)}})}else{if(!p&&!q){o=n.request.body;if(n.request.contentType.match("application/json")){o=this.json2js(o)}d.debug("executing query \n%s",o);this.db.find(f.extend({select:o,async:false,success:function(s){a(n,s,r)},error:function(s){g(n,s,r)}},n.params()))}}}},handlePut:function(j){var l=this,k=j.params("id");domain=j.params("domain");d.debug("Handling PUT for %s %s",domain);if(domain&&k){d.debug("saving single object",j.request.body);item=this.json2js(j.request.body);this.db.save({domain:domain,id:k,data:item,async:false,success:function(n){a(j,n,l)},error:function(n){g(j,n,l)}})}else{if(domain&&j.request.body){d.debug("saving array of objects (bulk save)");items=this.json2js(j.request.body);this.db.save({domain:domain,data:items,async:false,batch:true,success:function(n){a(j,n,l)},error:function(n){g(j,n,l)}})}else{if(domain){this.db.create({domain:domain,async:false,success:function(n){a(j,n,l)},error:function(n){g(j,n,l)}})}}}},handleDelete:function(j){var n=this,k=j.params("domain"),l=j.params("id");d.debug("Handling DELETE for %s %s",k,l);if(k&&l){this.db.remove({domain:k,id:l,async:false,success:function(o){a(j,o,n)},error:function(o){g(j,o,n)}})}else{if(k&&!l){this.db.destroy({domain:k,async:false,success:function(o){a(j,o,n)},error:function(o){g(j,o,n)}})}}}});var a=function(l,k,n){var j=n.js2json(k,null,"   ");d.debug("succeeded. %s",j);l.response.headers={status:200,"Content-Type":"text/javascript; charset=utf-8"};l.response.body=j};var g=function(l,k,n){var j=n.js2json(k,null,"    ");d.error("failed. %s",j);l.response.headers={status:k.code?k.code:500,"Content-Type":"text/javascript; charset=utf-8"};l.response.body=j?j:"{'error':{'code'  : 500,'type'  : 'UnknownClaypoolRestError','msg'   : 'unknown error, check network'}}"}})(jQuery,Claypool,Claypool.Models,Claypool.Server);(function(e,a,d){var b;d.WebProxyServlet=function(g){a.extend(this,d.Servlet);this.rewriteMap=null;e.extend(true,this,g);b=e.logger("Claypool.Server.WebProxyServlet");this.router=new a.Router();this.strategy=this.strategy||"first";b.debug("Compiling url rewrites %s.",this.rewriteMap);this.router.compile(this.rewriteMap,"urls")};e.extend(d.WebProxyServlet.prototype,d.Servlet.prototype,{handleGet:function(k,h){var j=f.route(request,this);
var g=j.proxyURL,l=j.params;if(g&&g.length&&g.length>0){b.debug("Proxying get request to: %s",g[0].payload.rewrite);e.ajax({type:"GET",dataType:"text",async:false,data:l,url:g[0].payload.rewrite+"",beforeSend:function(n){f.beforeSend(k.request,h,n)},success:function(n){f.success(h,n)},error:function(p,n,o){f.error(h,p,n,o)},complete:function(o,n){f.complete(h,g,o,n)}})}return h},handlePost:function(k,h){var j=f.route(k.request,this);var g=j.proxyURL,l=j.params;if(g&&g.length&&g.length>0){b.debug("Proxying post request to: %s",g[0].payload.rewrite);e.ajax({type:"POST",dataType:"text",async:false,data:l,url:g[0].payload.rewrite+"",beforeSend:function(n){f.beforeSend(k.request,h,n)},success:function(n){f.success(h,n)},error:function(p,n,o){f.error(h,p,n,o)},complete:function(o,n){f.complete(h,g,o,n)}})}return h}});var f={route:function(k,j){b.debug("Handling proxy: %s",k.requestURI);var h=j.router[j.strategy||"all"](k.requestURI);k.headers["Claypool-Proxy"]=j.proxyHost||"127.0.0.1";var l={};for(var n in k.parameters){b.debug("request.parameters[%s]=%s",n,k.parameters[n]);l[n+""]=k.parameters[n]+""}var g=(k.body&&k.body.length)?k.body:"";return{proxyURL:h,params:l,body:g}},beforeSend:function(h,g,j){b.debug("Copying Request headers for Proxied Request");for(var k in h.headers){b.debug("Setting proxied request header %s: %s",k,h.headers[k]);j.setRequestHeader(k,h.headers[k])}g.headers={}},success:function(g,h){b.debug("Got response for proxy \n %s.",h);g.body=h+""},error:function(h,k,g,j){b.error("Error proxying request. STATUS: %s",g?g:"UNKNOWN");if(j){b.exception(j)}h.body=k.responseText+""},complete:function(j,n,q,k){b.debug("Proxy Request Complete, Copying response headers");var g=q.getAllResponseHeaders();var h;var o;b.debug("Complete Proxy response header: \n %s",g);g=g.split("\r\n");for(var l=0;l<g.length;l++){o=g[l].split(":");try{b.debug("setting response header %s %s",o[0],o.join(":"));j.headers[o.shift()]=o.join(":")}catch(p){b.warn("Unable to set a proxied response header");b.exception(p)}}b.debug("response status (%s)",q.status);j.headers.status=Number(q.status);j.headers["Claypool-Proxy"]=n[0].payload.rewrite+"";j.headers["Content-Encoding"]=n[0].payload.contentEncoding||"";j.headers["Transfer-Encoding"]=n[0].payload.transferEncoding||"";if(n[0].payload.contentType){j.headers["Content-Type"]=n[0].payload.contentType+""}}}})(jQuery,Claypool,Claypool.Server);(function(e,b,f){var d,a;f.Manage=function(g){e.extend(true,this,g);d=e.logger("Claypool.Services.Manage");a=b.Models.Factory()};e.extend(f.Manage.prototype,{handle:function(g){var j=g.params("command"),h=g.params("target");d.debug("handling command %s %s",j,h);b.Commands[j](h,g);if(("reset"==j)||("syncdb"==j)){d.debug("forwarding to rest service");g.response.headers={status:302,Location:"/rest/"}}}});e.extend(true,b.Commands,{reset:function(h){var g;a.get({async:false,success:function(j){g=j.domains;d.debug("loaded domains")},error:function(l,j,k){d.error("failed to get db domains")}});e(g).each(function(j,k){a.destroy({domain:k,async:false,success:function(l){d.info("destroyed domain %s",k)},error:function(o,l,n){d.error("failed to delete domain %s",k)}})})},syncdb:function(g){var k,h=e.env("initialdata")+"dump.json?"+e.uuid(),j;d.info("loading initial data from %s",h);e.ajax({type:"get",async:false,url:h,dataType:"text",success:function(l){k=e.json2js(l);d.info("loaded initial data")},error:function(o,l,n){d.error("failed [%s] to load initial data %s",l,n)}});for(j in k){a.create({domain:j,async:false,success:function(l){d.info("created domain %s",j)}});a.save({async:false,batch:true,domain:j,data:k[j],success:function(){d.info("batch save successful %s ",j)},error:function(){d.error("batch save failed %s",j)}})}},dumpdata:function(h,j){var k={};var g;a.get({async:false,success:function(l){g=l.domains;d.debug("loaded domains")},error:function(o,l,n){d.error("failed to get db domains")}});e(g).each(function(l,n){a.find({select:"new Query('"+n+"')",async:false,success:function(o){d.info("found %s entries in %s",o.data.length,n);k[n]=o.data},error:function(q,o,p){ok(false,"failed load entries from %s",n)}})});j.write(e.js2json(k,null,"    "));j.response.headers={status:200,"Content-Type":"application/json"}}})})(jQuery,Claypool,Claypool.Services);(function(d,a,b){})(jQuery,Claypool,Claypool.Server);(function(f,b,e){var d,a;f.extend(f,{serve:function(h,g){var k;d=d||f.logger("Claypool.Server");d.info("Handling global request routing for request: %s ",h.requestURL).debug("Dispatching request to Server Sevlet Container");g.headers={};f.extend(g.headers,{"Content-Type":"text/html; charset=utf-8",status:-1});g.body="";try{d.debug("serving request event");f(document).trigger("claypool:serve",[h,g]);d.debug("finished serving request event");if(g.headers.status===-1){g.headers.status=200;if(!g.body){g.headers.status=404;g.body="<html><head></head><body><h1>jQuery-Claypool Server Error</h1>";g.body+="<p>Not Found :\n\t"+h.requestURL+"</p></body></html>"}}}catch(j){d.error("Error Handling Request.").exception(j);g.headers["Content-Type"]="text/html; charset=utf-8";g.headers.status=500;g.body="<html><head></head><body><h1>jQuery-Claypool Server Error</h1>";g.body+="<h2>Error Details</h2>";for(k in j){g.body+="<strong>"+k+"</strong><br/><span>"+j[k]+"</span><br/>"}g.body+="<h2>General Request Details</h2>";for(k in h){g.body+="<strong>"+k+"</strong><br/><span>"+h[k]+"</span><br/>"}g.body+="<h2>Request Header Details</h2>";for(k in h.headers){g.body+="<strong>"+k+"</strong><br/><span>"+h.headers[k]+"</span><br/>"}g.body+="</body></html>"}},servlet:function(g){d=d||f.logger("Claypool.Server");d.debug("Applying servlet pattern to %s",g);b.extend(g,e.Servlet)},proxy:function(g){return f.invert([{id:g.id||"proxy_"+f.uuid(),clazz:"Claypool.Server.WebProxyServlet",options:[{rewriteMap:g.rewrites}]}])}});ClaypoolServerHandler=f.serve})(jQuery,Claypool,Claypool.Server);(function(a){a.extend(a.fn,{livequery:function(g,f,e){var d=this,h;if(a.isFunction(g)){e=f,f=g,g=undefined}a.each(a.livequery.queries,function(j,k){if(d.selector==k.selector&&d.context==k.context&&g==k.type&&(!f||f.$lqguid==k.fn.$lqguid)&&(!e||e.$lqguid==k.fn2.$lqguid)){return(h=k)&&false}});h=h||new a.livequery(this.selector,this.context,g,f,e);h.stopped=false;a.livequery.run(h.id);return this},expire:function(g,f,e){var d=this;if(a.isFunction(g)){e=f,f=g,g=undefined}a.each(a.livequery.queries,function(h,j){if(d.selector==j.selector&&d.context==j.context&&(!g||g==j.type)&&(!f||f.$lqguid==j.fn.$lqguid)&&(!e||e.$lqguid==j.fn2.$lqguid)&&!this.stopped){a.livequery.stop(j.id)}});return this}});a.livequery=function(d,f,h,g,e){this.selector=d;this.context=f||document;this.type=h;this.fn=g;this.fn2=e;this.elements=[];this.stopped=false;this.id=a.livequery.queries.push(this)-1;g.$lqguid=g.$lqguid||a.livequery.guid++;if(e){e.$lqguid=e.$lqguid||a.livequery.guid++}return this};a.livequery.prototype={stop:function(){var d=this;if(this.type){this.elements.unbind(this.type,this.fn)}else{if(this.fn2){this.elements.each(function(e,f){d.fn2.apply(f)})}}this.elements=[];this.stopped=true},run:function(){if(this.stopped){return}var f=this;var g=this.elements,e=a(this.selector,this.context),d=e.not(g);this.elements=e;if(this.type){d.bind(this.type,this.fn);if(g.length>0){a.each(g,function(h,j){if(a.inArray(j,e)<0){a.event.remove(j,f.type,f.fn)}})}}else{d.each(function(){f.fn.apply(this)});if(this.fn2&&g.length>0){a.each(g,function(h,j){if(a.inArray(j,e)<0){f.fn2.apply(j)}})}}}};a.extend(a.livequery,{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length){var d=a.livequery.queue.length;while(d--){a.livequery.queries[a.livequery.queue.shift()].run()}}},pause:function(){a.livequery.running=false},play:function(){a.livequery.running=true;a.livequery.run()},registerPlugin:function(){a.each(arguments,function(e,f){if(!a.fn[f]){return}var d=a.fn[f];a.fn[f]=function(){var g=d.apply(this,arguments);a.livequery.run();
return g}})},run:function(d){if(d!=undefined){if(a.inArray(d,a.livequery.queue)<0){a.livequery.queue.push(d)}}else{a.each(a.livequery.queries,function(e){if(a.inArray(e,a.livequery.queue)<0){a.livequery.queue.push(e)}})}if(a.livequery.timeout){clearTimeout(a.livequery.timeout)}a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(d){if(d!=undefined){a.livequery.queries[d].stop()}else{a.each(a.livequery.queries,function(e){a.livequery.queries[e].stop()})}}});a.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove");a(function(){a.livequery.play()});var b=a.prototype.init;a.prototype.init=function(d,f){var e=b.apply(this,arguments);if(d&&d.selector){e.context=d.context,e.selector=d.selector}if(typeof d=="string"){e.context=f||document,e.selector=d}return e};a.prototype.init.prototype=a.prototype})(jQuery);(function($){$.json=$.js2json=function(js,filter,indentValue){return __JSON__.stringify(js,filter,indentValue||"")};$.fn.json=$.fn.js2json=function(filter,indentValue){var i,str="[";for(i=0;i<this.length;i++){str+=__JSON__.stringify(this[i],filter,indentValue||"");if(!(i+1==this.length)){str+=",\n"}}return str+"]"};$.eval=$.json2js=function(json,filter){return JSON.parse(json,filter)};$.fn.eval=$.fn.json2js=function(filter){var i,js=[];for(i=0;i<this.length;i++){js[i]=JSON.parse(this[i],filter)}return js};$.strip=$.stripjs=function(js,filter){return $.eval($.js2json(js,filter,""))};$.fn.strip=$.fn.stripjs=function(filter){return $.eval(this.js2json(filter,""))};var __json__=null;if(typeof JSON!=="undefined"){__json__=JSON}var JSON={parse:function(text,safe){if(__json__!==null||safe){return(__json__!==null)?__json__.parse(text):__JSON__.parse(text)}if(browser.gecko){return new Function("return "+text)()}return eval("("+text+")")}};var __JSON__=function(){function f(n){return n<10?"0"+n:n}Date.prototype.toJSON=function(key){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};String.prototype.toJSON=function(key){return String(this)};Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapeable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapeable.lastIndex=0;return escapeable.test(string)?'"'+string.replace(escapeable,function(a){var c=meta[a];if(typeof c==="string"){return c}return"\\u"+("0000"+(+(a.charCodeAt(0))).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"xml":return'"'+value.toXMLString().replace("\n","\\\n","g").replace('"','\\"',"g")+'"';case"object":if(!value){return"null"}gap+=indent;partial=[];if(typeof value.length==="number"&&!(value.propertyIsEnumerable("length"))){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}return{stringify:function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})},parse:function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+(+(a.charCodeAt(0))).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}();var Browser=function(){var o={ie:0,opera:0,gecko:0,webkit:0};var ua=navigator.userAgent,m;if((/KHTML/).test(ua)){o.webkit=1}m=ua.match(/AppleWebKit\/([^\s]*)/);if(m&&m[1]){o.webkit=parseFloat(m[1])}if(!o.webkit){m=ua.match(/Opera[\s\/]([^\s]*)/);if(m&&m[1]){o.opera=parseFloat(m[1])}else{m=ua.match(/MSIE\s([^;]*)/);if(m&&m[1]){o.ie=parseFloat(m[1])}else{m=ua.match(/Gecko\/([^\s]*)/);if(m){o.gecko=1;m=ua.match(/rv:([^\s\)]*)/);if(m&&m[1]){o.gecko=parseFloat(m[1])}}}}}return o};var browser=Browser()})(jQuery);(function(f){var d=f.fn.domManip,b=("console" in window)?window.console:{log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}};f.fn.extend({render:function(g){return this.map(function(j,h){var k=f.render(h,g);return f(f("<div>"+(f.isArray(k)?k.join(""):k)+"</div>")[0].childNodes).get()})},domManip:function(g){if(g.length>1&&g[0].nodeType){arguments[0]=[f.makeArray(g)]}if(g.length===2&&typeof g[0]==="string"&&typeof g[1]!=="string"){arguments[0]=f.render(g[0],g[1]);arguments[0]=f.isArray(arguments[0])?[arguments[0].join("")]:[arguments[0]]}return d.apply(this,arguments)}});f.extend({render:function(p,k,h,n){var o,j;if(f.templates[p]){o=f.templates[p]}else{if(p.nodeType){var g=p,l=f.data(g)||{};if(g.src){return f.render({async:false,url:g.src,templateData:k})}else{o=l.tmpl||f.tmpl(g.innerHTML)}}else{if(f.isPlainObject(p)){if(p.url&&f.templates[p.url]){o=f.templates[p.url];if(p.success){p.success(o.call(p.templateData,f,p.templateData,0,p.asArray,p.partial))}}else{var q=f.extend({},p,{type:"GET",dataType:"text",success:function(r){f.templates[p.url]=f.tmpl(r);if(p.success){p.success(f.render(p.url,p.templateData,p.asArray,p.partial))}},error:function(t,r,s){f.templates[p.url]=f.tmpl("Failed to load template from "+p.url+"("+r+")"+s);if(p.error){p.error(f.render(p.url,p.templateData,p.asArray,p.partial))}}});j=f.ajax(q)}return(p.async===false)&&!p.success?f.render(p.url,p.templateData):j}}}o=o||f.tmpl(p);if(f.isArray(k)){return f.map(k,function(s,r){return o.call(s,f,s,r,h,n)})}else{return o.call(k,f,k,0,h,n)}},templates:{},encode:function(g){return g!=null?document.createTextNode(g.toString()).nodeValue:""},tmpl:function(o,l,j,h){if(!(e&&a)){e=new RegExp(f.tmpl.startTag+"\\s*(\\/?)(\\w+|.)(?:\\((.*?)\\))?(?: (.*?))?\\s*"+f.tmpl.endTag,"g");a=new RegExp(f.tmpl.startExpression+"([^"+f.tmpl.endExpression+"]*)"+f.tmpl.endExpression,"g");f.tmpl.startTag=f.tmpl.startTag.replace("\\","","g");f.tmpl.endTag=f.tmpl.endTag.replace("\\","","g")}var k,g="\nvar $ = jQuery, \n    T = [], \n	asArray = arguments.length>3?arguments[3]:false,\n	partial = arguments.length>4?arguments[4]:false,\n    _ = $.tmpl.filters; \n\n//make data available on tmpl.filters as object not part of global scope \n_.data = T.data = $data; \n_.$i = T.index = $i||0; \nT._ = null; //can be used for tmp variables\nfunction pushT(value, _this, encode){\n    return encode === false ? \n        T.push(typeof value ==='function'?value.call(_this):value) : \n        T.push($.encode(typeof( value )==='function'?value.call(_this):value));\n}\n\n// Introduce the data as local variables using with(){} \nwith($.extend(true, {}, _, $data)){\ntry{\n    T.push('"+o.replace(/([\\'])/g,"\\$1").replace(/[\r\n]/g," $n ").replace(a,f.tmpl.startTag+"= $1"+f.tmpl.endTag).replace(e,function(w,t,u,r,s){var q=f.tmpl.tags[u];
if(!q){throw"Template not found: "+u}var x=q._default||[];var p="');"+q[t?"suffix":"prefix"].split("$1").join(s||x[0]).split("$2").join(r||x[1])+"\n        T.push('";return p}).replace(/ \$n /g,"\\n")+"');\n}catch(e){\n    if($.tmpl.debug){\n        T.push(' '+e+' ');\n    }else{\n        T.push('');\n    }\n}//end try/catch\n}\n//reset the tmpl.filter data object \n_.data = null;\nreturn asArray ? T : T.join('')";try{k=new Function("jQuery","$data","$i",g)}catch(n){b.warn(g);throw (n)}return l?k.call(this,f,l,j):k}});f.extend(f.tmpl,{debug:false,startTag:"{{",endTag:"}}",startExpression:"\\${",endExpression:"}"});var e,a;f.tmpl.filters={join:function(){return Array.prototype.join.call(arguments[0],arguments[1])}};f.tmpl.tags={comment:{prefix:"\n    /*",suffix:"\n    */"},each:{_default:[null,"$i"],prefix:"\n        jQuery.each( $1, function($2){\n            with(this){",suffix:"\n            }\n        });"},"if":{prefix:"\n        if( $1 ){",suffix:"\n        }"},elseif:{prefix:"\n        }else if( $1 ){"},"else":{prefix:"\n        }else{"},html:{prefix:"\n        pushT($1, this, false);"},ignore:{prefix:"",suffix:""},"=":{_default:["this"],prefix:"\n        pushT($1, this);"}}})(jQuery);(function(){jQuery.tmpl.blocks={};jQuery.extend(jQuery.tmpl.tags,{block:{_default:[null,null],prefix:"\n	(function(){\n		var name = '$1',\n			tmp, diff1, diff2;\n		if(!T.blocks){\n			T.blocks = $.tmpl.blocks;\n		}\n		if(!T.blocks[name]){\n			T.blocks[name] = {start:T.length};\n		}\n        var B = (function(){\n           	var T = [];\n            function pushT(value, _this, encode){\n                return encode === false ? \n                    T.push(typeof value ==='function'?value.call(_this):value) : \n                    T.push($.encode(typeof( value )==='function'?value.call(_this):value));\n            }\n",suffix:"\n			return T;\n		})();\n		diff1 = T.blocks[name].end ? \n			T.blocks[name].end - T.blocks[name].start : 0;\n		Array.prototype.splice.apply(T,[\n			T.blocks[name].start+1,\n			diff1 \n		].concat(B));\n		T.blocks[name].end = T.blocks[name].start + B.length;\n		diff2 = T.blocks[name].end - T.blocks[name].start;\n		for(tmp in T.blocks){\n			if(T.blocks[tmp].start > T.blocks[name].start){\n				T.blocks[tmp].start += diff2 - diff1;\n				T.blocks[tmp].end += diff2 - diff1;\n			}\n		}\n	})();\n		"}})})();(function(a){jQuery.extend(jQuery.tmpl.tags,{extend:{_default:[null,null],prefix:"\n        T._ = $1;\n        if( T._.match('#') && (!partial||T.include)){\n            if(!( T._ in $.templates )){\n                /*pre-compile template*/\n                $.templates[ T._ ] = $.tmpl($( T._ ).text());\n            }\n        }else{\n            if(!( T._ in $.templates) && (!partial||T.include)){\n                $.ajax({\n                    url: T._,\n                    type: 'GET',\n                    dataType: 'text',\n                    async: false,\n                    success: function(text){\n                        $.templates[ T._ ] = $.tmpl( text );\n                    },\n                    error: function(xhr, status, e){\n                        $.templates[ T._ ] = $.tmpl( xhr.responseText );\n                    }\n                });\n            }\n        }\n        /*finally render partial*/\n		if(!partial||T.include){\n	        Array.prototype.push.apply(T, $.templates[ T._ ].\n				call(this, jQuery, $.extend({},$data,this), 0, true, false) );\n		}\n        T._ = null;\n        "}});jQuery.tmpl.tags.include={_default:jQuery.tmpl.tags.extend._default,prefix:"\n		T.include = true;\n		"+jQuery.tmpl.tags.extend.prefix}})(jQuery);(function(g){var e=function(){},d=function(f){e.prototype=(f._constructor||f).prototype;return new e()},j=function(k,f){return k.init.apply(d(k),f)},b=function(){return(function(k){var f=arguments.callee,l=this instanceof f?this:d(f);if(k&&k._constructor===f){return l.setArray(k.get())}return l.init.apply(l,arguments)})};var h=b();g.extend(h,{extend:g.extend,fn:h.prototype,statics:"extend,isFunction,isArray,isPlainObject,isEmptyObject,error,each,trim,makeArray,inArray,merge,grep,map",build:function(){var f=b();this.include(f,jQuery,h.statics);f.prototype=f.fn=d(this);f._constructor=f.fn._constructor=f.fn.constructor=f;return f},include:function(n,l,f,o){if(!f||!f.slice){var k=Array.prototype.slice.call(arguments);k.unshift(this);return this.include.apply(this,k)}g.each(f.split?f.split(/\s?,\s?/):f,function(p,q){n[q]=o?o(l[q],q,l):l[q]});return n}});h.extend(h.fn,{extend:h.extend,include:h.include,init:function(k){var f=typeof k=="object"&&"length" in k?k:arguments;return this.setArray(f)},filter:function(k){if(typeof k!="function"){var f=k.constructor==Array?k:[k];k=function(){return g.inArray(this,f)!=-1}}return this.pushStack(g.grep(this,function(n,l){return k.call(n,l)}))},not:function(f){f=this.filter(f);return this.filter(function(){return g.inArray(this,f)==-1})},is:function(f){return !!(f&&this.filter(f).length)},add:function(){return this.pushStack(g.merge(this.get(),j(this,arguments)))},pushStack:function(f){var k=d(this).setArray(f.get?f.get():f);k.prevObject=this;return k},end:function(){return this.prevObject||j(this)},attr:function(f,k){return k===undefined?this[0]!=null&&this[0][f]:this.each(function(){this[f]=k})},setArray:function(f){this.length=0;Array.prototype.push.apply(this,f);return this}});h.fn.include(g.fn,"each,extend,index,get,size,eq,slice,map,andSelf");var a=jQuery.tmpl.filters;jQuery.tmpl.filters=h.build();jQuery.tmpl.filters.fn.extend({toString:function(){return this.join(" ")}});jQuery.tmpl.filters.extend(a)})(jQuery);(function(){jQuery.extend(jQuery.tmpl.tags,{"switch":{_default:[null,null],prefix:"\n        switch( $1 ){\n            case 'thiscaseshouldneverbetrue': ",suffix:"\n            break;\n        }"},"case":{_default:[null,null],prefix:"\n        case $1 :",suffix:"\n            break;"},"default":{_default:[null,null],prefix:"\n        default:",suffix:"\n            break;"}})})();if(!Parse){var Parse={}}if(!Parse.Simple){Parse.Simple={}}Parse.Simple.Base=function(a,b){if(!arguments.length){return}this.grammar=a;this.grammar.root=new this.ruleConstructor(this.grammar.root);this.options=b};Parse.Simple.Base.prototype={ruleConstructor:null,grammar:null,options:null,parse:function(b,d,a){if(a){for(i in this.options){if(typeof a[i]=="undefined"){a[i]=this.options[i]}}}else{a=this.options}d=d.replace(/\r\n?/g,"\n");this.grammar.root.apply(b,d,a);if(a&&a.forIE){b.innerHTML=b.innerHTML.replace(/\r?\n/g,"\r\n")}}};Parse.Simple.Base.prototype.constructor=Parse.Simple.Base;Parse.Simple.Base.Rule=function(b){if(!arguments.length){return}for(var a in b){this[a]=b[a]}if(!this.children){this.children=[]}};Parse.Simple.Base.prototype.ruleConstructor=Parse.Simple.Base.Rule;Parse.Simple.Base.Rule.prototype={regex:null,capture:null,replaceRegex:null,replaceString:null,tag:null,attrs:null,children:null,match:function(b,a){return b.match(this.regex)},build:function(e,d,a){var f;if(this.capture!==null){f=d[this.capture]}var g;if(this.tag){g=document.createElement(this.tag);e.appendChild(g)}else{g=e}if(f){if(this.replaceRegex){f=f.replace(this.replaceRegex,this.replaceString)}this.apply(g,f,a)}if(this.attrs){for(var b in this.attrs){g.setAttribute(b,this.attrs[b]);if(a&&a.forIE&&b=="class"){g.className=this.attrs[b]}}}return this},apply:function(a,d,l){var g=""+d;var f=[];if(!this.fallback.apply){this.fallback=new this.constructor(this.fallback)}while(true){var b=false;var k=false;for(var e=0;e<this.children.length;e++){if(typeof f[e]=="undefined"){if(!this.children[e].match){this.children[e]=new this.constructor(this.children[e])}f[e]=this.children[e].match(g,l)}if(f[e]&&(!b||b.index>f[e].index)){b=f[e];k=this.children[e];if(b.index==0){break}}}var j=b?b.index:g.length;if(j>0){this.fallback.apply(a,g.substring(0,j),l)}if(!b){break}if(!k.build){k=new this.constructor(k)}k.build(a,b,l);var h=b.index+b[0].length;g=g.substring(h);for(var e=0;e<this.children.length;e++){if(f[e]){if(f[e].index>=h){f[e].index-=h
}else{f[e]=void 0}}}}return this},fallback:{apply:function(b,d,a){if(a&&a.forIE){d=d.replace(/\n/g," \r")}b.appendChild(document.createTextNode(d))}}};Parse.Simple.Base.Rule.prototype.constructor=Parse.Simple.Base.Rule;Parse.Simple.Creole=function(a){var f={};f.link="[^\\]|~\\n]*(?:(?:\\](?!\\])|~.)[^\\]|~\\n]*)*";f.linkText="[^\\]~\\n]*(?:(?:\\](?!\\])|~.)[^\\]~\\n]*)*";f.uriPrefix="\\b(?:(?:https?|ftp)://|mailto:)";f.uri=f.uriPrefix+f.link;f.rawUri=f.uriPrefix+"\\S*[^\\s!\"',.:;?]";f.interwikiPrefix="[\\w.]+:";f.interwikiLink=f.interwikiPrefix+f.link;f.img="\\{\\{((?!\\{)[^|}\\n]*(?:}(?!})[^|}\\n]*)*)"+(a&&a.strict?"":"(?:")+"\\|([^}~\\n]*((}(?!})|~.)[^}~\\n]*)*)"+(a&&a.strict?"":")?")+"}}";var e=function(g,h){if(h instanceof Function){return h(g)}h=h instanceof Array?h:[h];if(typeof h[1]=="undefined"){h[1]=""}return h[0]+g+h[1]};var d={hr:{tag:"hr",regex:/(^|\n)\s*----\s*(\n|$)/},br:{tag:"br",regex:/\\\\/},preBlock:{tag:"pre",capture:2,regex:/(^|\n)\{\{\{\n((.*\n)*?)\}\}\}(\n|$)/,replaceRegex:/^ ([ \t]*\}\}\})/gm,replaceString:"$1"},tt:{tag:"tt",regex:/\{\{\{(.*?\}\}\}+)/,capture:1,replaceRegex:/\}\}\}$/,replaceString:""},ulist:{tag:"ul",capture:0,regex:/(^|\n)([ \t]*\*[^*#].*(\n|$)([ \t]*[^\s*#].*(\n|$))*([ \t]*[*#]{2}.*(\n|$))*)+/},olist:{tag:"ol",capture:0,regex:/(^|\n)([ \t]*#[^*#].*(\n|$)([ \t]*[^\s*#].*(\n|$))*([ \t]*[*#]{2}.*(\n|$))*)+/},li:{tag:"li",capture:0,regex:/[ \t]*([*#]).+(\n[ \t]*[^*#\s].*)*(\n[ \t]*\1[*#].+)*/,replaceRegex:/(^|\n)[ \t]*[*#]/g,replaceString:"$1"},table:{tag:"table",capture:0,regex:/(^|\n)(\|.*?[ \t]*(\n|$))+/},tr:{tag:"tr",capture:2,regex:/(^|\n)(\|.*?)\|?[ \t]*(\n|$)/},th:{tag:"th",regex:/\|+=([^|]*)/,capture:1},td:{tag:"td",capture:1,regex:"\\|+([^|~\\[{]*((~(.|(?=\\n)|$)|\\[\\["+f.link+"(\\|"+f.linkText+")?\\]\\]"+(a&&a.strict?"":"|"+f.img)+"|[\\[{])[^|~]*)*)"},singleLine:{regex:/.+/,capture:0},paragraph:{tag:"p",capture:0,regex:/(^|\n)([ \t]*\S.*(\n|$))+/},text:{capture:0,regex:/(^|\n)([ \t]*[^\s].*(\n|$))+/},strong:{tag:"strong",capture:1,regex:/\*\*([^*~]*((\*(?!\*)|~(.|(?=\n)|$))[^*~]*)*)(\*\*|\n|$)/},em:{tag:"em",capture:1,regex:"\\/\\/(((?!"+f.uriPrefix+")[^\\/~])*(("+f.rawUri+"|\\/(?!\\/)|~(.|(?=\\n)|$))((?!"+f.uriPrefix+")[^\\/~])*)*)(\\/\\/|\\n|$)"},img:{regex:f.img,build:function(k,j,h){var g=document.createElement("img");g.src=j[1];g.alt=j[2]===undefined?(h&&h.defaultImageText?h.defaultImageText:""):j[2].replace(/~(.)/g,"$1");k.appendChild(g)}},namedUri:{regex:"\\[\\[("+f.uri+")\\|("+f.linkText+")\\]\\]",build:function(k,j,g){var h=document.createElement("a");h.href=j[1];if(g&&g.isPlainUri){h.appendChild(document.createTextNode(j[2]))}else{this.apply(h,j[2],g)}k.appendChild(h)}},namedLink:{regex:"\\[\\[("+f.link+")\\|("+f.linkText+")\\]\\]",build:function(k,j,g){var h=document.createElement("a");h.href=g&&g.linkFormat?e(j[1].replace(/~(.)/g,"$1"),g.linkFormat):j[1].replace(/~(.)/g,"$1");this.apply(h,j[2],g);k.appendChild(h)}},unnamedUri:{regex:"\\[\\[("+f.uri+")\\]\\]",build:"dummy"},unnamedLink:{regex:"\\[\\[("+f.link+")\\]\\]",build:"dummy"},unnamedInterwikiLink:{regex:"\\[\\[("+f.interwikiLink+")\\]\\]",build:"dummy"},rawUri:{regex:"("+f.rawUri+")",build:"dummy"},escapedSequence:{regex:"~("+f.rawUri+"|.)",capture:1,tag:"span",attrs:{"class":"escaped"}},escapedSymbol:{regex:/~(.)/,capture:1,tag:"span",attrs:{"class":"escaped"}}};d.unnamedUri.build=d.rawUri.build=function(j,h,g){if(!g){g={}}g.isPlainUri=true;d.namedUri.build.call(this,j,Array(h[0],h[1],h[1]),g)};d.unnamedLink.build=function(j,h,g){d.namedLink.build.call(this,j,Array(h[0],h[1],h[1]),g)};d.namedInterwikiLink={regex:"\\[\\[("+f.interwikiLink+")\\|("+f.linkText+")\\]\\]",build:function(l,k,h){var j=document.createElement("a");var g,n;if(h&&h.interwiki){g=k[1].match(/(.*?):(.*)/);n=h.interwiki[g[1]]}if(typeof n=="undefined"){if(!d.namedLink.apply){d.namedLink=new this.constructor(d.namedLink)}return d.namedLink.build.call(d.namedLink,l,k,h)}j.href=e(g[2].replace(/~(.)/g,"$1"),n);this.apply(j,k[2],h);l.appendChild(j)}};d.unnamedInterwikiLink.build=function(j,h,g){d.namedInterwikiLink.build.call(this,j,Array(h[0],h[1],h[1]),g)};d.namedUri.children=d.unnamedUri.children=d.rawUri.children=d.namedLink.children=d.unnamedLink.children=d.namedInterwikiLink.children=d.unnamedInterwikiLink.children=[d.escapedSymbol,d.img];for(var b=1;b<=6;b++){d["h"+b]={tag:"h"+b,capture:2,regex:"(^|\\n)[ \\t]*={"+b+"}[ \\t]([^~]*?(~(.|(?=\\n)|$))*)[ \\t]*=*\\s*(\\n|$)"}}d.ulist.children=d.olist.children=[d.li];d.li.children=[d.ulist,d.olist];d.li.fallback=d.text;d.table.children=[d.tr];d.tr.children=[d.th,d.td];d.td.children=[d.singleLine];d.th.children=[d.singleLine];d.h1.children=d.h2.children=d.h3.children=d.h4.children=d.h5.children=d.h6.children=d.singleLine.children=d.paragraph.children=d.text.children=d.strong.children=d.em.children=[d.escapedSequence,d.strong,d.em,d.br,d.rawUri,d.namedUri,d.namedInterwikiLink,d.namedLink,d.unnamedUri,d.unnamedInterwikiLink,d.unnamedLink,d.tt,d.img];d.root={children:[d.h1,d.h2,d.h3,d.h4,d.h5,d.h6,d.hr,d.ulist,d.olist,d.preBlock,d.table],fallback:{children:[d.paragraph]}};Parse.Simple.Base.call(this,d,a)};Parse.Simple.Creole.prototype=new Parse.Simple.Base();Parse.Simple.Creole.prototype.constructor=Parse.Simple.Creole;(function(){var b=new Parse.Simple.Creole(),a=document.createElement("div");jQuery.creole=function(d){b.parse(a,d);var e=a.innerHTML;a.innerHTML="";return e}})();var RecordsOfExistence={Models:{},Views:{},Controllers:{},Services:{},Data:{}};(function(a){a.scan(["RecordsOfExistence.Models","RecordsOfExistence.Views","RecordsOfExistence.Services","RecordsOfExistence.Controllers","Claypool.Services","GAE.Services"])})(jQuery,RecordsOfExistence);(function(a){a.env({automap:{"file:///opt":"dev.server","file:///base":"prod.server","http://localhost":"dev.client","recordsofexistence.com":"prod.client","4.latest.recordsofexistence.appspot.com":"v4.client","3.latest.recordsofexistence.appspot.com":"v3.client","2.latest.recordsofexistence.appspot.com":"v2.client"},defaults:{root:"/",precompile:true,preload:false,minify:false,templates:"http://localhost:8080/app/templates/",initialdata:"http://localhost:8080/data/",data:"http://roe-prod.s3.amazonaws.com/",host:"sdb.amazonaws.com",dataType:"text",db:"jQuery.gdb",dbconnection:{"default":{}}},prod:{server:{precompile:true,preload:false,minify:true,dbclient:"direct",root:"/",templates:"http://www.recordsofexistence.com/app/templates/",initialdata:"http://www.recordsofexistence.com/data/",data:"http://roe-prod.s3.amazonaws.com/"},client:{}},dev:{server:{dbclient:"direct"}},test:{server:{}}})})(jQuery);(function(a){a.logging([{category:"RecordsOfExistence",level:"INFO"},{category:"RecordsOfExistence.Filters",level:"INFO"},{category:"RecordsOfExistence.Models",level:"INFO"},{category:"RecordsOfExistence.Views",level:"INFO"},{category:"RecordsOfExistence.Controllers",level:"INFO"},{category:"RecordsOfExistence.Services",level:"INFO"},{category:"Claypool.Router",level:"WARN"},{category:"Claypool.MVC",level:"WARN"},{category:"Claypool.Server",level:"WARN"},{category:"Claypool.Models",level:"WARN"},{category:"Claypool",level:"WARN"},{category:"Claypool.Services",level:"WARN"},{category:"jQuery.plugins.gdb",level:"INFO"},{category:"jQuery",level:"INFO"},{category:"root",level:"WARN"}])})(jQuery);(function(a){a.routes({"hijax:server":[{id:"#recordsofexistence-rest-routes",hijaxMap:[{urls:"/rest/?$",controller:"#restService"},{urls:"/rest/<:domain(\\w+):>(/?)$",controller:"#restService"},{urls:"/rest/<:domain(\\w+):>/<:id(\\w+):>(/?)$",controller:"#restService"}]},{id:"#recordsofexistence-admin-routes",hijaxMap:[{urls:"/admin/|:action|/?$",controller:"#adminService"},{urls:"/admin/|:action|/|:domain|/?$",controller:"#adminService"},{urls:"/admin/|:action|/|:domain|/|:id|/?$",controller:"#adminService"}]},{id:"#recordsofexistence-management-routes",hijaxMap:[{urls:"/manage/|:command|(/|:target|)?(/)?$",controller:"#manageService"}]},{id:"#recordsofexistence-site-routes",hijaxMap:[{urls:"/artists$",controller:"#siteService",action:"artists"},{urls:"/artist/|:id|/?$",controller:"#siteService",action:"artist"},{urls:"/contact$",controller:"#siteService",action:"contact"},{urls:"/events$",controller:"#siteService",action:"events"},{urls:"/home$",controller:"#siteService",action:"home"},{urls:"/news$",controller:"#siteService",action:"news"},{urls:"/releases$",controller:"#siteService",action:"releases"},{urls:"/release/|:id|",controller:"#siteService",action:"release"}]},{id:"#recordsofexistence-proxy-routes",hijaxMap:[{urls:"/sdb/$",controller:"#sdbProxyService"}]}],"hijax:a":[{id:"#recordsofexistence-click-routes",filter:":not([href$=mp3])",hijaxMap:[{urls:"<:url(^.*$):>",controller:"#siteController"}]}],"hijax:form":[{id:"#recordsofexistence-submit-routes",filter:":not([action$=webscr])",hijaxMap:[{urls:"<:url(^.*$):>",controller:"#siteController",action:"submit"}]}]})
})(jQuery);(function(d,b){var a;b.Artists=function(e){d.extend(true,this,e,d.model("artists",{$id:{pattern:/roe[0-9]{3}/,not:[null],msg:"$id must be defined and should be a three digits, eg 001"},image:{pattern:/^[.]{1,256}$/,not:[null],msg:"image is the url used to display as the artists thumbnail"},name:{pattern:/^.{1,64}$/,not:[null],msg:"name must be defined, less than 64 characters and can use any characters"},description:{pattern:/.{1,512}/,not:[null],msg:"description is not required but must be a valid string, upto 512 characters long"},deleted:{pattern:/^[0-9]{1,32}$/,msg:"timestamp when record was removed or null for an active record"}}));a=d.logger("RecordsOfExistence.Models.Artists")};d.extend(b.Artists.prototype,{all:function(f){var e=this;this.find({async:false,select:"new Query('artists')",success:function(g){a.debug("loaded all %s artists",g.data.length);f(g.data)},error:function(j,g,h){a.error("failed to load all artists. (%s)",g).exception(h);f([e.template({$id:"roe500",description:"failed to load artists. ("+g+")"})])}})},current:function(f){var e=this;this.find({async:false,select:"new Query('artists').addFilter('deleted', $EQUAL, '')",success:function(g){a.debug("loaded all %s artists",g.data.length);f(g.data)},error:function(j,g,h){a.error("failed to load all artists. (%s)",g).exception(h);f([e.template({$id:"roe500",description:"failed to load artists. ("+g+")"})])}})},forId:function(g,f){var e=this;a.debug("getting artist for id %s",g);this.get({async:false,id:g,success:function(h){a.debug("found artist for %s",g);if(h.data.length){f(h.data[0])}else{f(e.template(g))}},error:function(k,h,j){a.error("failed to find item for id %s",g);f(e.template(g))}})},template:function(e){a.debug("generating template artist");return d.extend({$id:"roe404",name:d.title(2,false),description:d.paragraphs(1,false),image:"error/thumb.jpg",deleted:""},e)}})})(jQuery,RecordsOfExistence.Models);(function(e,b){var d,a;b.Events=function(f){e.extend(true,this,f,e.model("events",{$id:{pattern:/^[0-9]+$/,not:[null],msg:"id must be defined"},title:{pattern:/^.{1,64}$/,not:[null],msg:"title must be defined, less than 64 characters."},date:{pattern:/^.{1,64}$/,not:[null],msg:"a required human readable description of the date (eg May 5th, 2013)"},location:{pattern:/^.{1,256}$/,not:[null],msg:"a required human readable description the events location"},image:{pattern:/^.{1,256}$/,not:[null],msg:"a relative url for an event image"},description:{pattern:/.{1,1024}/,not:[null],msg:"description is not required but must be a valid string, upto 1024 characters long"},deleted:{pattern:/^[0-9]{1,32}$/,msg:"timestamp when record was removed or null for an active record"}}));d=[];a=e.logger("RecordsOfExistence.Models.Events")};e.extend(b.Events.prototype,{all:function(g){var f=this;this.find({async:false,select:"new Query('events')",success:function(h){a.debug("loaded all %s events",h.data.length);g(h.data.reverse())},error:function(k,h,j){a.error("failed to load all events.",j);g([f.template({$id:"roe500"})])}})},current:function(g){var f=this;this.find({async:false,select:"new Query('events').addFilter('deleted', $EQUAL, '')",success:function(h){a.debug("loaded all %s events",h.data.length);g(h.data.reverse())},error:function(k,h,j){a.error("failed to load all events.",j);g([f.template({$id:"roe500"})])}})},recent:function(f,g){this.current(function(h){g(h.slice(0,h.length>(f-1)?f:h.length))})},template:function(f){return e.extend(true,{$id:"roe404",title:e.title(3,false),date:new Date()+"",location:e.words(3,false).join(" "),description:e.sentence(),image:"error/thumb.jpg",deleted:""},f)}})})(jQuery,RecordsOfExistence.Models);(function(d,b){var a;b.News=function(e){d.extend(true,this,e,d.model("news",{$id:{pattern:/^roe[0-9]+$/,not:[null],msg:"id must be defined"},title:{pattern:/^.{1,64}$/,not:[null],msg:"title must be defined, less than 64 characters."},date:{pattern:/^.{1,64}$/,not:[null],msg:"a required human readable description of the date (eg May 5th, 2013)"},description:{pattern:/.{1,1024}/,not:[null],msg:"description is not required but must be a valid string, upto 1024 characters long"},deleted:{pattern:/^[0-9]{0,32}$/,msg:"timestamp when record was removed or null for an active record"}}));a=d.logger("RecordsOfExistence.Models.News")};d.extend(b.News.prototype,{all:function(e){this.find({async:false,select:"new Query('news')",success:function(f){a.debug("loaded all %s news",f.data.length);e(f.data.reverse())},error:function(){a.error("failed to load all news.");e([{$id:"roe500",title:"Internal Server Error",date:new Date()+"",calendar:new Date()+"",description:"We are unable to display information right now,                            the server may be experiencing a lost database connection.                            Please check back again in a few moments."}])}})},current:function(e){this.find({async:false,select:"new Query('news').addFilter('deleted', $EQUAL, '')",success:function(f){a.debug("loaded all %s news",f.data.length);e(f.data.reverse())},error:function(){a.error("failed to load all news.");e([{$id:"roe500",title:"Internal Server Error",date:new Date()+"",calendar:new Date()+"",description:"We are unable to display information right now,                            the server may be experiencing a lost database connection.                            Please check back again in a few moments."}])}})},recent:function(e,f){this.current(function(g){f(g.slice(0,g.length>(e-1)?e:g.length))})},template:function(e){return d.extend({$id:"roe999",title:d.title(3),date:new Date()+"",calendar:new Date()+"",description:d.paragraphs(2,false),deleted:""},e)}})})(jQuery,RecordsOfExistence.Models);(function(d,b){var a;b.Pressings=function(e){d.extend(true,this,e,d.model("pressings",{$id:{pattern:/^[0-9]+$/,not:[null],msg:"id must be defined and should be a positive integer"},ska:{pattern:/^.{7}$/,msg:"ska is the paypal id generated for the pressing if it for sale."},release:{pattern:/^[0-9]{3}$/,not:[null],msg:"should refer to the release id."},price:{pattern:/^[0-9]+$/,not:[null],msg:"a non-negative integer specifying the cost of the pressing"},count:{pattern:/^[0-9]{1,5}$/,not:[null],msg:"a positive integer specifying the total number records for this pressing"},format:{pattern:/^(Compact Disc)$/,not:[null],msg:'The format of the pressing (currently only "Compact Disc" is supported).'},description:{pattern:/^.+$/,not:[null],msg:"any valid string, but cannot be empty or null"},deleted:{pattern:/^[0-9]{1,32}$/,msg:"timestamp when record was removed or null for an active record"}}));a=d.logger("RecordsOfExistence.Models.Pressings")};d.extend(b.Pressings.prototype,{all:function(f){var e=this;this.find({async:false,select:"new Query('pressings').addFilter('deleted', $EQUAL, '')",success:function(g){a.debug("loaded all %s releases",g.data.length);f(g.data)},error:function(){a.error("failed to load all releases.");var g=[];for(var h=0;h<6;h++){g[h]=e.template()}f(g)}})},forRelease:function(g,f){var e=this;this.find({async:false,select:"new Query('pressings').addFilter('release', $EQUAL, '"+g+"')",success:function(h){a.debug("loaded pressings for release %s",g);f(h.data)},error:function(h){a.error("failed to load all pressings for release %s.").exception(h);f([e.template()])}})},currentForRelease:function(g,f){var e=this;this.find({async:false,select:"new Query('pressings').addFilter('release', $EQUAL, '"+g+"').addFilter('deleted', $EQUAL, '')",success:function(h){a.debug("loaded pressings for release %s",g);f(h.data)},error:function(h){a.error("failed to load all pressings for release %s.").exception(h);f([e.template()])}})},changeReleaseId:function(f,e){var g=this;this.forRelease(f,function(h){if(h){a.debug("found %s pressing to change release id",h.length)}d(h).each(function(){var j=this.$id;this.release=e;g.save({id:this.$id,async:false,data:this,success:function(){a.info("successfully changed release id for pressing %s",j)},error:function(n,k,l){a.error("failed to changed release id for pressing %s",j).exception(l)
}})})})},template:function(e){return d.extend({$id:"404",release:"000",price:0,ska:"",count:"format",format:"Audio CD",deleted:"",description:d.paragraph(false)},e)}})})(jQuery,RecordsOfExistence.Models);(function(d,b){var a;b.Releases=function(e){d.extend(true,this,e,d.model("releases",{$id:{pattern:/^[0-9]{3}$/,not:[null],msg:"id must be defined and should be a three numbers"},image:{pattern:/^[a-z0-9_]{1,32}$/,not:[null],msg:"url should be the data of the data folder, usually the in lowercase and underscores"},artist:{pattern:/^[0-9]{3}$/,not:[null],msg:"should refer to the artist id."},name:{pattern:/^.{1,64}$/,not:[null],msg:"The human readable name of the release."},label_id:{pattern:/^.{1,64}$/,not:[null],msg:"The release control number."},description:{pattern:/^.{1,1024}$/,not:[null],msg:"describes the release. any valid string, but cannot be empty or null, upto 1024 characters"},tracks:{pattern:/^.{1,64}$/,msg:"a list of track names for this release. names can be upto 64 characters long"},deleted:{pattern:/^[0-9]{1,32}$/,msg:"timestamp when record was removed or null for an active record"},featured:{msg:"display on front page?"}}));a=d.logger("RecordsOfExistence.Models.Releases")};d.extend(b.Releases.prototype,{all:function(f){var e=this;this.find({async:false,select:"new Query('releases')",success:function(g){a.debug("loaded all %s releases",g.data.length);f(g.data.reverse())},error:function(){a.error("failed to load all releases.");var g=[];for(var h=0;h<6;h++){g[h]=e.template()}f(g)}})},current:function(f){var e=this;this.find({async:false,select:"new Query('releases').addFilter('deleted', $EQUAL, '')",success:function(g){a.debug("loaded all %s releases",g.data.length);f(g.data.reverse())},error:function(){a.error("failed to load all releases.");var g=[];for(var h=0;h<6;h++){g[h]=e.template()}f(g)}})},featured:function(f){var e=this;this.find({async:false,select:"new Query('releases').addFilter('deleted', $EQUAL, '').addFilter('featured', $EQUAL, 'true')",success:function(g){a.debug("loaded all %s releases",g.data.length);f(g.data)},error:function(){a.error("failed to load all releases.");var g=[];for(var h=0;h<2;h++){g[h]=e.template()}f(g)}})},forArtist:function(f,e){this.find({async:false,select:"new Query('releases').addFilter('artist', $EQUAL, '"+f+"').addFilter('deleted', $EQUAL, '')",success:function(g){a.debug("Found %s releases for artist %s",g.data.length,f);e(g.data)},error:function(j,g,h){a.error("failed to load all releases for artist %s.",h);e(_this.template(f))}})},forId:function(g,f){var e=this;this.get({async:false,id:g,success:function(h){if(h.data.length){f(h.data[0])}else{f(e.template(g))}},error:function(k,h,j){a.error("failed to find item for id %s",g);f(e.template({$id:g}))}})},changeArtistId:function(f,e){var g=this;this.forArtist(f,function(h){if(h){a.debug("found %s pressing to change release id",h.length)}d(h).each(function(){var j=this.$id;this.artist=e;g.save({id:this.$id,async:false,data:this,success:function(){a.info("successfully changed release id for pressing %s",j)},error:function(n,k,l){a.error("failed to changed release id for pressing %s",j).exception(l)}})})})},template:function(f){a.debug("generating template artist for %s",f.$id);var h=7,e=[];for(var g=0;g<h;g++){e[g]=(g<10?"0"+g:""+g)+". "+d.title(3,false)}return d.extend({$id:f.$id||"roe404",name:d.title(2,false),description:d.paragraph(false),artist:"roe000",image:"error/thumb.jpg",tracks:e,deleted:"",featured:"",label_id:""},f)}})})(jQuery,RecordsOfExistence.Models);(function(e,d){var b,a;d.Site=function(f){e.extend(true,this,f);b=e.logger("RecordsOfExistence.Views.Site");a={}};e.extend(d.Site.prototype,{write:function(f){var g="";b.info("Rendering html template %s ",f.template);e.render({async:false,url:f.template,templateData:f,success:function(h){b.debug("Rendered template");g=h},error:function(k,h,j){b.error("failed to render : %s ",f.template).exception(j);throw ("Error Rendering template "+f.template)}});b.info("Finsihed rendering html template %s ",f.template);return g},update:function(g){b.debug("updating view");var f;e.render({async:false,url:g.template,templateData:g,partial:true,asArray:true,success:function(h){b.debug("Rendered template");f=h},error:function(k,h,j){b.error("failed to render : %s ",g.template).exception(j);throw ("Error Rendering template "+g.template)}});b.info("Finsihed rendering html template %s ",g.template);document.title=f.slice(f.blocks.title.start,f.blocks.title.end).join("");e("#main").empty().append(f.slice(f.blocks.main.start,f.blocks.main.end).join(""))}});e.tmpl.filters.fn.extend({even:function(){return this.map(function(f){if(f%2==0){return this}})},odd:function(){return this.map(function(f){if(f%2==1){return this}})},every_third_from:function(f){if(!f||f%3==0){return this.map(function(g){if(g%3==0){return this}})}else{if(f%3==1){return this.map(function(g){if(g%3==1){return this}})}else{return this.map(function(g){if(g%3==2){return this}})}}}})})(jQuery,RecordsOfExistence.Views);(function(g,e){var f,h="",d=false,a=RecordsOfExistence.Data||{},b=g.uuid();e.Site=function(k){g.extend(true,this,k);f=g.logger("RecordsOfExistence.Controllers.Site")};g.extend(e.Site.prototype,{handle:function(l){var n=this,k=l.params("url");f.debug("handling event for url %s",k);d=true;if(k.match("admin")){a={}}else{if(a[k]){j(k,a[k]);l.m(a[k]).render(function(){document.location.hash=h="#"+k});return}}g.ajax({url:k+(k.match("\\?")?"&"+b:"?"+b),dataType:"json",success:function(o){a[k]=o;j(k,o);l.m(o).render(function(){document.location.hash=h="#"+k})},error:function(q,o,p){d=false;f.error("failed to load data for url %s",k).exception(p)}})},submit:function(l){var n=this,k=l.params("url");f.debug("handling event for url %s",k);d=true;if(k.match("admin")){a={}}else{if(a[k]){j(k,a[k]);l.m(a[k]).render(function(){document.location.hash=h="#"+k});return}}g.ajax({url:k,dataType:"json",type:l.target.method||"GET",data:l.params(),success:function(p,o,q){a[k]=p;j(k,p);document.location.hash=h="#"+k},error:function(q,o,p){d=false;f.error("failed to load data for url %s",k).exception(p)}})},go:function(){var k=document.location.hash,l=this;if(h!==k&&!d){h=k;k=g('<a href="'+k.substring(1)+'" style="display:none">'+k+"</a>");g(document.body).append(k);setTimeout(function(){k.click().remove()},100)}}});var j=function(l,n,k,o){d=false;a[l]=n;f.debug("posted form for url %s rendering %s",l);l=n.request.requestURI+(n.request.queryString?"?"+n.request.queryString.replace("&fo=json",""):"");f.debug("resulting url %s",l)}})(jQuery,RecordsOfExistence.Controllers);(function(g,j){var f,h,e,d,b,a;j.Site=function(k){f=g.logger("RecordsOfExistence.Services.Site");g.extend(true,this,k);h=g.$("#artistsModel");e=g.$("#releasesModel");d=g.$("#pressingsModel");b=g.$("#newsModel");a=g.$("#eventsModel")};g.extend(j.Site.prototype,{artists:function(k){f.debug("Serving artists page.");var l=(k.m("admin"))?"all":"current";h[l](function(n){k.m({artists:n,template:g.env("templates")+"html/pages/artists.tmpl"}).render()})},artist:function(n){var o=n.params("id");f.debug("Serving artist %s page.",o);var l,k;h.forId(o,function(p){l=p;e.forArtist(o,function(q){k=q;n.m({id:o,artist:l,releases:k,template:g.env("templates")+"html/pages/artist.tmpl"}).render()})})},events:function(k){f.debug("Serving events page.");var l=(k.m("admin"))?"all":"current";a[l](function(n){k.m({events:n,template:g.env("templates")+"html/pages/events.tmpl"}).render()})},contact:function(k){k.m({template:g.env("templates")+"html/pages/contact.tmpl"}).render()},home:function(o){f.debug("Serving home page.");var n,k,l;a.recent(3,function(p){n=p;e.featured(function(q){recent=q;b.recent(5,function(r){l=r;o.m({recent:recent,news:l,events:n,template:g.env("templates")+"html/pages/home.tmpl"}).render()})})})},releases:function(k){f.debug("Serving releases page.");var l=(k.m("admin"))?"all":"current";e[l](function(n){k.m({releases:n,template:g.env("templates")+"html/pages/releases.tmpl"}).render()})},release:function(k){var l=k.params("id");
e.forId(l,function(n){h.forId(n.artist,function(o){var p=(k.m("admin"))?"forRelease":"currentForRelease";d[p](l,function(q){k.m({id:l,artist:o,release:n,pressings:q,template:g.env("templates")+"html/pages/release.tmpl"}).render()})})})},news:function(k){f.debug("Serving news page.");var l=(k.m("admin"))?"all":"current";b[l](function(n){k.m({news:n,template:g.env("templates")+"html/pages/news.tmpl"}).render()})}})})(jQuery,RecordsOfExistence.Services);jQuery.noConflict();(function(b){var a=b.logger("RecordsOfExistence"),f="";try{b.env()}catch(d){a.error("Environmental selection is invalid!").exception(d)}b(document).ready(function(){a.info("Initializing Application");b.boot(function(){a.info("Successfully Initialized Application");setInterval(b.$("#siteController").go,200)})})})(jQuery);(function(a){a(document).ready(function(){a("#hide_deleted").bind("click",function(){a(".deleted").hide()});a("#show_deleted").bind("click",function(){a(".deleted").show()})})})(jQuery);jQuery.templates[jQuery.env("templates")+"html/analytics.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push('<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"><\/script>\n\n<script type="text/javascript">\n    _uacct = "UA-3433323-1";\n    urchinTracker();\n<\/script>')}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/base.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push('<html xml:lang="eng"  dir="ltr" xml:space="default">\n\n    <head \tprofile="http://a9.com/-/spec/opensearch/1.1/">\n\t\t\n\t\t\t<title>\n\t\t\t\t');(function(){var name="title",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n\t\t\t\tRecords of Existence\n\t\t\t\t");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n\t\t\t</title>\n\t\t\n        \n\t\t");T.include=true;T._=$.env("templates")+"html/meta.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n        ");(function(){var name="meta_extra",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n\t\t\t<!-- extension point for additional metadata  -->\n        ");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n        \n\t\t");T.include=true;T._=$.env("templates")+"html/stylesheets.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n        ");(function(){var name="stylesheet_extra",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n\t\t\t<!-- extension point for additional stylesheets -->\n        ");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n        \n\t\t");T.include=true;T._=$.env("templates")+"html/links.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n        ");(function(){var name="link_extra",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n\t\t\t<!-- extension point for additional links  -->\n        ");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n        \n\t\t");T.include=true;T._=$.env("templates")+"html/scripts.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n\t\t");
(function(){var name="script_extra",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n\t\t\t<!-- extension point for additional stylesheets  -->\n\t\t");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push('\n\t\t\n\t\t\n\t\t<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />\n\t\t<!--link rel="apple-touch-icon"  href="TODO" /-->\n\t\t\n    </head>\n    <body>\n\t\t<!--Header-->\n\t\t<div id=\'header\' class="container">\n        ');T.include=true;T._=$.env("templates")+"html/header.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n\t\t</div>\n\t\t\n\t\t<!--Main Content-->\n        <div id='main' class=\"container\">\n\t\t\t");(function(){var name="main",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n\t\t\t\t<!-- main layout extension point-->\n\t\t\t");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push('\n\t\t</div>\n\t\t\t\n\t\t\t\n\t\t<!--Footer-->\n\t\t<div \tid="footer" \n\t\t\t\tclass="container">\n\t\t\t<div class="column span-23 last">\n                ');T.include=true;T._=$.env("templates")+"html/footer.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n\t\t\t\t");(function(){var name="global-footer_extra",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n\t\t\t\t\t<!-- extension point for additional elements -->\n\t\t\t\t");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<!--Analytics\n        ");T.include=true;T._=$.env("templates")+"html/analytics.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n\t\t-->\n    </body>\n</html>\n\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/footer.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("<div style='text-align:center;'>\n\t<em class='small'>\n\t&copy; 2009-2010 recordsofexistence\n\t</em>\n</div>\n<div id='copyright' style='text-align:center;'>\n    <img id=\"claypool-logo\" \n         src='");pushT($.env("root")+"images/claypool-button.png",this);T.push('\' \n         alt="jquery-claypool" \n         title="This site uses jquery-claypool" \n         width="80" \n         height="15"\n         style=\'float:left;\'/>\n    <img id="blueprint-logo" \n\t\t src=\'');pushT($.env("root")+"images/button.png",this);T.push('\' \n         alt="blueprint" \n\t     title="This site uses blueprint-css" \n\t\t width="80" \n\t\t height="15"\n         style=\'float:right;\'/> \n</div>\n\n')}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/header.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push('<div class="column span-7 first">\n    <a href=\'');pushT($.env("root")+"home",this);T.push("'>\n\t    <img \tsrc='");pushT($.env("root")+"images/logo.png",this);T.push("' \n\t\t\t    alt=\"Records of Existence \" \n                height='80px'/>\n    </a> \n</div> \n<div class=\"column span-15 prepend-top last\" id='global-nav' >\n\t<ul >\n        <li><a href='");pushT($.env("root")+"home",this);T.push("'>home</a></li> |\n        <li><a href='");pushT($.env("root")+"releases",this);T.push("'>releases</a></li> | \n        <li><a href='");pushT($.env("root")+"artists",this);T.push("'>artists</a></li> | \n        <li><a href='");pushT($.env("root")+"contact",this);T.push('\'>contact</a></li>  \n        <!--li>\n        <span id="sharethisbutton">\n            <script type="text/javascript" src="http://w.sharethis.com/widget/?tabs=web%2Cpost%2Cemail&amp;charset=utf-8&amp;style=default&amp;publisher=b0f530fc-b206-4fb8-b8a8-478191e675c2&amp;headerbg=%23c20000&amp;linkfg=%23c20000">\n                    \n            <\/script>\n        </span>\n        </li-->\n    </ul>\n</div>\n\t')}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/links.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;
_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push('<!--link \ttitle="jquery-claypool" \n\t\thref="describe" \n\t\ttype="application/opensearchdescription+xml" \n\t\trel="search"/-->\n\t\t\n<link \trel="shortcut icon" \n\t\thref=\'');pushT($.env("root"),this);T.push("images/favicon.ico' />\n\t\t")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/meta.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push('<meta \tcontent="en-us" \n\t\thttp-equiv="Content-Language"/>\n<meta \tcontent="text/html; charset=utf-8" \n\t\thttp-equiv="Content-Type"/>\n<meta \tname="keywords"\n\t\tcontent="records of existence, records, records label, albums,\n\t\t         releases, ep, lp, cd, hand printed, limited edition,\n\t\t\t\t vox populi, music, artists, musicians, thenurbs, nagato,\n\t\t\t\t hovel, shepherstown"/>\n<meta \tname="description"\n\t\tcontent="Records of Existence is an artist run label of \n                 underground independent artists.  We specialize \n                 in doing limited edition Hand-Printed and \n                 Hand-Assembled releases to make the release \n                 as unique as the artists." />\n<meta   name="google-site-verification" \n        content="TXTKjI0eSKAeIALYTE0lW3j5zTzeEN2wgBJmR9RR3hw" />')}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/scripts.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("\n<!-- \n/**\n *  The common libraries and plugins\n *  may be useful to the client as well\n *  so we simply include them from the \n *  public server path\n */ -->\n\t\n");if($.env("minify")){T.push(" \n<script src='");pushT($.env("root")+"dist/app.min.js",this);T.push('\'     \ttype="text/javascript" ><\/script>\n')}else{T.push("\n<script src='");pushT($.env("root")+"lib/firebug/firebug.js",this);T.push("'   type=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"lib/jquery.js",this);T.push("'        \ttype=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"lib/jquery.claypool.js",this);T.push("'   type=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"lib/jquery.livequery.js",this);T.push("'  type=\"text/javascript\" ><\/script>\n\n<script src='");pushT($.env("root")+"plugins/jquery.json.js",this);T.push("'   type=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"plugins/jquery.tmpl.js",this);T.push("'   type=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"plugins/tmpl.blocks.js",this);T.push("'   type=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"plugins/tmpl.extend.js",this);T.push("'   type=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"plugins/tmpl.filters.js",this);T.push("'  type=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"plugins/tmpl.switch.js",this);T.push("'   type=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"plugins/creole.js",this);T.push("'   \t\ttype=\"text/javascript\" ><\/script>\n\n<script src='");pushT($.env("root")+"app/configs/config.js",this);T.push("'     \ttype=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"app/configs/environments.js",this);T.push("'  type=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"app/configs/logging.js",this);T.push("'     \ttype=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"app/configs/routes.js",this);T.push("'     \ttype=\"text/javascript\" ><\/script>\n\n<script src='");pushT($.env("root")+"app/models/artists.js",this);T.push("'     \ttype=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"app/models/events.js",this);T.push("'     \ttype=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"app/models/news.js",this);T.push("'     \t\ttype=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"app/models/pressings.js",this);T.push("'     \ttype=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"app/models/releases.js",this);T.push("'     \ttype=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"app/views/site.js",this);T.push("'     \t\ttype=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"app/controllers/site.js",this);T.push("'     \ttype=\"text/javascript\" ><\/script>\n<script src='");pushT($.env("root")+"app/services/site.js",this);T.push("'     \ttype=\"text/javascript\" ><\/script>\n\n<script src='");pushT($.env("root")+"app/boot/client.js",this);T.push("'     \ttype=\"text/javascript\" ><\/script>\n\n<script src='");pushT($.env("root")+"scripts/admin.js",this);T.push('\'     \ttype="text/javascript" ><\/script>\n\n');if($.env("preload")){T.push("\n<script src='");pushT($.env("root")+"dist/data.js",this);T.push('\'     \ttype="text/javascript" ><\/script>\n')}T.push("\n\n");if($.env("precompile")){T.push("\n");T.include=true;T._=$.env("templates")+"html/templates.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n")}T.push("\n\n")}T.push("\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/stylesheets.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("<!--Print Stylesheets-->\n<link \thref='");pushT($.env("root")+"css/blueprint/print.css",this);T.push('\' \n\t\trel="stylesheet"         \n\t\ttype="text/css" \n\t\tmedia="print"/>\n\n<!--Screen Stylesheets-->\t\t\n\n<link \thref=\'');pushT($.env("root")+"css/blueprint/screen.css",this);T.push('\'   \n\t\ttype="text/css" \n\t\tmedia="screen, projection"\n\t\trel="stylesheet" />\n<link   href=\'');pushT($.env("root")+"css/sprite.css",this);T.push('\'   \n        type="text/css" \n        media="screen, projection"\n        rel="stylesheet" />\n<link   href=\'');pushT($.env("root")+"css/site.css",this);T.push('\' \n        type="text/css" \n        rel="stylesheet" />\n\n\n<!-- extra stylesheet for admin mode -->\n<link\n    href=\'');
pushT($.env("root")+"css/site-admin.css",this);T.push('\' \n    type="text/css"\n    rel="stylesheet"\n/>\n\n<link\n    href=\'');pushT($.env("root")+"css/mobile.css",this);T.push('\' \n    type="text/css"\n    rel="stylesheet"\n/>\n\n<!--Quirks Mode Stylesheets-->\t\t\t\t\n<!--[if lt IE 8]>\n<link \thref="/css/blueprint/ie.css"\n\t\ttype="text/css" \n\t\tmedia="screen, projection"\n\t\trel="stylesheet" />\n <![endif]-->\n')}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/forms/artist.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("\n<form id='editArtist' \n    method='post' \n    action='");pushT($.env("root")+"admin/save/artists/"+artist.$id,this);T.push("'>\n    \n        <div class='first column span-7 prepend-2 colborder'>\n            <span class=\"ss_sprite  ss_comment_add\">\n              edit artist name  \n            </span>\n            <h4>\n                <input \n                    id='name' \n                    type='text' \n                    name='name'\n                    value='");pushT(artist.name,this);T.push("'\n                />\n            </h4>\n            <span  class=\"ss_sprite  ss_image_add\">\n                edit artist id |\n            </span>\n            <br/>\n            <input \n                id=    '$id'\n                type=  'text' \n                name=  '$id'\n                value= '");pushT(artist.$id,this);T.push("'\n            />\n            <br/>\n            <br/>\n            <span class=\"ss_sprite  ss_image_add\">\n              edit artist image \n            </span>\n            <br/>\n            <input\n                id='image' \n                type='text'\n                name='image'\n                value='");pushT(artist.image,this);T.push("'\n            />\n            <img src='");pushT($.env("data")+artist.image,this);T.push("' \n                 alt='");pushT(artist.image,this);T.push("'  \n                 height='150px'/>\n            <strong>releases</strong>\n            <ul>\n                ");jQuery.each(releases,function($i){with(this){T.push('\n                <li>\n                    <span class="ss_sprite  ss_delete">\n                        <a href=\'');pushT($.env("root")+"admin/remove/releases/"+this.$id,this);T.push("'>\n                             remove this release \n                        </a> | \n                    </span>\n                    <span class=\"ss_sprite  ss_comment_add\">\n                        <a href='");pushT($.env("root")+"release/"+this.$id+"?admin",this);T.push("'>\n                             edit this release \n                        </a> \n                    </span>\n                    <br/>\n                    ");pushT(this.name,this);T.push("\n                </li>\n                <li>\n                     <a href='");pushT($.env("root")+"admin/add/releases/?artist="+artist.$id,this);T.push('\'></a>\n                         <span class="ss_sprite  ss_add">\n                             Add Release\n                         </span>\n                     </a>\n                 </li>\n                 ')}});T.push("\n            </ul>\n        </div>\n        <div class=' last column span-12'>\n            <span class=\"ss_sprite  ss_comment_add\">\n                  edit artist description  \n            </span>\n            <textarea id='description'\n                name='description'\n            >");pushT(artist.description+"",this);T.push("</textarea>\n            <input\n                type='submit' \n                value='save' \n                class='submit'\n            />\n        </div>    \n</form>")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/forms/event.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("<form action='");pushT($.env("root")+"admin/save/events/"+this.$id,this);T.push("'\n      method='post'>\n    <input\n        type='hidden'\n        name='$id'\n        value='");pushT(this.$id,this);T.push("'\n    />\n    <span class=\"date ss_sprite  ss_image_add\">\n      edit event date | \n    </span> <br/>\n    <input \n        class='date' \n        type='text'\n        name='date' \n        value='");pushT(this.date,this);T.push("'\n    />\n    <br/>\n    <span  class=\"ss_sprite  ss_delete\">\n        <a href='");pushT($.env("root")+"admin/"+(this.deleted.length?"restore":"remove")+"/events/"+this.$id,this);T.push("'>\n        | ");pushT((this.deleted.length?"restore":"remove"),this);T.push(" event\n        </a>\n    </span>\n    <br/>\n    <span class=\"ss_sprite  ss_image_add\">\n        edit artist image\n        <br/>\n        <input\n            id=    'image' \n            type=  'text'\n            name=  'image' \n            value= '");pushT(this.image,this);T.push("'\n        />\n    </span>\n    <a href='#'>\n        <img \n            src='");pushT($.env("data")+this.image,this);T.push("'\n            alt='");pushT(this.title,this);T.push("'\n            width='60px'\n        />\n    </a>\n    <br/>\n    <span class=\"ss_sprite  ss_comment_edit\">\n        edit event title\n        <br/>\n        <input \n            type=  'text'\n            name=  'title' \n            value= '");pushT(this.title,this);T.push("'\n        />\n    </span>\n    <br/>\n    <span class=\"ss_sprite  ss_comment_edit\">\n        edit event location\n        <br/>\n        <input\n            class= 'location' \n            type=  'text'\n            name=  'location' \n            value= '");pushT(this.location,this);T.push("'\n        />\n    </span>\n    <br/>\n    <span class=\"ss_sprite  ss_comment_edit\">\n        edit event description\n        <br/>\n        <textarea\n            class= 'description' \n            name=  'description'\n        >");pushT(this.description,this);T.push("</textarea>\n    </span>\n    <br/>\n    <input\n        type=  'submit' \n        value= 'save'\n        class= 'submit'\n    />\n    \n</form>")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/forms/news.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("<form action='");pushT("admin/save/news/"+this.$id,this);T.push("'\n      method='post'>\n    <input\n        type='hidden'\n        name='$id'\n        value='");pushT(this.$id,this);T.push('\'\n    />\n    <span class=  "title ss_sprite  ss_image_add">\n        edit news title | \n        <span class= "ss_sprite  ss_delete">\n            <a href=\'');pushT($.env("root")+"admin/"+(this.deleted.length?"restore":"remove")+"/news/"+this.$id,this);T.push("'>\n                 ");pushT((this.deleted.length?"restore":"remove"),this);
T.push(" news \n            </a>\n        </span>\n        <br/>\n        <input\n            class= 'title' \n            type=  'text'\n            name=  'title'\n            value= '");pushT(this.title,this);T.push("'\n        />\n    </span>\n    <br/>\n    <span class=\"date ss_sprite  ss_comment_add\"\n        >edit news date | \n        <br/>\n        <input\n            class= 'date' \n            type=  'text'\n            name=  'date' \n            value= '");pushT(this.date,this);T.push("'\n        />\n    </span>\n    <p>\n        <span class=\"ss_sprite  ss_comment_add\">\n            edit news description\n            <textarea\n                class='description'\n                name='description'\n                style='border-bottom:1px dotted #567'>\n                ");pushT(this.description,this);T.push("\n            </textarea>\n        </span>\n    </p>\n                    \n    <input\n        id=    '");pushT("submit/news/"+this.$id,this);T.push("'\n        type=  'submit', \n        value= 'save', \n        class= 'submit'\n    />\n    <hr/>\n</form>")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/forms/paypal.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("\n<form id='paypal-");pushT(this.ska,this);T.push("'\n      method='post'\n      action='https://www.paypal.com/cgi-bin/webscr'\n      target='paypal'>\n    \n    <div class='last column box span-4'>\n        <br/>\n        <h6>purchase this pressing</h6>\n        <p align='center'>\n            <em>");pushT(this.format,this);T.push("</em>\n            <br/>\n            <span class='cost'> $ ");pushT(this.price,this);T.push("</span>\n            <br/>\n            <input\n                type='hidden'\n                name='cmd'\n                value='_s-xclick'\n            />\n            <input\n                type='hidden'\n                name='hosted_button_id'\n                value='");pushT(this.ska,this);T.push("'\n            />\n            <input\n                id=    '");pushT(this.ska,this);T.push("'\n                class= 'addtocart'\n                type=  'image'\n                src=   'https://www.paypal.com/en_US/i/btn/btn_cart_LG.gif'\n                alt=   'PayPal - The safer, easier way to pay online!'\n                name=  'submit'\n            />\n        </p>\n    </div>\n\n</form>\n    ")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/forms/pressing.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("<form id='editPressings-");pushT(this.$id,this);T.push("'\n      method='post'\n      action='/admin/save/pressings/");pushT(this.$id,this);T.push("'>\n    <input\n        type='hidden'\n        name='$id'\n        value='");pushT(this.$id,this);T.push("'\n    />   \n    <div class='pressing span-22 ");pushT(this.deleted?"deleted":"",this);T.push("'>\n        \n        <div class='first column span-13 prepend-2 colborder'>\n            <span style= \"float:left;\"\n                  class= \"ss_sprite  ss_delete\" >\n                <a  id='pressings/");pushT(this.$id,this);T.push("' \n                    href='");pushT($.env("root"),this);T.push("admin/");pushT((this.deleted.length?"restore":"remove"),this);T.push("/pressings/");pushT(this.$id,this);T.push("?release=");pushT(this.release,this);T.push("'>\n                     | ");pushT((this.deleted.length?"restore":"remove"),this);T.push(" release \n                </a>\n            </span>\n            <span class= \"ss_sprite  ss_comment_add\">\n               edit pressing description | \n            </span>\n            <textarea\n                id=    'description'\n                name=  'description'\n            >");pushT(this.description,this);T.push("</textarea>\n            <input\n                type=  'hidden' \n                name=  'release'\n                value= '");pushT(this.release,this);T.push("'\n            />\n            <input\n                type=  'submit'\n                value= 'save'\n                class= 'submit'\n            />\n        </div>\n        <div class='last column small box span-4'>\n            <h6>purchase this pressing</h6>\n            <p align='center'>\n                    <span class= \"ss_sprite  ss_cd\">\n                       edit release format | \n                    </span>\n                    <input\n                        id=    'format' \n                        type=  'text'\n                        name=  'format'\n                        value= '");pushT(this.format,this);T.push("'\n                    />\n                    <br/>\n                    <span class= \"ss_sprite  ss_money\">\n                        edit release price | \n                    </span>\n                    <input\n                        id=    'price' \n                        type=  'text'\n                        name=  'price'\n                        value= '");pushT(this.price,this);T.push("'\n                    />\n                    <br/>\n                    <span class= \"ss_sprite  ss_creditcards \">\n                        edit release ska | \n                    </span>\n                    <input\n                        id=    'ska' \n                        type=  'text'\n                        name=  'ska'\n                        value= '");pushT(this.ska,this);T.push("'\n                    />\n            </p>\n        </div>\n                \n    </div>\n    \n</form>")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/forms/release.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("<form id='editRelease' \n      method='post' \n      action='");pushT($.env("root")+"admin/save/releases/"+release.$id,this);T.push("'>\n    <div class='first column span-5 colborder push-1'>\n        \n        <span class=\"ss_sprite  ss_comment_add\">\n            edit release name |\n        </span>\n        <em>Release</em><br/>\n        <input \n            type=  'text' \n            name=  'name'\n            value= '");pushT(release.name,this);T.push("'\n        />\n        <h5>\n            <a href='#'>\n                ");pushT(artist.name,this);T.push("\n            </a>\n        </h5>\n        <span  class=\"ss_sprite  ss_comment_add\">\n            edit release id |\n        </span>\n        <input \n            id=    '$id'\n            type=  'text' \n            name=  '$id'\n            value= '");pushT(release.$id,this);T.push("'\n        />\n        <br/>\n        <span  class=\"ss_sprite  ss_comment_add\">\n            feature? true or blank |\n        </span>\n        <input \n            id=    'featured'\n            type=  'text' \n            name=  'featured'\n            value= '");
pushT(release.featured,this);T.push("'\n        />\n        <br/>\n        <span  class=\"ss_sprite  ss_comment_add\">\n            edit label id |\n        </span>\n        <input \n            id=    'label_id'\n            type=  'text' \n            name=  'label_id'\n            value= '");pushT(release.label_id,this);T.push("'\n        />\n        <br/>\n        <span  class=\"ss_sprite  ss_image_add\">\n            edit release image |\n        </span>\n        <input \n            id=    'image'\n            type=  'text' \n            name=  'image'\n            value= '");pushT(release.image,this);T.push("'\n        />\n        <br/>\n        <input \n            type=  'hidden' \n            name=  'artist'\n            value= '");pushT(artist.$id,this);T.push("'\n        />\n        <br/>\n        <input \n            id=    'submitRelease'\n            type=  'submit' \n            value= 'save'\n            class= 'submit'\n        />\n    </div>\n       \n    <div id='cover' \n         class='column span-6 colborder'>\n        <img src='");pushT($.env("data")+release.image,this);T.push("' \n             alt='release image'  \n             height='150px'\n        />\n    </div>\n    \n    <div id='media' \n         class='column span-9'>\n        \n        <ul>\n            ");jQuery.each(release.tracks,function(index,title){with(this){T.push('\n            <li>\n                <span class= "ss_sprite  ss_delete">\n                <a href=\'');pushT($.env("root")+"admin/remove/tracks/?release="+release.$id+"&index="+index,this);T.push("'>\n                    remove track | \n                </a>\n                <input \n                    id=    '");pushT("tracks."+index,this);T.push("'\n                    type=  'text' \n                    name=  '");pushT("tracks."+index,this);T.push("'\n                    value= '");pushT(title,this);T.push("'\n                />\n                </span>\n            </li>\n            ")}});T.push('\n        \n            <li>\n            <span class= "ss_sprite  ss_add">\n                <a id=    \'');pushT("track."+release.tracks.length,this);T.push("' \n                   href=  '");pushT($.env("root")+"admin/add/tracks/?release="+release.$id,this);T.push("'\n                   name=  '");pushT("track."+release.tracks.length,this);T.push("'> \n                    Add a new track\n                </a>\n            </span>\n            </li>\n        </ul>\n    </div>\n    \n    <div class='column span-18 push-3' >\n        <span class= \"ss_sprite  ss_comment_add\">\n            edit release description |\n        </span>\n        <textarea\n            id='description'\n            name='description'\n            style='border-bottom:1px dotted #567'\n        >");pushT(release.description,this);T.push("</textarea>\n    </div>\n    \n    \n</form>")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/pages/artist.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("");T._=$.env("templates")+"html/base.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n    \n");(function(){var name="title",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n    Records of Existence Artist ");pushT(artist.name,this);T.push("\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n\n");(function(){var name="main",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n<div id='artist'>\n    <h3>\n        <a href='");pushT($.env("root")+"artists",this);T.push("'>\n            &lt; artists\n        </a>\n    </h3>\n    ");if(admin){T.push("\n        ");T.include=true;T._=$.env("templates")+"html/forms/artist.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n    ")}else{T.push("\n    <div class='first column span-7 push-2 colborder'>\n        \n        <h4>\n            ");pushT(artist.name,this);T.push("\n        </h4>\n        <img src='");pushT($.env("data")+artist.image,this);T.push("' \n             alt='");pushT(artist.image,this);T.push("'  \n             height='150px'/>\n        <strong>releases</strong>\n        <ul>\n            ");jQuery.each(releases,function($i){with(this){T.push("\n            <li>\n                <a href='");pushT($.env("root")+"release/"+this.$id,this);T.push("'>\n                    ");pushT(this.name,this);T.push("\n                </a>\n            </li>\n             ")}});T.push("\n        </ul>\n    </div>\n    <div class=' last column span-12'>\n        <p>");pushT(artist.description,this);T.push("</p>\n    </div>\n    ")}T.push("\n</div>\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/pages/artists.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("");T._=$.env("templates")+"html/base.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)
},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n\n");(function(){var name="title",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\nRecords of Existence Artists\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n\n");(function(){var name="main",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n<div id='artists'>\n    <h3>artists</h3>\n    \n    ");if(admin){T.push("\n    <div style='clear:both;text-align:center;'>\n        <span  class=\"ss_sprite  ss_add\">\n            <a href='");pushT($.env("root")+"admin/add/artists/",this);T.push("'>\n            Add artist\n            </a>\n        </span><br/>\n        <a id='show_deleted'\n           href='#show/deleted'>\n           show deleted artists\n        </a>\n        <span> | </span>\n        <a id='hide_deleted'\n           href='#hide/deleted'>\n           hide deleted artists\n        </a>\n    </div>\n    ")}T.push(" \n    \n    <div class='first column span-11  '>\n        <ul>\n            ");jQuery.each(_(artists).even(),function($i){with(this){T.push("\n            <li class='");pushT((this.deleted.length?"deleted":""),this);T.push("'>\n                ");if(admin){T.push('\n                <span class="ss_sprite  ss_comment_edit">\n                    <a href=\'');pushT($.env("root")+"artist/"+this.$id+"?admin",this);T.push("'>\n                     | edit artist \n                    </a><br/>\n                </span>\n                <span class=\"ss_sprite  ss_comment_delete\">\n                    <a href='");pushT($.env("root")+"admin/"+(this.deleted.length?"restore":"remove")+"/artists/"+this.$id,this);T.push("'>\n                        | ");pushT(this.deleted.length?"restore":"remove",this);T.push(' artist \n                    </a><br/>\n                </span>\n                <span class="ss_sprite  ss_cd_add">\n                    <a href=\'');pushT($.env("root")+"admin/add/releases/?artist="+this.$id,this);T.push("'>\n                         | add release \n                    </a><br/>\n                </span>\n                ")}T.push("\n                <a href='");pushT($.env("root")+"artist/"+this.$id,this);T.push("'>\n                    <strong>");pushT(this.name,this);T.push("</strong>\n                    <img src='");pushT($.env("data")+this.image,this);T.push("'\n                         alt='");pushT(this.name,this);T.push("'\n                         height='80px'/>\n                </a>\n            </li>\n            ")}});T.push("\n        </ul>\n    </div>\n    <div class=' last column span-10'>\n        <ul>\n            ");jQuery.each(_(artists).odd(),function($i){with(this){T.push("\n            <li class='");pushT((this.deleted.length?"deleted":""),this);T.push("'>\n                ");if(admin){T.push('\n                <span class="ss_sprite  ss_comment_edit">\n                    <a href=\'');pushT($.env("root")+"artist/"+this.$id+"?admin",this);T.push("'>\n                     | edit artist \n                    </a><br/>\n                </span>\n                <span class=\"ss_sprite  ss_comment_delete\">\n                    <a href='");pushT($.env("root")+"admin/"+(this.deleted.length?"restore":"remove")+"/artists/"+this.$id,this);T.push("'>\n                        | ");pushT(this.deleted.length?"restore":"remove",this);T.push(' artist \n                    </a><br/>\n                </span>\n                <span class="ss_sprite  ss_cd_add">\n                    <a href=\'');pushT($.env("root")+"admin/add/releases/?artist="+this.$id,this);T.push("'>\n                         | add release \n                    </a><br/>\n                </span>\n                ")}T.push("\n                <a href='");pushT($.env("root"),this);T.push("artist/");pushT(this.$id,this);T.push("'>\n                    <img src='");pushT($.env("data")+this.image,this);T.push("'\n                         alt='");pushT(this.name,this);T.push("'\n                         height='80px'/>\n                    <strong>");pushT(this.name,this);T.push("</strong>\n                </a>\n            </li>\n            ")}});T.push("\n        </ul>\n    </div>\n</div>\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/pages/contact.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("");T._=$.env("templates")+"html/base.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n\n");(function(){var name="title",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\nRecords of Existence Contact\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n\n");(function(){var name="main",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n<div class=\"span-16 column first\">\n    <div id='contact'>\n        <h3>contact</h3>\n        <p>\n            <img src='");
pushT($.env("root")+"images/goldrecord.png",this);T.push('\' \n                 alt=\'records of existence\'\n                 height=\'70px\'/>\n            If you\'ld like to get in touch, please do. We will try to respond quickly. \n            We gladly accept submissions.  However, keep in mind that we are a small \n            label with a limited amount of resources and time to put into our releases.  \n            So many of our releases are done by hand with sizable investment of time.  \n            This is a labor of love that we do to make the releases as unique as the \n            bands they showcase.  So if we LOVE it, we will put it out if we think \n            its a good fit.  \n        </p>\n        <p>\n            We mostly focus on projects from our regional area in \n            the mid-atlantic as these are more often those we have come to call friends.  \n            Our interests and tastes are diverse.  If you\'re a fan of what we do, we may\n            very well be a good match.  stop by sometime.\n        </p>\n        <p align="center">\n            <em>\n                Records of Existence<br/>\n                  P.O. Box 995<br/>\n               Shepherdstown, WV 25443\n            </em><br/>\n          <!--/**a href="mailto:info@recordsofexistence.org">\n              info@recordsofexistence.org\n          </a*/-->\n       </p>\n    </div>\n</div>\n<div class="span-7 column last">\n    <div id=\'mailing_list\'>\n        <h3>mailing list</h3>\n        <p>Please join our list to keep up to date!</p>\n        <span>\n            <a href="mailto:recordsofexistence@hotmail.com" \n                target="new">\n                  recordsofexistence mailing list\n            </a>\n        </span>\n        <!--/**form action="mailinglist/subscribe" method="get">\n            <input name="email" size="13" value="you@it.com" type="text"/>\n            <input class="button" value="ok" type="submit"/>\n        </form*/-->\n    </div>\n </div>\n');return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/pages/error.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("");T._=$.env("templates")+"html/base.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n    \n");(function(){var name="title",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\nRecords of Existence Error\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n\n");(function(){var name="main",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n<h3>An unexpected error occured.</h3>\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/pages/events.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("");T._=$.env("templates")+"html/base.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n\n");(function(){var name="title",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\nRecords of Existence Events\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n\n");(function(){var name="main",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n<div id='events' >\n    <h3>events</h3>\n    \n    ");if(admin){T.push("\n    <div style='clear:both;text-align:center;'>\n        <span  class=\"ss_sprite  ss_add\">\n            <a href='");pushT($.env("root")+"admin/add/events/",this);T.push("'>\n            Add event\n            </a>\n        </span><br/>\n        <a id='show_deleted'\n           href='#show/deleted'>\n           show deleted events\n        </a>\n        <span> | </span>\n        <a id='hide_deleted'\n           href='#hide/deleted'>\n           hide deleted events\n        </a>\n    </div>\n    ")}T.push(" \n    \n    <div style='width:auto;overflow-x:auto;'>\n        ");
jQuery.each(events,function($i){with(this){T.push("\n        \n        <div class='event column span-5 ");pushT(admin?"":"colborder",this);T.push(" ");pushT((this.deleted.length?"deleted":""),this);T.push("'>\n        ");if(admin){T.push("\n            ");T.include=true;T._=$.env("templates")+"html/forms/event.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n        ")}else{T.push("\n            <span>");pushT(this.date,this);T.push("</span>\n            <br/>\n\n                <img \n                    src='");pushT($.env("data")+this.image,this);T.push("'\n                    alt='");pushT(this.title,this);T.push("'\n                    width='60px'\n                />\n            <br/>\n            <strong>");pushT(this.title,this);T.push("</strong>\n            <p>");pushT(this.location,this);T.push("</p>\n            <p>");pushT(this.description,this);T.push("</p>\n        ")}T.push("        \n         </div>\n        \n        ");if(($i+1)%4==0){T.push("\n        <div style='margin-top:8em;clear:both;'>\n        <br/>\n        </div>\n        ")}T.push("\n        \n        ")}});T.push("\n    </div>      \n    \n</div>\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/pages/home.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("");T._=$.env("templates")+"html/base.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n    \n");(function(){var name="title",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\nRecords of Existence\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n\n");(function(){var name="main",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n<div class=\"span-17 column first\">\n    <div id='welcome'>\n        <h3>welcome</h3>\n        <div class='span-4 push-2 column first colborder'>\n            <img src='");pushT($.env("root")+"images/goldrecord.png",this);T.push("' \n                 alt='records of existence'\n                 style='float:right;'/>\n        </div>\n        <div class='span-9 column last'>\n            <p>\n                 Records of Existence is an artist run label of \n                 underground independent artists.  We specialize \n                 in doing limited edition Hand-Printed and \n                 Hand-Assembled releases to make the release \n                 as unique as the artists.  \n            </p>\n        </div>\n    </div>\n    <div id='recentnews' >\n        <h3>recent <a href='");pushT($.env("root")+"news",this);T.push("'>news</a></h3>\n        <ul class='roe_recent_news'>\n            ");jQuery.each(news,function($i){with(this){T.push("\n            <li>\n               <h4>");pushT(this.title,this);T.push("<br/><em>");pushT(this.date,this);T.push("</em></h4>\n               <p>");pushT(this.description,this);T.push("</p>\n            </li>\n           ")}});T.push("\n        </ul>\n        <a href='");pushT($.env("root")+"news",this);T.push("'>news archives</a>\n    </div>\n</div>\n<div class=\"span-6 column last\">\n    <div id='newreleases'>\n        <h3>new <a href='");pushT($.env("root")+"releases",this);T.push("'>releases</a></h3>\n        <ul>\n            ");jQuery.each(recent,function($i){with(this){T.push("\n            <li>\n                <a href='");pushT($.env("root")+"release/"+this.$id,this);T.push("'>\n                    <span class='small'>");pushT(this.name,this);T.push("</span>\n                    <img src='");pushT($.env("data")+this.image,this);T.push("'\n                         alt='");pushT(this.name,this);T.push("'\n                         height='80px'\n                    />\n                </a>\n                <p>");pushT(this.description.substring(0,128)+"...",this);T.push("</p>\n                <br/>\n            </li>\n            ")}});T.push("\n         </ul>\n    </div>\n    <div id='upcomingevents'>\n        <h3>upcoming <a href='");pushT($.env("root")+"events",this);T.push("'>events</a></h3>\n        <p><em>click on an event for more information</em></p>\n        <ul>\n            ");jQuery.each(events,function($i){with(this){T.push("\n            <li>\n                <h6 style='color:white;'>");pushT(this.date,this);T.push("</h6>\n                <a href='");pushT($.env("root")+"events",this);T.push("'>\n                    <img\n                        src='");pushT($.env("data")+this.image,this);T.push("'\n                        alt='");pushT(this.title+"  "+this.location,this);T.push("'\n                        title='");pushT(this.title+"  "+this.location,this);T.push("'\n                        height='30px'\n                    />\n                    <span class='small'>");pushT(this.title,this);T.push("</span>\n                </a>\n            </li>\n            ")}});T.push("\n         </ul>\n    </div>\n</div>\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/pages/news.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;
_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("");T._=$.env("templates")+"html/base.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n\n");(function(){var name="title",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\nRecords of Existence News\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n\n");(function(){var name="main",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n<div id='news' >\n    <h3>news archives</h3>\n    \n    ");if(admin){T.push("\n    <div style='clear:both;text-align:center;'>\n        <span  class=\"ss_sprite  ss_add\">\n            <a href='");pushT($.env("root")+"admin/add/news/",this);T.push("'>\n            Add news\n            </a>\n        </span><br/>\n        <a id='show_deleted'\n           href='#show/deleted'>\n           show deleted news\n        </a>\n        <span> | </span>\n        <a id='hide_deleted'\n           href='#hide/deleted'>\n           hide deleted news\n        </a>\n    </div>\n    ")}T.push(" \n\n    ");jQuery.each(news,function($i){with(this){T.push("\n    <div class='");pushT((this.deleted.length?"deleted":""),this);T.push("'>\n    ");if(admin){T.push("\n        ");T.include=true;T._=$.env("templates")+"html/forms/news.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n    ")}else{T.push("\n        <h4>");pushT(this.title,this);T.push("</h4> \n        <p>\n            <strong>");pushT(this.date,this);T.push("</strong> \n            <br/>\n            <span>");pushT(this.description,this);T.push("</span>\n        </p>\n    ")}T.push("\n    </div>\n    ")}});T.push("\n</div>\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/pages/release.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("");T._=$.env("templates")+"html/base.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n\n");(function(){var name="title",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\nRecords of Existence Release ");pushT(release.name,this);T.push("\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n\n");(function(){var name="main",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n<div id='release'>\n\n    <h3><a href='");pushT($.env("root")+"releases",this);T.push("'>&lt; releases</a></h3>\n    ");if(admin){T.push("\n        ");T.include=true;T._=$.env("templates")+"html/forms/release.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n    ")}else{T.push("\n    <div class='first column span-5 colborder'>\n        <br/><br/>\n        <h4>");pushT(release.name,this);T.push("</h4>\n        <h5>\n            <a href='");pushT($.env("root")+"artist/"+artist.$id,this);T.push("'>\n                ");pushT(artist.name,this);T.push("\n            </a>\n        </h5>\n        <em>Release</em><br/>\n        <span>");pushT(release.label_id,this);T.push("</span> \n        <br/><br/>\n    </div>\n     \n    <div id='cover' \n         class='column span-6 colborder'>\n        <img src='");pushT($.env("data")+release.image,this);T.push("' \n             alt='release image'  \n             height='150px'\n        />\n    </div>\n    <div id='media' \n         class='column span-9'>\n        <ol class='clear'>\n            ");jQuery.each(release.tracks,function(i,title){with(this){T.push("\n            <li>\n                <a target='_blank'\n                    href='");pushT($.env("data")+"releases/"+release.$id+"/web/mp3/"+title.substring(0,2)+".mp3",this);
T.push("'>\n                    ");pushT(title,this);T.push("\n                    <img src='");pushT($.env("root")+"images/audio_bullet.gif",this);T.push("'/>\n                </a>\n            </li>\n            ")}});T.push("\n        </ol>\n    </div>\n    \n    <div class='column span-18 push-3' >\n        <p>");pushT(release.description,this);T.push("</p>\n    </div>\n    ")}T.push("\n    \n    <div  class='column span-22'>\n        <h3> pressings </h3>\n        ");if(admin){T.push("\n            ");jQuery.each(pressings,function($i){with(this){T.push("\n            ");T.include=true;T._=$.env("templates")+"html/forms/pressing.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("    \n            ")}});T.push("\n            <div style='clear:both;text-align:center;'>\n                <span  class= \"ss_sprite  ss_add\" >\n                    <a href='");pushT($.env("root"),this);T.push("admin/add/pressings/?release=");pushT(release.$id,this);T.push("'>\n                        Add a new pressing\n                    </a>\n                </span>\n            </div>\n        ")}else{T.push("\n            ");jQuery.each(pressings,function($i){with(this){T.push("\n            <div class='pressing span-16'>\n                <div class='first column span-13 prepend-2 colborder'>\n                    <p>");pushT(this.description,this);T.push("</p> \n                </div>\n            </div>\n            <div class='last column small box span-4'>\n                ");T.include=true;T._=$.env("templates")+"html/forms/paypal.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n            </div>  \n            ")}});T.push("\n        ")}T.push("\n    </div>\n</div>\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};jQuery.templates[jQuery.env("templates")+"html/pages/releases.tmpl"]=function anonymous(jQuery,$data,$i){var $=jQuery,T=[],asArray=arguments.length>3?arguments[3]:false,partial=arguments.length>4?arguments[4]:false,_=$.tmpl.filters;_.data=T.data=$data;_.$i=T.index=$i||0;T._=null;function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}with($.extend(true,{},_,$data)){try{T.push("");T._=$.env("templates")+"html/base.tmpl";if(T._.match("#")&&(!partial||T.include)){if(!(T._ in $.templates)){$.templates[T._]=$.tmpl($(T._).text())}}else{if(!(T._ in $.templates)&&(!partial||T.include)){$.ajax({url:T._,type:"GET",dataType:"text",async:false,success:function(text){$.templates[T._]=$.tmpl(text)},error:function(xhr,status,e){$.templates[T._]=$.tmpl(xhr.responseText)}})}}if(!partial||T.include){Array.prototype.push.apply(T,$.templates[T._].call(this,jQuery,$.extend({},$data,this),0,true,false))}T._=null;T.push("\n\n");(function(){var name="title",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\nRecords of Existence Releases\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n    \n");(function(){var name="main",tmp,diff1,diff2;if(!T.blocks){T.blocks=$.tmpl.blocks}if(!T.blocks[name]){T.blocks[name]={start:T.length}}var B=(function(){var T=[];function pushT(value,_this,encode){return encode===false?T.push(typeof value==="function"?value.call(_this):value):T.push($.encode(typeof(value)==="function"?value.call(_this):value))}T.push("\n<div id='releases'>\n    <h3>releases</h3>\n    ");if(admin){T.push("\n    <div style='clear:both;text-align:center;'>\n        <span  class=\"ss_sprite  ss_add\">\n            <a href='");pushT($.env("root")+"artists?admin",this);T.push("'>\n            Add release (via artist)\n            </a>\n        </span><br/>\n        <a id='show_deleted'\n           href='#show/deleted'>\n           show deleted releases\n        </a>\n        <span> | </span>\n        <a id='hide_deleted'\n           href='#hide/deleted'>\n           hide deleted releases\n        </a>\n    </div>\n    ")}T.push(" \n    \n    <div class='first column span-7 '>\n        <ul>\n            ");jQuery.each(_(releases).every_third_from(0),function($i){with(this){T.push("\n            <li>\n                <div class='span-7  ");pushT(this.deleted.length?"deleted":"",this);T.push("'>\n                    ");if(admin){T.push('  \n                    \n                        <span class="ss_sprite  ss_comment_edit">\n                            <a href=\'');pushT($.env("root"),this);T.push("release/");pushT(this.$id,this);T.push("?admin'>\n                                | edit release \n                            </a>\n                            <br/>\n                        </span>\n                        \n                        <span class= \"ss_sprite  ss_delete\">\n                            <a href='");pushT($.env("root"),this);T.push("admin/");pushT((this.deleted.length?"restore":"remove"),this);T.push("/releases/");pushT(this.$id,this);T.push("'>\n                                 | ");pushT((this.deleted.length?"restore":"remove"),this);T.push(" release \n                            </a>\n                            <br>\n                        </span>\n                    ")}T.push("\n                    <a href='");pushT($.env("root"),this);T.push("release/");pushT(this.$id,this);T.push("'\n                       style=''>\n                       <img\n                            src='");pushT($.env("data")+this.image,this);T.push("'\n                            alt='");pushT(this.name,this);T.push("' \n                            height='100px'\n                        />\n                        <br/>\n                        <span class='quiet small'>release # ");pushT(this.label_id,this);T.push("</span>\n                    </a>\n                    <strong>");pushT(this.name,this);T.push("</strong>\n                    <br/>\n                    <span>");pushT(this.description.substring(0,128),this);T.push("...</span>\n                </div>\n            </li>\n            ")}});T.push('\n        </ul>\n    </div>\n    <div class="column span-7">\n        <ul>\n            ');jQuery.each(_(releases).every_third_from(1),function($i){with(this){T.push("\n            <li>\n                <div class='span-7  ");
pushT(this.deleted.length?"deleted":"",this);T.push("'>\n                    ");if(admin){T.push('  \n                    \n                        <span class="ss_sprite  ss_comment_edit">\n                            <a href=\'');pushT($.env("root"),this);T.push("release/");pushT(this.$id,this);T.push("?admin'>\n                                | edit release \n                            </a>\n                            <br/>\n                        </span>\n                        \n                        <span class= \"ss_sprite  ss_delete\">\n                            <a href='");pushT($.env("root"),this);T.push("admin/");pushT((this.deleted.length?"restore":"remove"),this);T.push("/releases/");pushT(this.$id,this);T.push("'>\n                                 | ");pushT((this.deleted.length?"restore":"remove"),this);T.push(" release \n                            </a>\n                            <br/>\n                        </span>\n                    ")}T.push("\n                    <a href='");pushT($.env("root"),this);T.push("release/");pushT(this.$id,this);T.push("'\n                       style=''>\n                       <img\n                            src='");pushT($.env("data")+this.image,this);T.push("'\n                            alt='");pushT(this.name,this);T.push("' \n                            height='100px'\n                        />\n                        <br/>\n                        <span class='quiet small'>release # ");pushT(this.label_id,this);T.push("</span>\n                    </a>\n                    <strong>");pushT(this.name,this);T.push("</strong>\n                    <br/>\n                    <span>");pushT(this.description.substring(0,128),this);T.push("...</span>\n                </div>\n            </li>\n            ")}});T.push("\n        </ul>\n    </div>\n    <div class='last column span-7'>\n        <ul>\n            ");jQuery.each(_(releases).every_third_from(2),function($i){with(this){T.push("\n            <li>\n                <div class='span-7  ");pushT(this.deleted.length?"deleted":"",this);T.push("'>\n                    ");if(admin){T.push('  \n                    \n                        <span class="ss_sprite  ss_comment_edit">\n                            <a href=\'');pushT($.env("root"),this);T.push("release/");pushT(this.$id,this);T.push("?admin'>\n                                | edit release \n                            </a>\n                            <br/>\n                        </span>\n                        \n                        <span class= \"ss_sprite  ss_delete\">\n                            <a href='");pushT($.env("root"),this);T.push("admin/");pushT((this.deleted.length?"restore":"remove"),this);T.push("/releases/");pushT(this.$id,this);T.push("'>\n                                 | ");pushT((this.deleted.length?"restore":"remove"),this);T.push(" release \n                            </a>\n                            <br/>\n                        </span>\n                    ")}T.push("\n                    <a href='");pushT($.env("root"),this);T.push("release/");pushT(this.$id,this);T.push("'\n                       style=''>\n                       <img\n                            src='");pushT($.env("data")+this.image,this);T.push("'\n                            alt='");pushT(this.name,this);T.push("' \n                            height='100px'\n                        />\n                        <br/>\n                        <span class='quiet small'>release # ");pushT(this.label_id,this);T.push("</span>\n                    </a>\n                    <strong>");pushT(this.name,this);T.push("</strong>\n                    <br/>\n                    <span>");pushT(this.description.substring(0,128),this);T.push("...</span>\n                </div>\n            </li>\n            ")}});T.push("\n        </ul>\n    </div>\n</div>\n");return T})();diff1=T.blocks[name].end?T.blocks[name].end-T.blocks[name].start:0;Array.prototype.splice.apply(T,[T.blocks[name].start+1,diff1].concat(B));T.blocks[name].end=T.blocks[name].start+B.length;diff2=T.blocks[name].end-T.blocks[name].start;for(tmp in T.blocks){if(T.blocks[tmp].start>T.blocks[name].start){T.blocks[tmp].start+=diff2-diff1;T.blocks[tmp].end+=diff2-diff1}}})();T.push("\n")}catch(e){if($.tmpl.debug){T.push(" "+e+" ")}else{T.push("")}}}_.data=null;return asArray?T:T.join("")};